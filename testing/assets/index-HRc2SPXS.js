(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(r){if(r.ep)return;r.ep=!0;const l=i(r);fetch(r.href,l)}})();function qa(t){const n=Object.create(null);for(const i of t.split(","))n[i]=1;return i=>i in n}const oe={},rs=[],Tn=()=>{},Iu=()=>!1,pr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ga=t=>t.startsWith("onUpdate:"),Be=Object.assign,Ka=(t,n)=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)},kf=Object.prototype.hasOwnProperty,Qt=(t,n)=>kf.call(t,n),Pt=Array.isArray,as=t=>so(t)==="[object Map]",_s=t=>so(t)==="[object Set]",uc=t=>so(t)==="[object Date]",Mt=t=>typeof t=="function",we=t=>typeof t=="string",In=t=>typeof t=="symbol",re=t=>t!==null&&typeof t=="object",Lu=t=>(re(t)||Mt(t))&&Mt(t.then)&&Mt(t.catch),Au=Object.prototype.toString,so=t=>Au.call(t),Tf=t=>so(t).slice(8,-1),Mu=t=>so(t)==="[object Object]",mr=t=>we(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,zs=qa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_r=t=>{const n=Object.create(null);return(i=>n[i]||(n[i]=t(i)))},If=/-\w/g,un=_r(t=>t.replace(If,n=>n.slice(1).toUpperCase())),Lf=/\B([A-Z])/g,Ni=_r(t=>t.replace(Lf,"-$1").toLowerCase()),gr=_r(t=>t.charAt(0).toUpperCase()+t.slice(1)),la=_r(t=>t?`on${gr(t)}`:""),hi=(t,n)=>!Object.is(t,n),qo=(t,...n)=>{for(let i=0;i<t.length;i++)t[i](...n)},Ru=(t,n,i,o=!1)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,writable:o,value:i})},vr=t=>{const n=parseFloat(t);return isNaN(n)?t:n};let hc;const yr=()=>hc||(hc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Gs(t){if(Pt(t)){const n={};for(let i=0;i<t.length;i++){const o=t[i],r=we(o)?Of(o):Gs(o);if(r)for(const l in r)n[l]=r[l]}return n}else if(we(t)||re(t))return t}const Af=/;(?![^(]*\))/g,Mf=/:([^]+)/,Rf=/\/\*[^]*?\*\//g;function Of(t){const n={};return t.replace(Rf,"").split(Af).forEach(i=>{if(i){const o=i.split(Mf);o.length>1&&(n[o[0].trim()]=o[1].trim())}}),n}function fe(t){let n="";if(we(t))n=t;else if(Pt(t))for(let i=0;i<t.length;i++){const o=fe(t[i]);o&&(n+=o+" ")}else if(re(t))for(const i in t)t[i]&&(n+=i+" ");return n.trim()}const Df="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Nf=qa(Df);function Ou(t){return!!t||t===""}function Bf(t,n){if(t.length!==n.length)return!1;let i=!0;for(let o=0;i&&o<t.length;o++)i=oo(t[o],n[o]);return i}function oo(t,n){if(t===n)return!0;let i=uc(t),o=uc(n);if(i||o)return i&&o?t.getTime()===n.getTime():!1;if(i=In(t),o=In(n),i||o)return t===n;if(i=Pt(t),o=Pt(n),i||o)return i&&o?Bf(t,n):!1;if(i=re(t),o=re(n),i||o){if(!i||!o)return!1;const r=Object.keys(t).length,l=Object.keys(n).length;if(r!==l)return!1;for(const c in t){const h=t.hasOwnProperty(c),f=n.hasOwnProperty(c);if(h&&!f||!h&&f||!oo(t[c],n[c]))return!1}}return String(t)===String(n)}function Ja(t,n){return t.findIndex(i=>oo(i,n))}const Du=t=>!!(t&&t.__v_isRef===!0),J=t=>we(t)?t:t==null?"":Pt(t)||re(t)&&(t.toString===Au||!Mt(t.toString))?Du(t)?J(t.value):JSON.stringify(t,Nu,2):String(t),Nu=(t,n)=>Du(n)?Nu(t,n.value):as(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((i,[o,r],l)=>(i[ca(o,l)+" =>"]=r,i),{})}:_s(n)?{[`Set(${n.size})`]:[...n.values()].map(i=>ca(i))}:In(n)?ca(n):re(n)&&!Pt(n)&&!Mu(n)?String(n):n,ca=(t,n="")=>{var i;return In(t)?`Symbol(${(i=t.description)!=null?i:n})`:t};let Me;class Bu{constructor(n=!1){this.detached=n,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Me,!n&&Me&&(this.index=(Me.scopes||(Me.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let n,i;if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].pause();for(n=0,i=this.effects.length;n<i;n++)this.effects[n].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let n,i;if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].resume();for(n=0,i=this.effects.length;n<i;n++)this.effects[n].resume()}}run(n){if(this._active){const i=Me;try{return Me=this,n()}finally{Me=i}}}on(){++this._on===1&&(this.prevScope=Me,Me=this)}off(){this._on>0&&--this._on===0&&(Me=this.prevScope,this.prevScope=void 0)}stop(n){if(this._active){this._active=!1;let i,o;for(i=0,o=this.effects.length;i<o;i++)this.effects[i].stop();for(this.effects.length=0,i=0,o=this.cleanups.length;i<o;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,o=this.scopes.length;i<o;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!n){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Fu(t){return new Bu(t)}function zu(){return Me}function Ff(t,n=!1){Me&&Me.cleanups.push(t)}let le;const ua=new WeakSet;class $u{constructor(n){this.fn=n,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Me&&Me.active&&Me.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ua.has(this)&&(ua.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Hu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,dc(this),Zu(this);const n=le,i=_n;le=this,_n=!0;try{return this.fn()}finally{Wu(this),le=n,_n=i,this.flags&=-3}}stop(){if(this.flags&1){for(let n=this.deps;n;n=n.nextDep)Qa(n);this.deps=this.depsTail=void 0,dc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ua.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ka(this)&&this.run()}get dirty(){return ka(this)}}let Uu=0,$s,Us;function Hu(t,n=!1){if(t.flags|=8,n){t.next=Us,Us=t;return}t.next=$s,$s=t}function Xa(){Uu++}function Ya(){if(--Uu>0)return;if(Us){let n=Us;for(Us=void 0;n;){const i=n.next;n.next=void 0,n.flags&=-9,n=i}}let t;for(;$s;){let n=$s;for($s=void 0;n;){const i=n.next;if(n.next=void 0,n.flags&=-9,n.flags&1)try{n.trigger()}catch(o){t||(t=o)}n=i}}if(t)throw t}function Zu(t){for(let n=t.deps;n;n=n.nextDep)n.version=-1,n.prevActiveLink=n.dep.activeLink,n.dep.activeLink=n}function Wu(t){let n,i=t.depsTail,o=i;for(;o;){const r=o.prevDep;o.version===-1?(o===i&&(i=r),Qa(o),zf(o)):n=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=r}t.deps=n,t.depsTail=i}function ka(t){for(let n=t.deps;n;n=n.nextDep)if(n.dep.version!==n.version||n.dep.computed&&(ju(n.dep.computed)||n.dep.version!==n.version))return!0;return!!t._dirty}function ju(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ks)||(t.globalVersion=Ks,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!ka(t))))return;t.flags|=2;const n=t.dep,i=le,o=_n;le=t,_n=!0;try{Zu(t);const r=t.fn(t._value);(n.version===0||hi(r,t._value))&&(t.flags|=128,t._value=r,n.version++)}catch(r){throw n.version++,r}finally{le=i,_n=o,Wu(t),t.flags&=-3}}function Qa(t,n=!1){const{dep:i,prevSub:o,nextSub:r}=t;if(o&&(o.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=o,t.nextSub=void 0),i.subs===t&&(i.subs=o,!o&&i.computed)){i.computed.flags&=-5;for(let l=i.computed.deps;l;l=l.nextDep)Qa(l,!0)}!n&&!--i.sc&&i.map&&i.map.delete(i.key)}function zf(t){const{prevDep:n,nextDep:i}=t;n&&(n.nextDep=i,t.prevDep=void 0),i&&(i.prevDep=n,t.nextDep=void 0)}let _n=!0;const Vu=[];function Vn(){Vu.push(_n),_n=!1}function qn(){const t=Vu.pop();_n=t===void 0?!0:t}function dc(t){const{cleanup:n}=t;if(t.cleanup=void 0,n){const i=le;le=void 0;try{n()}finally{le=i}}}let Ks=0;class $f{constructor(n,i){this.sub=n,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class tl{constructor(n){this.computed=n,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(n){if(!le||!_n||le===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==le)i=this.activeLink=new $f(le,this),le.deps?(i.prevDep=le.depsTail,le.depsTail.nextDep=i,le.depsTail=i):le.deps=le.depsTail=i,qu(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const o=i.nextDep;o.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=o),i.prevDep=le.depsTail,i.nextDep=void 0,le.depsTail.nextDep=i,le.depsTail=i,le.deps===i&&(le.deps=o)}return i}trigger(n){this.version++,Ks++,this.notify(n)}notify(n){Xa();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{Ya()}}}function qu(t){if(t.dep.sc++,t.sub.flags&4){const n=t.dep.computed;if(n&&!t.dep.subs){n.flags|=20;for(let o=n.deps;o;o=o.nextDep)qu(o)}const i=t.dep.subs;i!==t&&(t.prevSub=i,i&&(i.nextSub=t)),t.dep.subs=t}}const nr=new WeakMap,Ii=Symbol(""),Ta=Symbol(""),Js=Symbol("");function Re(t,n,i){if(_n&&le){let o=nr.get(t);o||nr.set(t,o=new Map);let r=o.get(i);r||(o.set(i,r=new tl),r.map=o,r.key=i),r.track()}}function Hn(t,n,i,o,r,l){const c=nr.get(t);if(!c){Ks++;return}const h=f=>{f&&f.trigger()};if(Xa(),n==="clear")c.forEach(h);else{const f=Pt(t),_=f&&mr(i);if(f&&i==="length"){const m=Number(o);c.forEach((y,b)=>{(b==="length"||b===Js||!In(b)&&b>=m)&&h(y)})}else switch((i!==void 0||c.has(void 0))&&h(c.get(i)),_&&h(c.get(Js)),n){case"add":f?_&&h(c.get("length")):(h(c.get(Ii)),as(t)&&h(c.get(Ta)));break;case"delete":f||(h(c.get(Ii)),as(t)&&h(c.get(Ta)));break;case"set":as(t)&&h(c.get(Ii));break}}Ya()}function Uf(t,n){const i=nr.get(t);return i&&i.get(n)}function Qi(t){const n=Gt(t);return n===t?n:(Re(n,"iterate",Js),on(t)?n:n.map(gn))}function br(t){return Re(t=Gt(t),"iterate",Js),t}function ri(t,n){return Gn(t)?Wn(t)?cs(gn(n)):cs(n):gn(n)}const Hf={__proto__:null,[Symbol.iterator](){return ha(this,Symbol.iterator,t=>ri(this,t))},concat(...t){return Qi(this).concat(...t.map(n=>Pt(n)?Qi(n):n))},entries(){return ha(this,"entries",t=>(t[1]=ri(this,t[1]),t))},every(t,n){return Fn(this,"every",t,n,void 0,arguments)},filter(t,n){return Fn(this,"filter",t,n,i=>i.map(o=>ri(this,o)),arguments)},find(t,n){return Fn(this,"find",t,n,i=>ri(this,i),arguments)},findIndex(t,n){return Fn(this,"findIndex",t,n,void 0,arguments)},findLast(t,n){return Fn(this,"findLast",t,n,i=>ri(this,i),arguments)},findLastIndex(t,n){return Fn(this,"findLastIndex",t,n,void 0,arguments)},forEach(t,n){return Fn(this,"forEach",t,n,void 0,arguments)},includes(...t){return da(this,"includes",t)},indexOf(...t){return da(this,"indexOf",t)},join(t){return Qi(this).join(t)},lastIndexOf(...t){return da(this,"lastIndexOf",t)},map(t,n){return Fn(this,"map",t,n,void 0,arguments)},pop(){return Ms(this,"pop")},push(...t){return Ms(this,"push",t)},reduce(t,...n){return fc(this,"reduce",t,n)},reduceRight(t,...n){return fc(this,"reduceRight",t,n)},shift(){return Ms(this,"shift")},some(t,n){return Fn(this,"some",t,n,void 0,arguments)},splice(...t){return Ms(this,"splice",t)},toReversed(){return Qi(this).toReversed()},toSorted(t){return Qi(this).toSorted(t)},toSpliced(...t){return Qi(this).toSpliced(...t)},unshift(...t){return Ms(this,"unshift",t)},values(){return ha(this,"values",t=>ri(this,t))}};function ha(t,n,i){const o=br(t),r=o[n]();return o!==t&&!on(t)&&(r._next=r.next,r.next=()=>{const l=r._next();return l.done||(l.value=i(l.value)),l}),r}const Zf=Array.prototype;function Fn(t,n,i,o,r,l){const c=br(t),h=c!==t&&!on(t),f=c[n];if(f!==Zf[n]){const y=f.apply(t,l);return h?gn(y):y}let _=i;c!==t&&(h?_=function(y,b){return i.call(this,ri(t,y),b,t)}:i.length>2&&(_=function(y,b){return i.call(this,y,b,t)}));const m=f.call(c,_,o);return h&&r?r(m):m}function fc(t,n,i,o){const r=br(t);let l=i;return r!==t&&(on(t)?i.length>3&&(l=function(c,h,f){return i.call(this,c,h,f,t)}):l=function(c,h,f){return i.call(this,c,ri(t,h),f,t)}),r[n](l,...o)}function da(t,n,i){const o=Gt(t);Re(o,"iterate",Js);const r=o[n](...i);return(r===-1||r===!1)&&wr(i[0])?(i[0]=Gt(i[0]),o[n](...i)):r}function Ms(t,n,i=[]){Vn(),Xa();const o=Gt(t)[n].apply(t,i);return Ya(),qn(),o}const Wf=qa("__proto__,__v_isRef,__isVue"),Gu=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(In));function jf(t){In(t)||(t=String(t));const n=Gt(this);return Re(n,"has",t),n.hasOwnProperty(t)}class Ku{constructor(n=!1,i=!1){this._isReadonly=n,this._isShallow=i}get(n,i,o){if(i==="__v_skip")return n.__v_skip;const r=this._isReadonly,l=this._isShallow;if(i==="__v_isReactive")return!r;if(i==="__v_isReadonly")return r;if(i==="__v_isShallow")return l;if(i==="__v_raw")return o===(r?l?ep:Qu:l?Yu:Xu).get(n)||Object.getPrototypeOf(n)===Object.getPrototypeOf(o)?n:void 0;const c=Pt(n);if(!r){let f;if(c&&(f=Hf[i]))return f;if(i==="hasOwnProperty")return jf}const h=Reflect.get(n,i,_e(n)?n:o);if((In(i)?Gu.has(i):Wf(i))||(r||Re(n,"get",i),l))return h;if(_e(h)){const f=c&&mr(i)?h:h.value;return r&&re(f)?La(f):f}return re(h)?r?La(h):ro(h):h}}class Ju extends Ku{constructor(n=!1){super(!1,n)}set(n,i,o,r){let l=n[i];const c=Pt(n)&&mr(i);if(!this._isShallow){const _=Gn(l);if(!on(o)&&!Gn(o)&&(l=Gt(l),o=Gt(o)),!c&&_e(l)&&!_e(o))return _||(l.value=o),!0}const h=c?Number(i)<n.length:Qt(n,i),f=Reflect.set(n,i,o,_e(n)?n:r);return n===Gt(r)&&(h?hi(o,l)&&Hn(n,"set",i,o):Hn(n,"add",i,o)),f}deleteProperty(n,i){const o=Qt(n,i);n[i];const r=Reflect.deleteProperty(n,i);return r&&o&&Hn(n,"delete",i,void 0),r}has(n,i){const o=Reflect.has(n,i);return(!In(i)||!Gu.has(i))&&Re(n,"has",i),o}ownKeys(n){return Re(n,"iterate",Pt(n)?"length":Ii),Reflect.ownKeys(n)}}class Vf extends Ku{constructor(n=!1){super(!0,n)}set(n,i){return!0}deleteProperty(n,i){return!0}}const qf=new Ju,Gf=new Vf,Kf=new Ju(!0);const Ia=t=>t,Uo=t=>Reflect.getPrototypeOf(t);function Jf(t,n,i){return function(...o){const r=this.__v_raw,l=Gt(r),c=as(l),h=t==="entries"||t===Symbol.iterator&&c,f=t==="keys"&&c,_=r[t](...o),m=i?Ia:n?cs:gn;return!n&&Re(l,"iterate",f?Ta:Ii),{next(){const{value:y,done:b}=_.next();return b?{value:y,done:b}:{value:h?[m(y[0]),m(y[1])]:m(y),done:b}},[Symbol.iterator](){return this}}}}function Ho(t){return function(...n){return t==="delete"?!1:t==="clear"?void 0:this}}function Xf(t,n){const i={get(r){const l=this.__v_raw,c=Gt(l),h=Gt(r);t||(hi(r,h)&&Re(c,"get",r),Re(c,"get",h));const{has:f}=Uo(c),_=n?Ia:t?cs:gn;if(f.call(c,r))return _(l.get(r));if(f.call(c,h))return _(l.get(h));l!==c&&l.get(r)},get size(){const r=this.__v_raw;return!t&&Re(Gt(r),"iterate",Ii),r.size},has(r){const l=this.__v_raw,c=Gt(l),h=Gt(r);return t||(hi(r,h)&&Re(c,"has",r),Re(c,"has",h)),r===h?l.has(r):l.has(r)||l.has(h)},forEach(r,l){const c=this,h=c.__v_raw,f=Gt(h),_=n?Ia:t?cs:gn;return!t&&Re(f,"iterate",Ii),h.forEach((m,y)=>r.call(l,_(m),_(y),c))}};return Be(i,t?{add:Ho("add"),set:Ho("set"),delete:Ho("delete"),clear:Ho("clear")}:{add(r){!n&&!on(r)&&!Gn(r)&&(r=Gt(r));const l=Gt(this);return Uo(l).has.call(l,r)||(l.add(r),Hn(l,"add",r,r)),this},set(r,l){!n&&!on(l)&&!Gn(l)&&(l=Gt(l));const c=Gt(this),{has:h,get:f}=Uo(c);let _=h.call(c,r);_||(r=Gt(r),_=h.call(c,r));const m=f.call(c,r);return c.set(r,l),_?hi(l,m)&&Hn(c,"set",r,l):Hn(c,"add",r,l),this},delete(r){const l=Gt(this),{has:c,get:h}=Uo(l);let f=c.call(l,r);f||(r=Gt(r),f=c.call(l,r)),h&&h.call(l,r);const _=l.delete(r);return f&&Hn(l,"delete",r,void 0),_},clear(){const r=Gt(this),l=r.size!==0,c=r.clear();return l&&Hn(r,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(r=>{i[r]=Jf(r,t,n)}),i}function el(t,n){const i=Xf(t,n);return(o,r,l)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?o:Reflect.get(Qt(i,r)&&r in o?i:o,r,l)}const Yf={get:el(!1,!1)},Qf={get:el(!1,!0)},tp={get:el(!0,!1)};const Xu=new WeakMap,Yu=new WeakMap,Qu=new WeakMap,ep=new WeakMap;function np(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ip(t){return t.__v_skip||!Object.isExtensible(t)?0:np(Tf(t))}function ro(t){return Gn(t)?t:nl(t,!1,qf,Yf,Xu)}function th(t){return nl(t,!1,Kf,Qf,Yu)}function La(t){return nl(t,!0,Gf,tp,Qu)}function nl(t,n,i,o,r){if(!re(t)||t.__v_raw&&!(n&&t.__v_isReactive))return t;const l=ip(t);if(l===0)return t;const c=r.get(t);if(c)return c;const h=new Proxy(t,l===2?o:i);return r.set(t,h),h}function Wn(t){return Gn(t)?Wn(t.__v_raw):!!(t&&t.__v_isReactive)}function Gn(t){return!!(t&&t.__v_isReadonly)}function on(t){return!!(t&&t.__v_isShallow)}function wr(t){return t?!!t.__v_raw:!1}function Gt(t){const n=t&&t.__v_raw;return n?Gt(n):t}function il(t){return!Qt(t,"__v_skip")&&Object.isExtensible(t)&&Ru(t,"__v_skip",!0),t}const gn=t=>re(t)?ro(t):t,cs=t=>re(t)?La(t):t;function _e(t){return t?t.__v_isRef===!0:!1}function H(t){return eh(t,!1)}function sp(t){return eh(t,!0)}function eh(t,n){return _e(t)?t:new op(t,n)}class op{constructor(n,i){this.dep=new tl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?n:Gt(n),this._value=i?n:gn(n),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(n){const i=this._rawValue,o=this.__v_isShallow||on(n)||Gn(n);n=o?n:Gt(n),hi(n,i)&&(this._rawValue=n,this._value=o?n:gn(n),this.dep.trigger())}}function di(t){return _e(t)?t.value:t}const rp={get:(t,n,i)=>n==="__v_raw"?t:di(Reflect.get(t,n,i)),set:(t,n,i,o)=>{const r=t[n];return _e(r)&&!_e(i)?(r.value=i,!0):Reflect.set(t,n,i,o)}};function nh(t){return Wn(t)?t:new Proxy(t,rp)}function ap(t){const n=Pt(t)?new Array(t.length):{};for(const i in t)n[i]=cp(t,i);return n}class lp{constructor(n,i,o){this._object=n,this._key=i,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0,this._raw=Gt(n);let r=!0,l=n;if(!Pt(n)||!mr(String(i)))do r=!wr(l)||on(l);while(r&&(l=l.__v_raw));this._shallow=r}get value(){let n=this._object[this._key];return this._shallow&&(n=di(n)),this._value=n===void 0?this._defaultValue:n}set value(n){if(this._shallow&&_e(this._raw[this._key])){const i=this._object[this._key];if(_e(i)){i.value=n;return}}this._object[this._key]=n}get dep(){return Uf(this._raw,this._key)}}function cp(t,n,i){return new lp(t,n,i)}class up{constructor(n,i,o){this.fn=n,this.setter=i,this._value=void 0,this.dep=new tl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ks-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&le!==this)return Hu(this,!0),!0}get value(){const n=this.dep.track();return ju(this),n&&(n.version=this.dep.version),this._value}set value(n){this.setter&&this.setter(n)}}function hp(t,n,i=!1){let o,r;return Mt(t)?o=t:(o=t.get,r=t.set),new up(o,r,i)}const Zo={},ir=new WeakMap;let Ei;function dp(t,n=!1,i=Ei){if(i){let o=ir.get(i);o||ir.set(i,o=[]),o.push(t)}}function fp(t,n,i=oe){const{immediate:o,deep:r,once:l,scheduler:c,augmentJob:h,call:f}=i,_=Q=>r?Q:on(Q)||r===!1||r===0?Zn(Q,1):Zn(Q);let m,y,b,P,k=!1,A=!1;if(_e(t)?(y=()=>t.value,k=on(t)):Wn(t)?(y=()=>_(t),k=!0):Pt(t)?(A=!0,k=t.some(Q=>Wn(Q)||on(Q)),y=()=>t.map(Q=>{if(_e(Q))return Q.value;if(Wn(Q))return _(Q);if(Mt(Q))return f?f(Q,2):Q()})):Mt(t)?n?y=f?()=>f(t,2):t:y=()=>{if(b){Vn();try{b()}finally{qn()}}const Q=Ei;Ei=m;try{return f?f(t,3,[P]):t(P)}finally{Ei=Q}}:y=Tn,n&&r){const Q=y,q=r===!0?1/0:r;y=()=>Zn(Q(),q)}const B=zu(),Y=()=>{m.stop(),B&&B.active&&Ka(B.effects,m)};if(l&&n){const Q=n;n=(...q)=>{Q(...q),Y()}}let X=A?new Array(t.length).fill(Zo):Zo;const G=Q=>{if(!(!(m.flags&1)||!m.dirty&&!Q))if(n){const q=m.run();if(r||k||(A?q.some((K,lt)=>hi(K,X[lt])):hi(q,X))){b&&b();const K=Ei;Ei=m;try{const lt=[q,X===Zo?void 0:A&&X[0]===Zo?[]:X,P];X=q,f?f(n,3,lt):n(...lt)}finally{Ei=K}}}else m.run()};return h&&h(G),m=new $u(y),m.scheduler=c?()=>c(G,!1):G,P=Q=>dp(Q,!1,m),b=m.onStop=()=>{const Q=ir.get(m);if(Q){if(f)f(Q,4);else for(const q of Q)q();ir.delete(m)}},n?o?G(!0):X=m.run():c?c(G.bind(null,!0),!0):m.run(),Y.pause=m.pause.bind(m),Y.resume=m.resume.bind(m),Y.stop=Y,Y}function Zn(t,n=1/0,i){if(n<=0||!re(t)||t.__v_skip||(i=i||new Map,(i.get(t)||0)>=n))return t;if(i.set(t,n),n--,_e(t))Zn(t.value,n,i);else if(Pt(t))for(let o=0;o<t.length;o++)Zn(t[o],n,i);else if(_s(t)||as(t))t.forEach(o=>{Zn(o,n,i)});else if(Mu(t)){for(const o in t)Zn(t[o],n,i);for(const o of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,o)&&Zn(t[o],n,i)}return t}function ao(t,n,i,o){try{return o?t(...o):t()}catch(r){Cr(r,n,i)}}function Ln(t,n,i,o){if(Mt(t)){const r=ao(t,n,i,o);return r&&Lu(r)&&r.catch(l=>{Cr(l,n,i)}),r}if(Pt(t)){const r=[];for(let l=0;l<t.length;l++)r.push(Ln(t[l],n,i,o));return r}}function Cr(t,n,i,o=!0){const r=n?n.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:c}=n&&n.appContext.config||oe;if(n){let h=n.parent;const f=n.proxy,_=`https://vuejs.org/error-reference/#runtime-${i}`;for(;h;){const m=h.ec;if(m){for(let y=0;y<m.length;y++)if(m[y](t,f,_)===!1)return}h=h.parent}if(l){Vn(),ao(l,null,10,[t,f,_]),qn();return}}pp(t,i,r,o,c)}function pp(t,n,i,o=!0,r=!1){if(r)throw t;console.error(t)}const qe=[];let Pn=-1;const ls=[];let ai=null,ns=0;const ih=Promise.resolve();let sr=null;function Sr(t){const n=sr||ih;return t?n.then(this?t.bind(this):t):n}function mp(t){let n=Pn+1,i=qe.length;for(;n<i;){const o=n+i>>>1,r=qe[o],l=Xs(r);l<t||l===t&&r.flags&2?n=o+1:i=o}return n}function sl(t){if(!(t.flags&1)){const n=Xs(t),i=qe[qe.length-1];!i||!(t.flags&2)&&n>=Xs(i)?qe.push(t):qe.splice(mp(n),0,t),t.flags|=1,sh()}}function sh(){sr||(sr=ih.then(rh))}function _p(t){Pt(t)?ls.push(...t):ai&&t.id===-1?ai.splice(ns+1,0,t):t.flags&1||(ls.push(t),t.flags|=1),sh()}function pc(t,n,i=Pn+1){for(;i<qe.length;i++){const o=qe[i];if(o&&o.flags&2){if(t&&o.id!==t.uid)continue;qe.splice(i,1),i--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function oh(t){if(ls.length){const n=[...new Set(ls)].sort((i,o)=>Xs(i)-Xs(o));if(ls.length=0,ai){ai.push(...n);return}for(ai=n,ns=0;ns<ai.length;ns++){const i=ai[ns];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}ai=null,ns=0}}const Xs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function rh(t){try{for(Pn=0;Pn<qe.length;Pn++){const n=qe[Pn];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),ao(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;Pn<qe.length;Pn++){const n=qe[Pn];n&&(n.flags&=-2)}Pn=-1,qe.length=0,oh(),sr=null,(qe.length||ls.length)&&rh()}}let en=null,ah=null;function or(t){const n=en;return en=t,ah=t&&t.type.__scopeId||null,n}function ol(t,n=en,i){if(!n||t._n)return t;const o=(...r)=>{o._d&&lr(-1);const l=or(n);let c;try{c=t(...r)}finally{or(l),o._d&&lr(1)}return c};return o._n=!0,o._c=!0,o._d=!0,o}function Zt(t,n){if(en===null)return t;const i=kr(en),o=t.dirs||(t.dirs=[]);for(let r=0;r<n.length;r++){let[l,c,h,f=oe]=n[r];l&&(Mt(l)&&(l={mounted:l,updated:l}),l.deep&&Zn(c),o.push({dir:l,instance:i,value:c,oldValue:void 0,arg:h,modifiers:f}))}return t}function Si(t,n,i,o){const r=t.dirs,l=n&&n.dirs;for(let c=0;c<r.length;c++){const h=r[c];l&&(h.oldValue=l[c].value);let f=h.dir[o];f&&(Vn(),Ln(f,i,8,[t.el,h,t,n]),qn())}}function Go(t,n){if(De){let i=De.provides;const o=De.parent&&De.parent.provides;o===i&&(i=De.provides=Object.create(o)),i[t]=n}}function ln(t,n,i=!1){const o=Mh();if(o||Li){let r=Li?Li._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return i&&Mt(n)?n.call(o&&o.proxy):n}}function gp(){return!!(Mh()||Li)}const vp=Symbol.for("v-scx"),yp=()=>ln(vp);function cn(t,n,i){return lh(t,n,i)}function lh(t,n,i=oe){const{immediate:o,deep:r,flush:l,once:c}=i,h=Be({},i),f=n&&o||!n&&l!=="post";let _;if(Qs){if(l==="sync"){const P=yp();_=P.__watcherHandles||(P.__watcherHandles=[])}else if(!f){const P=()=>{};return P.stop=Tn,P.resume=Tn,P.pause=Tn,P}}const m=De;h.call=(P,k,A)=>Ln(P,m,k,A);let y=!1;l==="post"?h.scheduler=P=>{tn(P,m&&m.suspense)}:l!=="sync"&&(y=!0,h.scheduler=(P,k)=>{k?P():sl(P)}),h.augmentJob=P=>{n&&(P.flags|=4),y&&(P.flags|=2,m&&(P.id=m.uid,P.i=m))};const b=fp(t,n,h);return Qs&&(_?_.push(b):f&&b()),b}function bp(t,n,i){const o=this.proxy,r=we(t)?t.includes(".")?ch(o,t):()=>o[t]:t.bind(o,o);let l;Mt(n)?l=n:(l=n.handler,i=n);const c=co(this),h=lh(r,l.bind(o),i);return c(),h}function ch(t,n){const i=n.split(".");return()=>{let o=t;for(let r=0;r<i.length&&o;r++)o=o[i[r]];return o}}const wp=Symbol("_vte"),Cp=t=>t.__isTeleport,Sp=Symbol("_leaveCb");function rl(t,n){t.shapeFlag&6&&t.component?(t.transition=n,rl(t.component.subTree,n)):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}function uh(t,n){return Mt(t)?Be({name:t.name},n,{setup:t}):t}function hh(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const rr=new WeakMap;function Hs(t,n,i,o,r=!1){if(Pt(t)){t.forEach((k,A)=>Hs(k,n&&(Pt(n)?n[A]:n),i,o,r));return}if(Zs(o)&&!r){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Hs(t,n,i,o.component.subTree);return}const l=o.shapeFlag&4?kr(o.component):o.el,c=r?null:l,{i:h,r:f}=t,_=n&&n.r,m=h.refs===oe?h.refs={}:h.refs,y=h.setupState,b=Gt(y),P=y===oe?Iu:k=>Qt(b,k);if(_!=null&&_!==f){if(mc(n),we(_))m[_]=null,P(_)&&(y[_]=null);else if(_e(_)){_.value=null;const k=n;k.k&&(m[k.k]=null)}}if(Mt(f))ao(f,h,12,[c,m]);else{const k=we(f),A=_e(f);if(k||A){const B=()=>{if(t.f){const Y=k?P(f)?y[f]:m[f]:f.value;if(r)Pt(Y)&&Ka(Y,l);else if(Pt(Y))Y.includes(l)||Y.push(l);else if(k)m[f]=[l],P(f)&&(y[f]=m[f]);else{const X=[l];f.value=X,t.k&&(m[t.k]=X)}}else k?(m[f]=c,P(f)&&(y[f]=c)):A&&(f.value=c,t.k&&(m[t.k]=c))};if(c){const Y=()=>{B(),rr.delete(t)};Y.id=-1,rr.set(t,Y),tn(Y,i)}else mc(t),B()}}}function mc(t){const n=rr.get(t);n&&(n.flags|=8,rr.delete(t))}yr().requestIdleCallback;yr().cancelIdleCallback;const Zs=t=>!!t.type.__asyncLoader,dh=t=>t.type.__isKeepAlive;function xp(t,n){fh(t,"a",n)}function Ep(t,n){fh(t,"da",n)}function fh(t,n,i=De){const o=t.__wdc||(t.__wdc=()=>{let r=i;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(xr(n,o,i),i){let r=i.parent;for(;r&&r.parent;)dh(r.parent.vnode)&&Pp(o,n,i,r),r=r.parent}}function Pp(t,n,i,o){const r=xr(n,t,o,!0);al(()=>{Ka(o[n],r)},i)}function xr(t,n,i=De,o=!1){if(i){const r=i[t]||(i[t]=[]),l=n.__weh||(n.__weh=(...c)=>{Vn();const h=co(i),f=Ln(n,i,t,c);return h(),qn(),f});return o?r.unshift(l):r.push(l),l}}const Kn=t=>(n,i=De)=>{(!Qs||t==="sp")&&xr(t,(...o)=>n(...o),i)},kp=Kn("bm"),lo=Kn("m"),Tp=Kn("bu"),Ip=Kn("u"),Lp=Kn("bum"),al=Kn("um"),Ap=Kn("sp"),Mp=Kn("rtg"),Rp=Kn("rtc");function Op(t,n=De){xr("ec",t,n)}const Dp="components";function ll(t,n){return Bp(Dp,t,!0,n)||t}const Np=Symbol.for("v-ndc");function Bp(t,n,i=!0,o=!1){const r=en||De;if(r){const l=r.type;{const h=Cm(l,!1);if(h&&(h===n||h===un(n)||h===gr(un(n))))return l}const c=_c(r[t]||l[t],n)||_c(r.appContext[t],n);return!c&&o?l:c}}function _c(t,n){return t&&(t[n]||t[un(n)]||t[gr(un(n))])}function Le(t,n,i,o){let r;const l=i,c=Pt(t);if(c||we(t)){const h=c&&Wn(t);let f=!1,_=!1;h&&(f=!on(t),_=Gn(t),t=br(t)),r=new Array(t.length);for(let m=0,y=t.length;m<y;m++)r[m]=n(f?_?cs(gn(t[m])):gn(t[m]):t[m],m,void 0,l)}else if(typeof t=="number"){r=new Array(t);for(let h=0;h<t;h++)r[h]=n(h+1,h,void 0,l)}else if(re(t))if(t[Symbol.iterator])r=Array.from(t,(h,f)=>n(h,f,void 0,l));else{const h=Object.keys(t);r=new Array(h.length);for(let f=0,_=h.length;f<_;f++){const m=h[f];r[f]=n(t[m],m,f,l)}}else r=[];return r}const Aa=t=>t?Rh(t)?kr(t):Aa(t.parent):null,Ws=Be(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Aa(t.parent),$root:t=>Aa(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>mh(t),$forceUpdate:t=>t.f||(t.f=()=>{sl(t.update)}),$nextTick:t=>t.n||(t.n=Sr.bind(t.proxy)),$watch:t=>bp.bind(t)}),fa=(t,n)=>t!==oe&&!t.__isScriptSetup&&Qt(t,n),Fp={get({_:t},n){if(n==="__v_skip")return!0;const{ctx:i,setupState:o,data:r,props:l,accessCache:c,type:h,appContext:f}=t;if(n[0]!=="$"){const b=c[n];if(b!==void 0)switch(b){case 1:return o[n];case 2:return r[n];case 4:return i[n];case 3:return l[n]}else{if(fa(o,n))return c[n]=1,o[n];if(r!==oe&&Qt(r,n))return c[n]=2,r[n];if(Qt(l,n))return c[n]=3,l[n];if(i!==oe&&Qt(i,n))return c[n]=4,i[n];Ma&&(c[n]=0)}}const _=Ws[n];let m,y;if(_)return n==="$attrs"&&Re(t.attrs,"get",""),_(t);if((m=h.__cssModules)&&(m=m[n]))return m;if(i!==oe&&Qt(i,n))return c[n]=4,i[n];if(y=f.config.globalProperties,Qt(y,n))return y[n]},set({_:t},n,i){const{data:o,setupState:r,ctx:l}=t;return fa(r,n)?(r[n]=i,!0):o!==oe&&Qt(o,n)?(o[n]=i,!0):Qt(t.props,n)||n[0]==="$"&&n.slice(1)in t?!1:(l[n]=i,!0)},has({_:{data:t,setupState:n,accessCache:i,ctx:o,appContext:r,props:l,type:c}},h){let f;return!!(i[h]||t!==oe&&h[0]!=="$"&&Qt(t,h)||fa(n,h)||Qt(l,h)||Qt(o,h)||Qt(Ws,h)||Qt(r.config.globalProperties,h)||(f=c.__cssModules)&&f[h])},defineProperty(t,n,i){return i.get!=null?t._.accessCache[n]=0:Qt(i,"value")&&this.set(t,n,i.value,null),Reflect.defineProperty(t,n,i)}};function gc(t){return Pt(t)?t.reduce((n,i)=>(n[i]=null,n),{}):t}let Ma=!0;function zp(t){const n=mh(t),i=t.proxy,o=t.ctx;Ma=!1,n.beforeCreate&&vc(n.beforeCreate,t,"bc");const{data:r,computed:l,methods:c,watch:h,provide:f,inject:_,created:m,beforeMount:y,mounted:b,beforeUpdate:P,updated:k,activated:A,deactivated:B,beforeDestroy:Y,beforeUnmount:X,destroyed:G,unmounted:Q,render:q,renderTracked:K,renderTriggered:lt,errorCaptured:mt,serverPrefetch:gt,expose:ht,inheritAttrs:W,components:j,directives:vt,filters:Lt}=n;if(_&&$p(_,o,null),c)for(const wt in c){const tt=c[wt];Mt(tt)&&(o[wt]=tt.bind(i))}if(r){const wt=r.call(i,i);re(wt)&&(t.data=ro(wt))}if(Ma=!0,l)for(const wt in l){const tt=l[wt],ee=Mt(tt)?tt.bind(i,i):Mt(tt.get)?tt.get.bind(i,i):Tn,yt=!Mt(tt)&&Mt(tt.set)?tt.set.bind(i):Tn,It=Ee({get:ee,set:yt});Object.defineProperty(o,wt,{enumerable:!0,configurable:!0,get:()=>It.value,set:Nt=>It.value=Nt})}if(h)for(const wt in h)ph(h[wt],o,i,wt);if(f){const wt=Mt(f)?f.call(i):f;Reflect.ownKeys(wt).forEach(tt=>{Go(tt,wt[tt])})}m&&vc(m,t,"c");function bt(wt,tt){Pt(tt)?tt.forEach(ee=>wt(ee.bind(i))):tt&&wt(tt.bind(i))}if(bt(kp,y),bt(lo,b),bt(Tp,P),bt(Ip,k),bt(xp,A),bt(Ep,B),bt(Op,mt),bt(Rp,K),bt(Mp,lt),bt(Lp,X),bt(al,Q),bt(Ap,gt),Pt(ht))if(ht.length){const wt=t.exposed||(t.exposed={});ht.forEach(tt=>{Object.defineProperty(wt,tt,{get:()=>i[tt],set:ee=>i[tt]=ee,enumerable:!0})})}else t.exposed||(t.exposed={});q&&t.render===Tn&&(t.render=q),W!=null&&(t.inheritAttrs=W),j&&(t.components=j),vt&&(t.directives=vt),gt&&hh(t)}function $p(t,n,i=Tn){Pt(t)&&(t=Ra(t));for(const o in t){const r=t[o];let l;re(r)?"default"in r?l=ln(r.from||o,r.default,!0):l=ln(r.from||o):l=ln(r),_e(l)?Object.defineProperty(n,o,{enumerable:!0,configurable:!0,get:()=>l.value,set:c=>l.value=c}):n[o]=l}}function vc(t,n,i){Ln(Pt(t)?t.map(o=>o.bind(n.proxy)):t.bind(n.proxy),n,i)}function ph(t,n,i,o){let r=o.includes(".")?ch(i,o):()=>i[o];if(we(t)){const l=n[t];Mt(l)&&cn(r,l)}else if(Mt(t))cn(r,t.bind(i));else if(re(t))if(Pt(t))t.forEach(l=>ph(l,n,i,o));else{const l=Mt(t.handler)?t.handler.bind(i):n[t.handler];Mt(l)&&cn(r,l,t)}}function mh(t){const n=t.type,{mixins:i,extends:o}=n,{mixins:r,optionsCache:l,config:{optionMergeStrategies:c}}=t.appContext,h=l.get(n);let f;return h?f=h:!r.length&&!i&&!o?f=n:(f={},r.length&&r.forEach(_=>ar(f,_,c,!0)),ar(f,n,c)),re(n)&&l.set(n,f),f}function ar(t,n,i,o=!1){const{mixins:r,extends:l}=n;l&&ar(t,l,i,!0),r&&r.forEach(c=>ar(t,c,i,!0));for(const c in n)if(!(o&&c==="expose")){const h=Up[c]||i&&i[c];t[c]=h?h(t[c],n[c]):n[c]}return t}const Up={data:yc,props:bc,emits:bc,methods:Bs,computed:Bs,beforeCreate:We,created:We,beforeMount:We,mounted:We,beforeUpdate:We,updated:We,beforeDestroy:We,beforeUnmount:We,destroyed:We,unmounted:We,activated:We,deactivated:We,errorCaptured:We,serverPrefetch:We,components:Bs,directives:Bs,watch:Zp,provide:yc,inject:Hp};function yc(t,n){return n?t?function(){return Be(Mt(t)?t.call(this,this):t,Mt(n)?n.call(this,this):n)}:n:t}function Hp(t,n){return Bs(Ra(t),Ra(n))}function Ra(t){if(Pt(t)){const n={};for(let i=0;i<t.length;i++)n[t[i]]=t[i];return n}return t}function We(t,n){return t?[...new Set([].concat(t,n))]:n}function Bs(t,n){return t?Be(Object.create(null),t,n):n}function bc(t,n){return t?Pt(t)&&Pt(n)?[...new Set([...t,...n])]:Be(Object.create(null),gc(t),gc(n??{})):n}function Zp(t,n){if(!t)return n;if(!n)return t;const i=Be(Object.create(null),t);for(const o in n)i[o]=We(t[o],n[o]);return i}function _h(){return{app:null,config:{isNativeTag:Iu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Wp=0;function jp(t,n){return function(o,r=null){Mt(o)||(o=Be({},o)),r!=null&&!re(r)&&(r=null);const l=_h(),c=new WeakSet,h=[];let f=!1;const _=l.app={_uid:Wp++,_component:o,_props:r,_container:null,_context:l,_instance:null,version:xm,get config(){return l.config},set config(m){},use(m,...y){return c.has(m)||(m&&Mt(m.install)?(c.add(m),m.install(_,...y)):Mt(m)&&(c.add(m),m(_,...y))),_},mixin(m){return l.mixins.includes(m)||l.mixins.push(m),_},component(m,y){return y?(l.components[m]=y,_):l.components[m]},directive(m,y){return y?(l.directives[m]=y,_):l.directives[m]},mount(m,y,b){if(!f){const P=_._ceVNode||Wt(o,r);return P.appContext=l,b===!0?b="svg":b===!1&&(b=void 0),t(P,m,b),f=!0,_._container=m,m.__vue_app__=_,kr(P.component)}},onUnmount(m){h.push(m)},unmount(){f&&(Ln(h,_._instance,16),t(null,_._container),delete _._container.__vue_app__)},provide(m,y){return l.provides[m]=y,_},runWithContext(m){const y=Li;Li=_;try{return m()}finally{Li=y}}};return _}}let Li=null;const Vp=(t,n)=>n==="modelValue"||n==="model-value"?t.modelModifiers:t[`${n}Modifiers`]||t[`${un(n)}Modifiers`]||t[`${Ni(n)}Modifiers`];function qp(t,n,...i){if(t.isUnmounted)return;const o=t.vnode.props||oe;let r=i;const l=n.startsWith("update:"),c=l&&Vp(o,n.slice(7));c&&(c.trim&&(r=i.map(m=>we(m)?m.trim():m)),c.number&&(r=i.map(vr)));let h,f=o[h=la(n)]||o[h=la(un(n))];!f&&l&&(f=o[h=la(Ni(n))]),f&&Ln(f,t,6,r);const _=o[h+"Once"];if(_){if(!t.emitted)t.emitted={};else if(t.emitted[h])return;t.emitted[h]=!0,Ln(_,t,6,r)}}const Gp=new WeakMap;function gh(t,n,i=!1){const o=i?Gp:n.emitsCache,r=o.get(t);if(r!==void 0)return r;const l=t.emits;let c={},h=!1;if(!Mt(t)){const f=_=>{const m=gh(_,n,!0);m&&(h=!0,Be(c,m))};!i&&n.mixins.length&&n.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!l&&!h?(re(t)&&o.set(t,null),null):(Pt(l)?l.forEach(f=>c[f]=null):Be(c,l),re(t)&&o.set(t,c),c)}function Er(t,n){return!t||!pr(n)?!1:(n=n.slice(2).replace(/Once$/,""),Qt(t,n[0].toLowerCase()+n.slice(1))||Qt(t,Ni(n))||Qt(t,n))}function wc(t){const{type:n,vnode:i,proxy:o,withProxy:r,propsOptions:[l],slots:c,attrs:h,emit:f,render:_,renderCache:m,props:y,data:b,setupState:P,ctx:k,inheritAttrs:A}=t,B=or(t);let Y,X;try{if(i.shapeFlag&4){const Q=r||o,q=Q;Y=kn(_.call(q,Q,m,y,P,b,k)),X=h}else{const Q=n;Y=kn(Q.length>1?Q(y,{attrs:h,slots:c,emit:f}):Q(y,null)),X=n.props?h:Kp(h)}}catch(Q){js.length=0,Cr(Q,t,1),Y=Wt(fi)}let G=Y;if(X&&A!==!1){const Q=Object.keys(X),{shapeFlag:q}=G;Q.length&&q&7&&(l&&Q.some(Ga)&&(X=Jp(X,l)),G=us(G,X,!1,!0))}return i.dirs&&(G=us(G,null,!1,!0),G.dirs=G.dirs?G.dirs.concat(i.dirs):i.dirs),i.transition&&rl(G,i.transition),Y=G,or(B),Y}const Kp=t=>{let n;for(const i in t)(i==="class"||i==="style"||pr(i))&&((n||(n={}))[i]=t[i]);return n},Jp=(t,n)=>{const i={};for(const o in t)(!Ga(o)||!(o.slice(9)in n))&&(i[o]=t[o]);return i};function Xp(t,n,i){const{props:o,children:r,component:l}=t,{props:c,children:h,patchFlag:f}=n,_=l.emitsOptions;if(n.dirs||n.transition)return!0;if(i&&f>=0){if(f&1024)return!0;if(f&16)return o?Cc(o,c,_):!!c;if(f&8){const m=n.dynamicProps;for(let y=0;y<m.length;y++){const b=m[y];if(c[b]!==o[b]&&!Er(_,b))return!0}}}else return(r||h)&&(!h||!h.$stable)?!0:o===c?!1:o?c?Cc(o,c,_):!0:!!c;return!1}function Cc(t,n,i){const o=Object.keys(n);if(o.length!==Object.keys(t).length)return!0;for(let r=0;r<o.length;r++){const l=o[r];if(n[l]!==t[l]&&!Er(i,l))return!0}return!1}function Yp({vnode:t,parent:n},i){for(;n;){const o=n.subTree;if(o.suspense&&o.suspense.activeBranch===t&&(o.el=t.el),o===t)(t=n.vnode).el=i,n=n.parent;else break}}const vh={},yh=()=>Object.create(vh),bh=t=>Object.getPrototypeOf(t)===vh;function Qp(t,n,i,o=!1){const r={},l=yh();t.propsDefaults=Object.create(null),wh(t,n,r,l);for(const c in t.propsOptions[0])c in r||(r[c]=void 0);i?t.props=o?r:th(r):t.type.props?t.props=r:t.props=l,t.attrs=l}function tm(t,n,i,o){const{props:r,attrs:l,vnode:{patchFlag:c}}=t,h=Gt(r),[f]=t.propsOptions;let _=!1;if((o||c>0)&&!(c&16)){if(c&8){const m=t.vnode.dynamicProps;for(let y=0;y<m.length;y++){let b=m[y];if(Er(t.emitsOptions,b))continue;const P=n[b];if(f)if(Qt(l,b))P!==l[b]&&(l[b]=P,_=!0);else{const k=un(b);r[k]=Oa(f,h,k,P,t,!1)}else P!==l[b]&&(l[b]=P,_=!0)}}}else{wh(t,n,r,l)&&(_=!0);let m;for(const y in h)(!n||!Qt(n,y)&&((m=Ni(y))===y||!Qt(n,m)))&&(f?i&&(i[y]!==void 0||i[m]!==void 0)&&(r[y]=Oa(f,h,y,void 0,t,!0)):delete r[y]);if(l!==h)for(const y in l)(!n||!Qt(n,y))&&(delete l[y],_=!0)}_&&Hn(t.attrs,"set","")}function wh(t,n,i,o){const[r,l]=t.propsOptions;let c=!1,h;if(n)for(let f in n){if(zs(f))continue;const _=n[f];let m;r&&Qt(r,m=un(f))?!l||!l.includes(m)?i[m]=_:(h||(h={}))[m]=_:Er(t.emitsOptions,f)||(!(f in o)||_!==o[f])&&(o[f]=_,c=!0)}if(l){const f=Gt(i),_=h||oe;for(let m=0;m<l.length;m++){const y=l[m];i[y]=Oa(r,f,y,_[y],t,!Qt(_,y))}}return c}function Oa(t,n,i,o,r,l){const c=t[i];if(c!=null){const h=Qt(c,"default");if(h&&o===void 0){const f=c.default;if(c.type!==Function&&!c.skipFactory&&Mt(f)){const{propsDefaults:_}=r;if(i in _)o=_[i];else{const m=co(r);o=_[i]=f.call(null,n),m()}}else o=f;r.ce&&r.ce._setProp(i,o)}c[0]&&(l&&!h?o=!1:c[1]&&(o===""||o===Ni(i))&&(o=!0))}return o}const em=new WeakMap;function Ch(t,n,i=!1){const o=i?em:n.propsCache,r=o.get(t);if(r)return r;const l=t.props,c={},h=[];let f=!1;if(!Mt(t)){const m=y=>{f=!0;const[b,P]=Ch(y,n,!0);Be(c,b),P&&h.push(...P)};!i&&n.mixins.length&&n.mixins.forEach(m),t.extends&&m(t.extends),t.mixins&&t.mixins.forEach(m)}if(!l&&!f)return re(t)&&o.set(t,rs),rs;if(Pt(l))for(let m=0;m<l.length;m++){const y=un(l[m]);Sc(y)&&(c[y]=oe)}else if(l)for(const m in l){const y=un(m);if(Sc(y)){const b=l[m],P=c[y]=Pt(b)||Mt(b)?{type:b}:Be({},b),k=P.type;let A=!1,B=!0;if(Pt(k))for(let Y=0;Y<k.length;++Y){const X=k[Y],G=Mt(X)&&X.name;if(G==="Boolean"){A=!0;break}else G==="String"&&(B=!1)}else A=Mt(k)&&k.name==="Boolean";P[0]=A,P[1]=B,(A||Qt(P,"default"))&&h.push(y)}}const _=[c,h];return re(t)&&o.set(t,_),_}function Sc(t){return t[0]!=="$"&&!zs(t)}const cl=t=>t==="_"||t==="_ctx"||t==="$stable",ul=t=>Pt(t)?t.map(kn):[kn(t)],nm=(t,n,i)=>{if(n._n)return n;const o=ol((...r)=>ul(n(...r)),i);return o._c=!1,o},Sh=(t,n,i)=>{const o=t._ctx;for(const r in t){if(cl(r))continue;const l=t[r];if(Mt(l))n[r]=nm(r,l,o);else if(l!=null){const c=ul(l);n[r]=()=>c}}},xh=(t,n)=>{const i=ul(n);t.slots.default=()=>i},Eh=(t,n,i)=>{for(const o in n)(i||!cl(o))&&(t[o]=n[o])},im=(t,n,i)=>{const o=t.slots=yh();if(t.vnode.shapeFlag&32){const r=n._;r?(Eh(o,n,i),i&&Ru(o,"_",r,!0)):Sh(n,o)}else n&&xh(t,n)},sm=(t,n,i)=>{const{vnode:o,slots:r}=t;let l=!0,c=oe;if(o.shapeFlag&32){const h=n._;h?i&&h===1?l=!1:Eh(r,n,i):(l=!n.$stable,Sh(n,r)),c=n}else n&&(xh(t,n),c={default:1});if(l)for(const h in r)!cl(h)&&c[h]==null&&delete r[h]},tn=cm;function om(t){return rm(t)}function rm(t,n){const i=yr();i.__VUE__=!0;const{insert:o,remove:r,patchProp:l,createElement:c,createText:h,createComment:f,setText:_,setElementText:m,parentNode:y,nextSibling:b,setScopeId:P=Tn,insertStaticContent:k}=t,A=(w,C,T,D=null,U=null,N=null,st=void 0,ot=null,et=!!C.dynamicChildren)=>{if(w===C)return;w&&!Rs(w,C)&&(D=O(w),Nt(w,U,N,!0),w=null),C.patchFlag===-2&&(et=!1,C.dynamicChildren=null);const{type:Z,ref:pt,shapeFlag:ct}=C;switch(Z){case Pr:B(w,C,T,D);break;case fi:Y(w,C,T,D);break;case Ko:w==null&&X(C,T,D,st);break;case te:j(w,C,T,D,U,N,st,ot,et);break;default:ct&1?q(w,C,T,D,U,N,st,ot,et):ct&6?vt(w,C,T,D,U,N,st,ot,et):(ct&64||ct&128)&&Z.process(w,C,T,D,U,N,st,ot,et,ut)}pt!=null&&U?Hs(pt,w&&w.ref,N,C||w,!C):pt==null&&w&&w.ref!=null&&Hs(w.ref,null,N,w,!0)},B=(w,C,T,D)=>{if(w==null)o(C.el=h(C.children),T,D);else{const U=C.el=w.el;C.children!==w.children&&_(U,C.children)}},Y=(w,C,T,D)=>{w==null?o(C.el=f(C.children||""),T,D):C.el=w.el},X=(w,C,T,D)=>{[w.el,w.anchor]=k(w.children,C,T,D,w.el,w.anchor)},G=({el:w,anchor:C},T,D)=>{let U;for(;w&&w!==C;)U=b(w),o(w,T,D),w=U;o(C,T,D)},Q=({el:w,anchor:C})=>{let T;for(;w&&w!==C;)T=b(w),r(w),w=T;r(C)},q=(w,C,T,D,U,N,st,ot,et)=>{if(C.type==="svg"?st="svg":C.type==="math"&&(st="mathml"),w==null)K(C,T,D,U,N,st,ot,et);else{const Z=w.el&&w.el._isVueCE?w.el:null;try{Z&&Z._beginPatch(),gt(w,C,U,N,st,ot,et)}finally{Z&&Z._endPatch()}}},K=(w,C,T,D,U,N,st,ot)=>{let et,Z;const{props:pt,shapeFlag:ct,transition:rt,dirs:kt}=w;if(et=w.el=c(w.type,N,pt&&pt.is,pt),ct&8?m(et,w.children):ct&16&&mt(w.children,et,null,D,U,pa(w,N),st,ot),kt&&Si(w,null,D,"created"),lt(et,w,w.scopeId,st,D),pt){for(const Kt in pt)Kt!=="value"&&!zs(Kt)&&l(et,Kt,null,pt[Kt],N,D);"value"in pt&&l(et,"value",null,pt.value,N),(Z=pt.onVnodeBeforeMount)&&xn(Z,D,w)}kt&&Si(w,null,D,"beforeMount");const Bt=am(U,rt);Bt&&rt.beforeEnter(et),o(et,C,T),((Z=pt&&pt.onVnodeMounted)||Bt||kt)&&tn(()=>{Z&&xn(Z,D,w),Bt&&rt.enter(et),kt&&Si(w,null,D,"mounted")},U)},lt=(w,C,T,D,U)=>{if(T&&P(w,T),D)for(let N=0;N<D.length;N++)P(w,D[N]);if(U){let N=U.subTree;if(C===N||Ih(N.type)&&(N.ssContent===C||N.ssFallback===C)){const st=U.vnode;lt(w,st,st.scopeId,st.slotScopeIds,U.parent)}}},mt=(w,C,T,D,U,N,st,ot,et=0)=>{for(let Z=et;Z<w.length;Z++){const pt=w[Z]=ot?li(w[Z]):kn(w[Z]);A(null,pt,C,T,D,U,N,st,ot)}},gt=(w,C,T,D,U,N,st)=>{const ot=C.el=w.el;let{patchFlag:et,dynamicChildren:Z,dirs:pt}=C;et|=w.patchFlag&16;const ct=w.props||oe,rt=C.props||oe;let kt;if(T&&xi(T,!1),(kt=rt.onVnodeBeforeUpdate)&&xn(kt,T,C,w),pt&&Si(C,w,T,"beforeUpdate"),T&&xi(T,!0),(ct.innerHTML&&rt.innerHTML==null||ct.textContent&&rt.textContent==null)&&m(ot,""),Z?ht(w.dynamicChildren,Z,ot,T,D,pa(C,U),N):st||tt(w,C,ot,null,T,D,pa(C,U),N,!1),et>0){if(et&16)W(ot,ct,rt,T,U);else if(et&2&&ct.class!==rt.class&&l(ot,"class",null,rt.class,U),et&4&&l(ot,"style",ct.style,rt.style,U),et&8){const Bt=C.dynamicProps;for(let Kt=0;Kt<Bt.length;Kt++){const jt=Bt[Kt],Pe=ct[jt],ue=rt[jt];(ue!==Pe||jt==="value")&&l(ot,jt,Pe,ue,U,T)}}et&1&&w.children!==C.children&&m(ot,C.children)}else!st&&Z==null&&W(ot,ct,rt,T,U);((kt=rt.onVnodeUpdated)||pt)&&tn(()=>{kt&&xn(kt,T,C,w),pt&&Si(C,w,T,"updated")},D)},ht=(w,C,T,D,U,N,st)=>{for(let ot=0;ot<C.length;ot++){const et=w[ot],Z=C[ot],pt=et.el&&(et.type===te||!Rs(et,Z)||et.shapeFlag&198)?y(et.el):T;A(et,Z,pt,null,D,U,N,st,!0)}},W=(w,C,T,D,U)=>{if(C!==T){if(C!==oe)for(const N in C)!zs(N)&&!(N in T)&&l(w,N,C[N],null,U,D);for(const N in T){if(zs(N))continue;const st=T[N],ot=C[N];st!==ot&&N!=="value"&&l(w,N,ot,st,U,D)}"value"in T&&l(w,"value",C.value,T.value,U)}},j=(w,C,T,D,U,N,st,ot,et)=>{const Z=C.el=w?w.el:h(""),pt=C.anchor=w?w.anchor:h("");let{patchFlag:ct,dynamicChildren:rt,slotScopeIds:kt}=C;kt&&(ot=ot?ot.concat(kt):kt),w==null?(o(Z,T,D),o(pt,T,D),mt(C.children||[],T,pt,U,N,st,ot,et)):ct>0&&ct&64&&rt&&w.dynamicChildren&&w.dynamicChildren.length===rt.length?(ht(w.dynamicChildren,rt,T,U,N,st,ot),(C.key!=null||U&&C===U.subTree)&&Ph(w,C,!0)):tt(w,C,T,pt,U,N,st,ot,et)},vt=(w,C,T,D,U,N,st,ot,et)=>{C.slotScopeIds=ot,w==null?C.shapeFlag&512?U.ctx.activate(C,T,D,st,et):Lt(C,T,D,U,N,st,et):xt(w,C,et)},Lt=(w,C,T,D,U,N,st)=>{const ot=w.component=gm(w,D,U);if(dh(w)&&(ot.ctx.renderer=ut),vm(ot,!1,st),ot.asyncDep){if(U&&U.registerDep(ot,bt,st),!w.el){const et=ot.subTree=Wt(fi);Y(null,et,C,T),w.placeholder=et.el}}else bt(ot,w,C,T,U,N,st)},xt=(w,C,T)=>{const D=C.component=w.component;if(Xp(w,C,T))if(D.asyncDep&&!D.asyncResolved){wt(D,C,T);return}else D.next=C,D.update();else C.el=w.el,D.vnode=C},bt=(w,C,T,D,U,N,st)=>{const ot=()=>{if(w.isMounted){let{next:ct,bu:rt,u:kt,parent:Bt,vnode:Kt}=w;{const Ge=kh(w);if(Ge){ct&&(ct.el=Kt.el,wt(w,ct,st)),Ge.asyncDep.then(()=>{w.isUnmounted||ot()});return}}let jt=ct,Pe;xi(w,!1),ct?(ct.el=Kt.el,wt(w,ct,st)):ct=Kt,rt&&qo(rt),(Pe=ct.props&&ct.props.onVnodeBeforeUpdate)&&xn(Pe,Bt,ct,Kt),xi(w,!0);const ue=wc(w),ze=w.subTree;w.subTree=ue,A(ze,ue,y(ze.el),O(ze),w,U,N),ct.el=ue.el,jt===null&&Yp(w,ue.el),kt&&tn(kt,U),(Pe=ct.props&&ct.props.onVnodeUpdated)&&tn(()=>xn(Pe,Bt,ct,Kt),U)}else{let ct;const{el:rt,props:kt}=C,{bm:Bt,m:Kt,parent:jt,root:Pe,type:ue}=w,ze=Zs(C);xi(w,!1),Bt&&qo(Bt),!ze&&(ct=kt&&kt.onVnodeBeforeMount)&&xn(ct,jt,C),xi(w,!0);{Pe.ce&&Pe.ce._def.shadowRoot!==!1&&Pe.ce._injectChildStyle(ue);const Ge=w.subTree=wc(w);A(null,Ge,T,D,w,U,N),C.el=Ge.el}if(Kt&&tn(Kt,U),!ze&&(ct=kt&&kt.onVnodeMounted)){const Ge=C;tn(()=>xn(ct,jt,Ge),U)}(C.shapeFlag&256||jt&&Zs(jt.vnode)&&jt.vnode.shapeFlag&256)&&w.a&&tn(w.a,U),w.isMounted=!0,C=T=D=null}};w.scope.on();const et=w.effect=new $u(ot);w.scope.off();const Z=w.update=et.run.bind(et),pt=w.job=et.runIfDirty.bind(et);pt.i=w,pt.id=w.uid,et.scheduler=()=>sl(pt),xi(w,!0),Z()},wt=(w,C,T)=>{C.component=w;const D=w.vnode.props;w.vnode=C,w.next=null,tm(w,C.props,D,T),sm(w,C.children,T),Vn(),pc(w),qn()},tt=(w,C,T,D,U,N,st,ot,et=!1)=>{const Z=w&&w.children,pt=w?w.shapeFlag:0,ct=C.children,{patchFlag:rt,shapeFlag:kt}=C;if(rt>0){if(rt&128){yt(Z,ct,T,D,U,N,st,ot,et);return}else if(rt&256){ee(Z,ct,T,D,U,N,st,ot,et);return}}kt&8?(pt&16&&dt(Z,U,N),ct!==Z&&m(T,ct)):pt&16?kt&16?yt(Z,ct,T,D,U,N,st,ot,et):dt(Z,U,N,!0):(pt&8&&m(T,""),kt&16&&mt(ct,T,D,U,N,st,ot,et))},ee=(w,C,T,D,U,N,st,ot,et)=>{w=w||rs,C=C||rs;const Z=w.length,pt=C.length,ct=Math.min(Z,pt);let rt;for(rt=0;rt<ct;rt++){const kt=C[rt]=et?li(C[rt]):kn(C[rt]);A(w[rt],kt,T,null,U,N,st,ot,et)}Z>pt?dt(w,U,N,!0,!1,ct):mt(C,T,D,U,N,st,ot,et,ct)},yt=(w,C,T,D,U,N,st,ot,et)=>{let Z=0;const pt=C.length;let ct=w.length-1,rt=pt-1;for(;Z<=ct&&Z<=rt;){const kt=w[Z],Bt=C[Z]=et?li(C[Z]):kn(C[Z]);if(Rs(kt,Bt))A(kt,Bt,T,null,U,N,st,ot,et);else break;Z++}for(;Z<=ct&&Z<=rt;){const kt=w[ct],Bt=C[rt]=et?li(C[rt]):kn(C[rt]);if(Rs(kt,Bt))A(kt,Bt,T,null,U,N,st,ot,et);else break;ct--,rt--}if(Z>ct){if(Z<=rt){const kt=rt+1,Bt=kt<pt?C[kt].el:D;for(;Z<=rt;)A(null,C[Z]=et?li(C[Z]):kn(C[Z]),T,Bt,U,N,st,ot,et),Z++}}else if(Z>rt)for(;Z<=ct;)Nt(w[Z],U,N,!0),Z++;else{const kt=Z,Bt=Z,Kt=new Map;for(Z=Bt;Z<=rt;Z++){const ke=C[Z]=et?li(C[Z]):kn(C[Z]);ke.key!=null&&Kt.set(ke.key,Z)}let jt,Pe=0;const ue=rt-Bt+1;let ze=!1,Ge=0;const Ut=new Array(ue);for(Z=0;Z<ue;Z++)Ut[Z]=0;for(Z=kt;Z<=ct;Z++){const ke=w[Z];if(Pe>=ue){Nt(ke,U,N,!0);continue}let Ce;if(ke.key!=null)Ce=Kt.get(ke.key);else for(jt=Bt;jt<=rt;jt++)if(Ut[jt-Bt]===0&&Rs(ke,C[jt])){Ce=jt;break}Ce===void 0?Nt(ke,U,N,!0):(Ut[Ce-Bt]=Z+1,Ce>=Ge?Ge=Ce:ze=!0,A(ke,C[Ce],T,null,U,N,st,ot,et),Pe++)}const hn=ze?lm(Ut):rs;for(jt=hn.length-1,Z=ue-1;Z>=0;Z--){const ke=Bt+Z,Ce=C[ke],Ye=C[ke+1],ve=ke+1<pt?Ye.el||Th(Ye):D;Ut[Z]===0?A(null,Ce,T,ve,U,N,st,ot,et):ze&&(jt<0||Z!==hn[jt]?It(Ce,T,ve,2):jt--)}}},It=(w,C,T,D,U=null)=>{const{el:N,type:st,transition:ot,children:et,shapeFlag:Z}=w;if(Z&6){It(w.component.subTree,C,T,D);return}if(Z&128){w.suspense.move(C,T,D);return}if(Z&64){st.move(w,C,T,ut);return}if(st===te){o(N,C,T);for(let ct=0;ct<et.length;ct++)It(et[ct],C,T,D);o(w.anchor,C,T);return}if(st===Ko){G(w,C,T);return}if(D!==2&&Z&1&&ot)if(D===0)ot.beforeEnter(N),o(N,C,T),tn(()=>ot.enter(N),U);else{const{leave:ct,delayLeave:rt,afterLeave:kt}=ot,Bt=()=>{w.ctx.isUnmounted?r(N):o(N,C,T)},Kt=()=>{N._isLeaving&&N[Sp](!0),ct(N,()=>{Bt(),kt&&kt()})};rt?rt(N,Bt,Kt):Kt()}else o(N,C,T)},Nt=(w,C,T,D=!1,U=!1)=>{const{type:N,props:st,ref:ot,children:et,dynamicChildren:Z,shapeFlag:pt,patchFlag:ct,dirs:rt,cacheIndex:kt}=w;if(ct===-2&&(U=!1),ot!=null&&(Vn(),Hs(ot,null,T,w,!0),qn()),kt!=null&&(C.renderCache[kt]=void 0),pt&256){C.ctx.deactivate(w);return}const Bt=pt&1&&rt,Kt=!Zs(w);let jt;if(Kt&&(jt=st&&st.onVnodeBeforeUnmount)&&xn(jt,C,w),pt&6)_t(w.component,T,D);else{if(pt&128){w.suspense.unmount(T,D);return}Bt&&Si(w,null,C,"beforeUnmount"),pt&64?w.type.remove(w,C,T,ut,D):Z&&!Z.hasOnce&&(N!==te||ct>0&&ct&64)?dt(Z,C,T,!1,!0):(N===te&&ct&384||!U&&pt&16)&&dt(et,C,T),D&&Ht(w)}(Kt&&(jt=st&&st.onVnodeUnmounted)||Bt)&&tn(()=>{jt&&xn(jt,C,w),Bt&&Si(w,null,C,"unmounted")},T)},Ht=w=>{const{type:C,el:T,anchor:D,transition:U}=w;if(C===te){$t(T,D);return}if(C===Ko){Q(w);return}const N=()=>{r(T),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(w.shapeFlag&1&&U&&!U.persisted){const{leave:st,delayLeave:ot}=U,et=()=>st(T,N);ot?ot(w.el,N,et):et()}else N()},$t=(w,C)=>{let T;for(;w!==C;)T=b(w),r(w),w=T;r(C)},_t=(w,C,T)=>{const{bum:D,scope:U,job:N,subTree:st,um:ot,m:et,a:Z}=w;xc(et),xc(Z),D&&qo(D),U.stop(),N&&(N.flags|=8,Nt(st,w,C,T)),ot&&tn(ot,C),tn(()=>{w.isUnmounted=!0},C)},dt=(w,C,T,D=!1,U=!1,N=0)=>{for(let st=N;st<w.length;st++)Nt(w[st],C,T,D,U)},O=w=>{if(w.shapeFlag&6)return O(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const C=b(w.anchor||w.el),T=C&&C[wp];return T?b(T):C};let it=!1;const nt=(w,C,T)=>{let D;w==null?C._vnode&&(Nt(C._vnode,null,null,!0),D=C._vnode.component):A(C._vnode||null,w,C,null,null,null,T),C._vnode=w,it||(it=!0,pc(D),oh(),it=!1)},ut={p:A,um:Nt,m:It,r:Ht,mt:Lt,mc:mt,pc:tt,pbc:ht,n:O,o:t};return{render:nt,hydrate:void 0,createApp:jp(nt)}}function pa({type:t,props:n},i){return i==="svg"&&t==="foreignObject"||i==="mathml"&&t==="annotation-xml"&&n&&n.encoding&&n.encoding.includes("html")?void 0:i}function xi({effect:t,job:n},i){i?(t.flags|=32,n.flags|=4):(t.flags&=-33,n.flags&=-5)}function am(t,n){return(!t||t&&!t.pendingBranch)&&n&&!n.persisted}function Ph(t,n,i=!1){const o=t.children,r=n.children;if(Pt(o)&&Pt(r))for(let l=0;l<o.length;l++){const c=o[l];let h=r[l];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=r[l]=li(r[l]),h.el=c.el),!i&&h.patchFlag!==-2&&Ph(c,h)),h.type===Pr&&(h.patchFlag!==-1?h.el=c.el:h.__elIndex=l+(t.type===te?1:0)),h.type===fi&&!h.el&&(h.el=c.el)}}function lm(t){const n=t.slice(),i=[0];let o,r,l,c,h;const f=t.length;for(o=0;o<f;o++){const _=t[o];if(_!==0){if(r=i[i.length-1],t[r]<_){n[o]=r,i.push(o);continue}for(l=0,c=i.length-1;l<c;)h=l+c>>1,t[i[h]]<_?l=h+1:c=h;_<t[i[l]]&&(l>0&&(n[o]=i[l-1]),i[l]=o)}}for(l=i.length,c=i[l-1];l-- >0;)i[l]=c,c=n[c];return i}function kh(t){const n=t.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:kh(n)}function xc(t){if(t)for(let n=0;n<t.length;n++)t[n].flags|=8}function Th(t){if(t.placeholder)return t.placeholder;const n=t.component;return n?Th(n.subTree):null}const Ih=t=>t.__isSuspense;function cm(t,n){n&&n.pendingBranch?Pt(t)?n.effects.push(...t):n.effects.push(t):_p(t)}const te=Symbol.for("v-fgt"),Pr=Symbol.for("v-txt"),fi=Symbol.for("v-cmt"),Ko=Symbol.for("v-stc"),js=[];let nn=null;function z(t=!1){js.push(nn=t?null:[])}function um(){js.pop(),nn=js[js.length-1]||null}let Ys=1;function lr(t,n=!1){Ys+=t,t<0&&nn&&n&&(nn.hasOnce=!0)}function Lh(t){return t.dynamicChildren=Ys>0?nn||rs:null,um(),Ys>0&&nn&&nn.push(t),t}function $(t,n,i,o,r,l){return Lh(p(t,n,i,o,r,l,!0))}function hm(t,n,i,o,r){return Lh(Wt(t,n,i,o,r,!0))}function cr(t){return t?t.__v_isVNode===!0:!1}function Rs(t,n){return t.type===n.type&&t.key===n.key}const Ah=({key:t})=>t??null,Jo=({ref:t,ref_key:n,ref_for:i})=>(typeof t=="number"&&(t=""+t),t!=null?we(t)||_e(t)||Mt(t)?{i:en,r:t,k:n,f:!!i}:t:null);function p(t,n=null,i=null,o=0,r=null,l=t===te?0:1,c=!1,h=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&Ah(n),ref:n&&Jo(n),scopeId:ah,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:en};return h?(dl(f,i),l&128&&t.normalize(f)):i&&(f.shapeFlag|=we(i)?8:16),Ys>0&&!c&&nn&&(f.patchFlag>0||l&6)&&f.patchFlag!==32&&nn.push(f),f}const Wt=dm;function dm(t,n=null,i=null,o=0,r=null,l=!1){if((!t||t===Np)&&(t=fi),cr(t)){const h=us(t,n,!0);return i&&dl(h,i),Ys>0&&!l&&nn&&(h.shapeFlag&6?nn[nn.indexOf(t)]=h:nn.push(h)),h.patchFlag=-2,h}if(Sm(t)&&(t=t.__vccOpts),n){n=fm(n);let{class:h,style:f}=n;h&&!we(h)&&(n.class=fe(h)),re(f)&&(wr(f)&&!Pt(f)&&(f=Be({},f)),n.style=Gs(f))}const c=we(t)?1:Ih(t)?128:Cp(t)?64:re(t)?4:Mt(t)?2:0;return p(t,n,i,o,r,c,l,!0)}function fm(t){return t?wr(t)||bh(t)?Be({},t):t:null}function us(t,n,i=!1,o=!1){const{props:r,ref:l,patchFlag:c,children:h,transition:f}=t,_=n?pm(r||{},n):r,m={__v_isVNode:!0,__v_skip:!0,type:t.type,props:_,key:_&&Ah(_),ref:n&&n.ref?i&&l?Pt(l)?l.concat(Jo(n)):[l,Jo(n)]:Jo(n):l,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:h,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==te?c===-1?16:c|16:c,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:f,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&us(t.ssContent),ssFallback:t.ssFallback&&us(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return f&&o&&rl(m,f.clone(m)),m}function je(t=" ",n=0){return Wt(Pr,null,t,n)}function hl(t,n){const i=Wt(Ko,null,t);return i.staticCount=n,i}function St(t="",n=!1){return n?(z(),hm(fi,null,t)):Wt(fi,null,t)}function kn(t){return t==null||typeof t=="boolean"?Wt(fi):Pt(t)?Wt(te,null,t.slice()):cr(t)?li(t):Wt(Pr,null,String(t))}function li(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:us(t)}function dl(t,n){let i=0;const{shapeFlag:o}=t;if(n==null)n=null;else if(Pt(n))i=16;else if(typeof n=="object")if(o&65){const r=n.default;r&&(r._c&&(r._d=!1),dl(t,r()),r._c&&(r._d=!0));return}else{i=32;const r=n._;!r&&!bh(n)?n._ctx=en:r===3&&en&&(en.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else Mt(n)?(n={default:n,_ctx:en},i=32):(n=String(n),o&64?(i=16,n=[je(n)]):i=8);t.children=n,t.shapeFlag|=i}function pm(...t){const n={};for(let i=0;i<t.length;i++){const o=t[i];for(const r in o)if(r==="class")n.class!==o.class&&(n.class=fe([n.class,o.class]));else if(r==="style")n.style=Gs([n.style,o.style]);else if(pr(r)){const l=n[r],c=o[r];c&&l!==c&&!(Pt(l)&&l.includes(c))&&(n[r]=l?[].concat(l,c):c)}else r!==""&&(n[r]=o[r])}return n}function xn(t,n,i,o=null){Ln(t,n,7,[i,o])}const mm=_h();let _m=0;function gm(t,n,i){const o=t.type,r=(n?n.appContext:t.appContext)||mm,l={uid:_m++,vnode:t,type:o,parent:n,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Bu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(r.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ch(o,r),emitsOptions:gh(o,r),emit:null,emitted:null,propsDefaults:oe,inheritAttrs:o.inheritAttrs,ctx:oe,data:oe,props:oe,attrs:oe,slots:oe,refs:oe,setupState:oe,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=n?n.root:l,l.emit=qp.bind(null,l),t.ce&&t.ce(l),l}let De=null;const Mh=()=>De||en;let ur,Da;{const t=yr(),n=(i,o)=>{let r;return(r=t[i])||(r=t[i]=[]),r.push(o),l=>{r.length>1?r.forEach(c=>c(l)):r[0](l)}};ur=n("__VUE_INSTANCE_SETTERS__",i=>De=i),Da=n("__VUE_SSR_SETTERS__",i=>Qs=i)}const co=t=>{const n=De;return ur(t),t.scope.on(),()=>{t.scope.off(),ur(n)}},Ec=()=>{De&&De.scope.off(),ur(null)};function Rh(t){return t.vnode.shapeFlag&4}let Qs=!1;function vm(t,n=!1,i=!1){n&&Da(n);const{props:o,children:r}=t.vnode,l=Rh(t);Qp(t,o,l,n),im(t,r,i||n);const c=l?ym(t,n):void 0;return n&&Da(!1),c}function ym(t,n){const i=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Fp);const{setup:o}=i;if(o){Vn();const r=t.setupContext=o.length>1?wm(t):null,l=co(t),c=ao(o,t,0,[t.props,r]),h=Lu(c);if(qn(),l(),(h||t.sp)&&!Zs(t)&&hh(t),h){if(c.then(Ec,Ec),n)return c.then(f=>{Pc(t,f)}).catch(f=>{Cr(f,t,0)});t.asyncDep=c}else Pc(t,c)}else Oh(t)}function Pc(t,n,i){Mt(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:re(n)&&(t.setupState=nh(n)),Oh(t)}function Oh(t,n,i){const o=t.type;t.render||(t.render=o.render||Tn);{const r=co(t);Vn();try{zp(t)}finally{qn(),r()}}}const bm={get(t,n){return Re(t,"get",""),t[n]}};function wm(t){const n=i=>{t.exposed=i||{}};return{attrs:new Proxy(t.attrs,bm),slots:t.slots,emit:t.emit,expose:n}}function kr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(nh(il(t.exposed)),{get(n,i){if(i in n)return n[i];if(i in Ws)return Ws[i](t)},has(n,i){return i in n||i in Ws}})):t.proxy}function Cm(t,n=!0){return Mt(t)?t.displayName||t.name:t.name||n&&t.__name}function Sm(t){return Mt(t)&&"__vccOpts"in t}const Ee=(t,n)=>hp(t,n,Qs);function Dh(t,n,i){try{lr(-1);const o=arguments.length;return o===2?re(n)&&!Pt(n)?cr(n)?Wt(t,null,[n]):Wt(t,n):Wt(t,null,n):(o>3?i=Array.prototype.slice.call(arguments,2):o===3&&cr(i)&&(i=[i]),Wt(t,n,i))}finally{lr(1)}}const xm="3.5.26";let Na;const kc=typeof window<"u"&&window.trustedTypes;if(kc)try{Na=kc.createPolicy("vue",{createHTML:t=>t})}catch{}const Nh=Na?t=>Na.createHTML(t):t=>t,Em="http://www.w3.org/2000/svg",Pm="http://www.w3.org/1998/Math/MathML",$n=typeof document<"u"?document:null,Tc=$n&&$n.createElement("template"),km={insert:(t,n,i)=>{n.insertBefore(t,i||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,i,o)=>{const r=n==="svg"?$n.createElementNS(Em,t):n==="mathml"?$n.createElementNS(Pm,t):i?$n.createElement(t,{is:i}):$n.createElement(t);return t==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:t=>$n.createTextNode(t),createComment:t=>$n.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>$n.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,i,o,r,l){const c=i?i.previousSibling:n.lastChild;if(r&&(r===l||r.nextSibling))for(;n.insertBefore(r.cloneNode(!0),i),!(r===l||!(r=r.nextSibling)););else{Tc.innerHTML=Nh(o==="svg"?`<svg>${t}</svg>`:o==="mathml"?`<math>${t}</math>`:t);const h=Tc.content;if(o==="svg"||o==="mathml"){const f=h.firstChild;for(;f.firstChild;)h.appendChild(f.firstChild);h.removeChild(f)}n.insertBefore(h,i)}return[c?c.nextSibling:n.firstChild,i?i.previousSibling:n.lastChild]}},Tm=Symbol("_vtc");function Im(t,n,i){const o=t[Tm];o&&(n=(n?[n,...o]:[...o]).join(" ")),n==null?t.removeAttribute("class"):i?t.setAttribute("class",n):t.className=n}const hr=Symbol("_vod"),Bh=Symbol("_vsh"),Ic={name:"show",beforeMount(t,{value:n},{transition:i}){t[hr]=t.style.display==="none"?"":t.style.display,i&&n?i.beforeEnter(t):Os(t,n)},mounted(t,{value:n},{transition:i}){i&&n&&i.enter(t)},updated(t,{value:n,oldValue:i},{transition:o}){!n!=!i&&(o?n?(o.beforeEnter(t),Os(t,!0),o.enter(t)):o.leave(t,()=>{Os(t,!1)}):Os(t,n))},beforeUnmount(t,{value:n}){Os(t,n)}};function Os(t,n){t.style.display=n?t[hr]:"none",t[Bh]=!n}const Lm=Symbol(""),Am=/(?:^|;)\s*display\s*:/;function Mm(t,n,i){const o=t.style,r=we(i);let l=!1;if(i&&!r){if(n)if(we(n))for(const c of n.split(";")){const h=c.slice(0,c.indexOf(":")).trim();i[h]==null&&Xo(o,h,"")}else for(const c in n)i[c]==null&&Xo(o,c,"");for(const c in i)c==="display"&&(l=!0),Xo(o,c,i[c])}else if(r){if(n!==i){const c=o[Lm];c&&(i+=";"+c),o.cssText=i,l=Am.test(i)}}else n&&t.removeAttribute("style");hr in t&&(t[hr]=l?o.display:"",t[Bh]&&(o.display="none"))}const Lc=/\s*!important$/;function Xo(t,n,i){if(Pt(i))i.forEach(o=>Xo(t,n,o));else if(i==null&&(i=""),n.startsWith("--"))t.setProperty(n,i);else{const o=Rm(t,n);Lc.test(i)?t.setProperty(Ni(o),i.replace(Lc,""),"important"):t[o]=i}}const Ac=["Webkit","Moz","ms"],ma={};function Rm(t,n){const i=ma[n];if(i)return i;let o=un(n);if(o!=="filter"&&o in t)return ma[n]=o;o=gr(o);for(let r=0;r<Ac.length;r++){const l=Ac[r]+o;if(l in t)return ma[n]=l}return n}const Mc="http://www.w3.org/1999/xlink";function Rc(t,n,i,o,r,l=Nf(n)){o&&n.startsWith("xlink:")?i==null?t.removeAttributeNS(Mc,n.slice(6,n.length)):t.setAttributeNS(Mc,n,i):i==null||l&&!Ou(i)?t.removeAttribute(n):t.setAttribute(n,l?"":In(i)?String(i):i)}function Oc(t,n,i,o,r){if(n==="innerHTML"||n==="textContent"){i!=null&&(t[n]=n==="innerHTML"?Nh(i):i);return}const l=t.tagName;if(n==="value"&&l!=="PROGRESS"&&!l.includes("-")){const h=l==="OPTION"?t.getAttribute("value")||"":t.value,f=i==null?t.type==="checkbox"?"on":"":String(i);(h!==f||!("_value"in t))&&(t.value=f),i==null&&t.removeAttribute(n),t._value=i;return}let c=!1;if(i===""||i==null){const h=typeof t[n];h==="boolean"?i=Ou(i):i==null&&h==="string"?(i="",c=!0):h==="number"&&(i=0,c=!0)}try{t[n]=i}catch{}c&&t.removeAttribute(r||n)}function ui(t,n,i,o){t.addEventListener(n,i,o)}function Om(t,n,i,o){t.removeEventListener(n,i,o)}const Dc=Symbol("_vei");function Dm(t,n,i,o,r=null){const l=t[Dc]||(t[Dc]={}),c=l[n];if(o&&c)c.value=o;else{const[h,f]=Nm(n);if(o){const _=l[n]=zm(o,r);ui(t,h,_,f)}else c&&(Om(t,h,c,f),l[n]=void 0)}}const Nc=/(?:Once|Passive|Capture)$/;function Nm(t){let n;if(Nc.test(t)){n={};let o;for(;o=t.match(Nc);)t=t.slice(0,t.length-o[0].length),n[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ni(t.slice(2)),n]}let _a=0;const Bm=Promise.resolve(),Fm=()=>_a||(Bm.then(()=>_a=0),_a=Date.now());function zm(t,n){const i=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=i.attached)return;Ln($m(o,i.value),n,5,[o])};return i.value=t,i.attached=Fm(),i}function $m(t,n){if(Pt(n)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},n.map(o=>r=>!r._stopped&&o&&o(r))}else return n}const Bc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Um=(t,n,i,o,r,l)=>{const c=r==="svg";n==="class"?Im(t,o,c):n==="style"?Mm(t,i,o):pr(n)?Ga(n)||Dm(t,n,i,o,l):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):Hm(t,n,o,c))?(Oc(t,n,o),!t.tagName.includes("-")&&(n==="value"||n==="checked"||n==="selected")&&Rc(t,n,o,c,l,n!=="value")):t._isVueCE&&(/[A-Z]/.test(n)||!we(o))?Oc(t,un(n),o,l,n):(n==="true-value"?t._trueValue=o:n==="false-value"&&(t._falseValue=o),Rc(t,n,o,c))};function Hm(t,n,i,o){if(o)return!!(n==="innerHTML"||n==="textContent"||n in t&&Bc(n)&&Mt(i));if(n==="spellcheck"||n==="draggable"||n==="translate"||n==="autocorrect"||n==="sandbox"&&t.tagName==="IFRAME"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA")return!1;if(n==="width"||n==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Bc(n)&&we(i)?!1:n in t}const hs=t=>{const n=t.props["onUpdate:modelValue"]||!1;return Pt(n)?i=>qo(n,i):n};function Zm(t){t.target.composing=!0}function Fc(t){const n=t.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const jn=Symbol("_assign");function zc(t,n,i){return n&&(t=t.trim()),i&&(t=vr(t)),t}const ie={created(t,{modifiers:{lazy:n,trim:i,number:o}},r){t[jn]=hs(r);const l=o||r.props&&r.props.type==="number";ui(t,n?"change":"input",c=>{c.target.composing||t[jn](zc(t.value,i,l))}),(i||l)&&ui(t,"change",()=>{t.value=zc(t.value,i,l)}),n||(ui(t,"compositionstart",Zm),ui(t,"compositionend",Fc),ui(t,"change",Fc))},mounted(t,{value:n}){t.value=n??""},beforeUpdate(t,{value:n,oldValue:i,modifiers:{lazy:o,trim:r,number:l}},c){if(t[jn]=hs(c),t.composing)return;const h=(l||t.type==="number")&&!/^0\d/.test(t.value)?vr(t.value):t.value,f=n??"";h!==f&&(document.activeElement===t&&t.type!=="range"&&(o&&n===i||r&&t.value.trim()===f)||(t.value=f))}},Wm={deep:!0,created(t,n,i){t[jn]=hs(i),ui(t,"change",()=>{const o=t._modelValue,r=to(t),l=t.checked,c=t[jn];if(Pt(o)){const h=Ja(o,r),f=h!==-1;if(l&&!f)c(o.concat(r));else if(!l&&f){const _=[...o];_.splice(h,1),c(_)}}else if(_s(o)){const h=new Set(o);l?h.add(r):h.delete(r),c(h)}else c(Fh(t,l))})},mounted:$c,beforeUpdate(t,n,i){t[jn]=hs(i),$c(t,n,i)}};function $c(t,{value:n,oldValue:i},o){t._modelValue=n;let r;if(Pt(n))r=Ja(n,o.props.value)>-1;else if(_s(n))r=n.has(o.props.value);else{if(n===i)return;r=oo(n,Fh(t,!0))}t.checked!==r&&(t.checked=r)}const Yo={deep:!0,created(t,{value:n,modifiers:{number:i}},o){const r=_s(n);ui(t,"change",()=>{const l=Array.prototype.filter.call(t.options,c=>c.selected).map(c=>i?vr(to(c)):to(c));t[jn](t.multiple?r?new Set(l):l:l[0]),t._assigning=!0,Sr(()=>{t._assigning=!1})}),t[jn]=hs(o)},mounted(t,{value:n}){Uc(t,n)},beforeUpdate(t,n,i){t[jn]=hs(i)},updated(t,{value:n}){t._assigning||Uc(t,n)}};function Uc(t,n){const i=t.multiple,o=Pt(n);if(!(i&&!o&&!_s(n))){for(let r=0,l=t.options.length;r<l;r++){const c=t.options[r],h=to(c);if(i)if(o){const f=typeof h;f==="string"||f==="number"?c.selected=n.some(_=>String(_)===String(h)):c.selected=Ja(n,h)>-1}else c.selected=n.has(h);else if(oo(to(c),n)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!i&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function to(t){return"_value"in t?t._value:t.value}function Fh(t,n){const i=n?"_trueValue":"_falseValue";return i in t?t[i]:n}const jm=["ctrl","shift","alt","meta"],Vm={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,n)=>jm.some(i=>t[`${i}Key`]&&!n.includes(i))},se=(t,n)=>{const i=t._withMods||(t._withMods={}),o=n.join(".");return i[o]||(i[o]=((r,...l)=>{for(let c=0;c<n.length;c++){const h=Vm[n[c]];if(h&&h(r,n))return}return t(r,...l)}))},qm=Be({patchProp:Um},km);let Hc;function Gm(){return Hc||(Hc=om(qm))}const Km=((...t)=>{const n=Gm().createApp(...t),{mount:i}=n;return n.mount=o=>{const r=Xm(o);if(!r)return;const l=n._component;!Mt(l)&&!l.render&&!l.template&&(l.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const c=i(r,!1,Jm(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),c},n});function Jm(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Xm(t){return we(t)?document.querySelector(t):t}let zh;const Tr=t=>zh=t,$h=Symbol();function Ba(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Vs;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Vs||(Vs={}));function Ym(){const t=Fu(!0),n=t.run(()=>H({}));let i=[],o=[];const r=il({install(l){Tr(r),r._a=l,l.provide($h,r),l.config.globalProperties.$pinia=r,o.forEach(c=>i.push(c)),o=[]},use(l){return this._a?i.push(l):o.push(l),this},_p:i,_a:null,_e:t,_s:new Map,state:n});return r}const Uh=()=>{};function Zc(t,n,i,o=Uh){t.add(n);const r=()=>{t.delete(n)&&o()};return!i&&zu()&&Ff(r),r}function ts(t,...n){t.forEach(i=>{i(...n)})}const Qm=t=>t(),Wc=Symbol(),ga=Symbol();function Fa(t,n){t instanceof Map&&n instanceof Map?n.forEach((i,o)=>t.set(o,i)):t instanceof Set&&n instanceof Set&&n.forEach(t.add,t);for(const i in n){if(!n.hasOwnProperty(i))continue;const o=n[i],r=t[i];Ba(r)&&Ba(o)&&t.hasOwnProperty(i)&&!_e(o)&&!Wn(o)?t[i]=Fa(r,o):t[i]=o}return t}const t_=Symbol();function e_(t){return!Ba(t)||!Object.prototype.hasOwnProperty.call(t,t_)}const{assign:oi}=Object;function n_(t){return!!(_e(t)&&t.effect)}function i_(t,n,i,o){const{state:r,actions:l,getters:c}=n,h=i.state.value[t];let f;function _(){h||(i.state.value[t]=r?r():{});const m=ap(i.state.value[t]);return oi(m,l,Object.keys(c||{}).reduce((y,b)=>(y[b]=il(Ee(()=>{Tr(i);const P=i._s.get(t);return c[b].call(P,P)})),y),{}))}return f=Hh(t,_,n,i,o,!0),f}function Hh(t,n,i={},o,r,l){let c;const h=oi({actions:{}},i),f={deep:!0};let _,m,y=new Set,b=new Set,P;const k=o.state.value[t];!l&&!k&&(o.state.value[t]={}),H({});let A;function B(mt){let gt;_=m=!1,typeof mt=="function"?(mt(o.state.value[t]),gt={type:Vs.patchFunction,storeId:t,events:P}):(Fa(o.state.value[t],mt),gt={type:Vs.patchObject,payload:mt,storeId:t,events:P});const ht=A=Symbol();Sr().then(()=>{A===ht&&(_=!0)}),m=!0,ts(y,gt,o.state.value[t])}const Y=l?function(){const{state:gt}=i,ht=gt?gt():{};this.$patch(W=>{oi(W,ht)})}:Uh;function X(){c.stop(),y.clear(),b.clear(),o._s.delete(t)}const G=(mt,gt="")=>{if(Wc in mt)return mt[ga]=gt,mt;const ht=function(){Tr(o);const W=Array.from(arguments),j=new Set,vt=new Set;function Lt(wt){j.add(wt)}function xt(wt){vt.add(wt)}ts(b,{args:W,name:ht[ga],store:q,after:Lt,onError:xt});let bt;try{bt=mt.apply(this&&this.$id===t?this:q,W)}catch(wt){throw ts(vt,wt),wt}return bt instanceof Promise?bt.then(wt=>(ts(j,wt),wt)).catch(wt=>(ts(vt,wt),Promise.reject(wt))):(ts(j,bt),bt)};return ht[Wc]=!0,ht[ga]=gt,ht},Q={_p:o,$id:t,$onAction:Zc.bind(null,b),$patch:B,$reset:Y,$subscribe(mt,gt={}){const ht=Zc(y,mt,gt.detached,()=>W()),W=c.run(()=>cn(()=>o.state.value[t],j=>{(gt.flush==="sync"?m:_)&&mt({storeId:t,type:Vs.direct,events:P},j)},oi({},f,gt)));return ht},$dispose:X},q=ro(Q);o._s.set(t,q);const lt=(o._a&&o._a.runWithContext||Qm)(()=>o._e.run(()=>(c=Fu()).run(()=>n({action:G}))));for(const mt in lt){const gt=lt[mt];if(_e(gt)&&!n_(gt)||Wn(gt))l||(k&&e_(gt)&&(_e(gt)?gt.value=k[mt]:Fa(gt,k[mt])),o.state.value[t][mt]=gt);else if(typeof gt=="function"){const ht=G(gt,mt);lt[mt]=ht,h.actions[mt]=gt}}return oi(q,lt),oi(Gt(q),lt),Object.defineProperty(q,"$state",{get:()=>o.state.value[t],set:mt=>{B(gt=>{oi(gt,mt)})}}),o._p.forEach(mt=>{oi(q,c.run(()=>mt({store:q,app:o._a,pinia:o,options:h})))}),k&&l&&i.hydrate&&i.hydrate(q.$state,k),_=!0,m=!0,q}function Zh(t,n,i){let o;const r=typeof n=="function";o=r?i:n;function l(c,h){const f=gp();return c=c||(f?ln($h,null):null),c&&Tr(c),c=zh,c._s.has(t)||(r?Hh(t,n,o,c):i_(t,o,c)),c._s.get(t)}return l.$id=t,l}const Fe=(t,n)=>{const i=t.__vccOpts||t;for(const[o,r]of n)i[o]=r;return i},s_={},o_={id:"app"};function r_(t,n){const i=ll("router-view");return z(),$("div",o_,[Wt(i)])}const a_=Fe(s_,[["render",r_]]);const is=typeof document<"u";function Wh(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function l_(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Wh(t.default)}const Yt=Object.assign;function va(t,n){const i={};for(const o in n){const r=n[o];i[o]=vn(r)?r.map(t):t(r)}return i}const qs=()=>{},vn=Array.isArray;function jc(t,n){const i={};for(const o in t)i[o]=o in n?n[o]:t[o];return i}const jh=/#/g,c_=/&/g,u_=/\//g,h_=/=/g,d_=/\?/g,Vh=/\+/g,f_=/%5B/g,p_=/%5D/g,qh=/%5E/g,m_=/%60/g,Gh=/%7B/g,__=/%7C/g,Kh=/%7D/g,g_=/%20/g;function fl(t){return t==null?"":encodeURI(""+t).replace(__,"|").replace(f_,"[").replace(p_,"]")}function v_(t){return fl(t).replace(Gh,"{").replace(Kh,"}").replace(qh,"^")}function za(t){return fl(t).replace(Vh,"%2B").replace(g_,"+").replace(jh,"%23").replace(c_,"%26").replace(m_,"`").replace(Gh,"{").replace(Kh,"}").replace(qh,"^")}function y_(t){return za(t).replace(h_,"%3D")}function b_(t){return fl(t).replace(jh,"%23").replace(d_,"%3F")}function w_(t){return b_(t).replace(u_,"%2F")}function eo(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const C_=/\/$/,S_=t=>t.replace(C_,"");function ya(t,n,i="/"){let o,r={},l="",c="";const h=n.indexOf("#");let f=n.indexOf("?");return f=h>=0&&f>h?-1:f,f>=0&&(o=n.slice(0,f),l=n.slice(f,h>0?h:n.length),r=t(l.slice(1))),h>=0&&(o=o||n.slice(0,h),c=n.slice(h,n.length)),o=k_(o??n,i),{fullPath:o+l+c,path:o,query:r,hash:eo(c)}}function x_(t,n){const i=n.query?t(n.query):"";return n.path+(i&&"?")+i+(n.hash||"")}function Vc(t,n){return!n||!t.toLowerCase().startsWith(n.toLowerCase())?t:t.slice(n.length)||"/"}function E_(t,n,i){const o=n.matched.length-1,r=i.matched.length-1;return o>-1&&o===r&&ds(n.matched[o],i.matched[r])&&Jh(n.params,i.params)&&t(n.query)===t(i.query)&&n.hash===i.hash}function ds(t,n){return(t.aliasOf||t)===(n.aliasOf||n)}function Jh(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(var i in t)if(!P_(t[i],n[i]))return!1;return!0}function P_(t,n){return vn(t)?qc(t,n):vn(n)?qc(n,t):t?.valueOf()===n?.valueOf()}function qc(t,n){return vn(n)?t.length===n.length&&t.every((i,o)=>i===n[o]):t.length===1&&t[0]===n}function k_(t,n){if(t.startsWith("/"))return t;if(!t)return n;const i=n.split("/"),o=t.split("/"),r=o[o.length-1];(r===".."||r===".")&&o.push("");let l=i.length-1,c,h;for(c=0;c<o.length;c++)if(h=o[c],h!==".")if(h==="..")l>1&&l--;else break;return i.slice(0,l).join("/")+"/"+o.slice(c).join("/")}const ii={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let $a=(function(t){return t.pop="pop",t.push="push",t})({}),ba=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function T_(t){if(!t)if(is){const n=document.querySelector("base");t=n&&n.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),S_(t)}const I_=/^[^#]+#/;function L_(t,n){return t.replace(I_,"#")+n}function A_(t,n){const i=document.documentElement.getBoundingClientRect(),o=t.getBoundingClientRect();return{behavior:n.behavior,left:o.left-i.left-(n.left||0),top:o.top-i.top-(n.top||0)}}const Ir=()=>({left:window.scrollX,top:window.scrollY});function M_(t){let n;if("el"in t){const i=t.el,o=typeof i=="string"&&i.startsWith("#"),r=typeof i=="string"?o?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!r)return;n=A_(r,t)}else n=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.scrollX,n.top!=null?n.top:window.scrollY)}function Gc(t,n){return(history.state?history.state.position-n:-1)+t}const Ua=new Map;function R_(t,n){Ua.set(t,n)}function O_(t){const n=Ua.get(t);return Ua.delete(t),n}function D_(t){return typeof t=="string"||t&&typeof t=="object"}function Xh(t){return typeof t=="string"||typeof t=="symbol"}let me=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const Yh=Symbol("");me.MATCHER_NOT_FOUND+"",me.NAVIGATION_GUARD_REDIRECT+"",me.NAVIGATION_ABORTED+"",me.NAVIGATION_CANCELLED+"",me.NAVIGATION_DUPLICATED+"";function fs(t,n){return Yt(new Error,{type:t,[Yh]:!0},n)}function zn(t,n){return t instanceof Error&&Yh in t&&(n==null||!!(t.type&n))}const N_=["params","query","hash"];function B_(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const n={};for(const i of N_)i in t&&(n[i]=t[i]);return JSON.stringify(n,null,2)}function F_(t){const n={};if(t===""||t==="?")return n;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<i.length;++o){const r=i[o].replace(Vh," "),l=r.indexOf("="),c=eo(l<0?r:r.slice(0,l)),h=l<0?null:eo(r.slice(l+1));if(c in n){let f=n[c];vn(f)||(f=n[c]=[f]),f.push(h)}else n[c]=h}return n}function Kc(t){let n="";for(let i in t){const o=t[i];if(i=y_(i),o==null){o!==void 0&&(n+=(n.length?"&":"")+i);continue}(vn(o)?o.map(r=>r&&za(r)):[o&&za(o)]).forEach(r=>{r!==void 0&&(n+=(n.length?"&":"")+i,r!=null&&(n+="="+r))})}return n}function z_(t){const n={};for(const i in t){const o=t[i];o!==void 0&&(n[i]=vn(o)?o.map(r=>r==null?null:""+r):o==null?o:""+o)}return n}const $_=Symbol(""),Jc=Symbol(""),Lr=Symbol(""),pl=Symbol(""),Ha=Symbol("");function Ds(){let t=[];function n(o){return t.push(o),()=>{const r=t.indexOf(o);r>-1&&t.splice(r,1)}}function i(){t=[]}return{add:n,list:()=>t.slice(),reset:i}}function ci(t,n,i,o,r,l=c=>c()){const c=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise((h,f)=>{const _=b=>{b===!1?f(fs(me.NAVIGATION_ABORTED,{from:i,to:n})):b instanceof Error?f(b):D_(b)?f(fs(me.NAVIGATION_GUARD_REDIRECT,{from:n,to:b})):(c&&o.enterCallbacks[r]===c&&typeof b=="function"&&c.push(b),h())},m=l(()=>t.call(o&&o.instances[r],n,i,_));let y=Promise.resolve(m);t.length<3&&(y=y.then(_)),y.catch(b=>f(b))})}function wa(t,n,i,o,r=l=>l()){const l=[];for(const c of t)for(const h in c.components){let f=c.components[h];if(!(n!=="beforeRouteEnter"&&!c.instances[h]))if(Wh(f)){const _=(f.__vccOpts||f)[n];_&&l.push(ci(_,i,o,c,h,r))}else{let _=f();l.push(()=>_.then(m=>{if(!m)throw new Error(`Couldn't resolve component "${h}" at "${c.path}"`);const y=l_(m)?m.default:m;c.mods[h]=m,c.components[h]=y;const b=(y.__vccOpts||y)[n];return b&&ci(b,i,o,c,h,r)()}))}}return l}function U_(t,n){const i=[],o=[],r=[],l=Math.max(n.matched.length,t.matched.length);for(let c=0;c<l;c++){const h=n.matched[c];h&&(t.matched.find(_=>ds(_,h))?o.push(h):i.push(h));const f=t.matched[c];f&&(n.matched.find(_=>ds(_,f))||r.push(f))}return[i,o,r]}let H_=()=>location.protocol+"//"+location.host;function Qh(t,n){const{pathname:i,search:o,hash:r}=n,l=t.indexOf("#");if(l>-1){let c=r.includes(t.slice(l))?t.slice(l).length:1,h=r.slice(c);return h[0]!=="/"&&(h="/"+h),Vc(h,"")}return Vc(i,t)+o+r}function Z_(t,n,i,o){let r=[],l=[],c=null;const h=({state:b})=>{const P=Qh(t,location),k=i.value,A=n.value;let B=0;if(b){if(i.value=P,n.value=b,c&&c===k){c=null;return}B=A?b.position-A.position:0}else o(P);r.forEach(Y=>{Y(i.value,k,{delta:B,type:$a.pop,direction:B?B>0?ba.forward:ba.back:ba.unknown})})};function f(){c=i.value}function _(b){r.push(b);const P=()=>{const k=r.indexOf(b);k>-1&&r.splice(k,1)};return l.push(P),P}function m(){if(document.visibilityState==="hidden"){const{history:b}=window;if(!b.state)return;b.replaceState(Yt({},b.state,{scroll:Ir()}),"")}}function y(){for(const b of l)b();l=[],window.removeEventListener("popstate",h),window.removeEventListener("pagehide",m),document.removeEventListener("visibilitychange",m)}return window.addEventListener("popstate",h),window.addEventListener("pagehide",m),document.addEventListener("visibilitychange",m),{pauseListeners:f,listen:_,destroy:y}}function Xc(t,n,i,o=!1,r=!1){return{back:t,current:n,forward:i,replaced:o,position:window.history.length,scroll:r?Ir():null}}function W_(t){const{history:n,location:i}=window,o={value:Qh(t,i)},r={value:n.state};r.value||l(o.value,{back:null,current:o.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function l(f,_,m){const y=t.indexOf("#"),b=y>-1?(i.host&&document.querySelector("base")?t:t.slice(y))+f:H_()+t+f;try{n[m?"replaceState":"pushState"](_,"",b),r.value=_}catch(P){console.error(P),i[m?"replace":"assign"](b)}}function c(f,_){l(f,Yt({},n.state,Xc(r.value.back,f,r.value.forward,!0),_,{position:r.value.position}),!0),o.value=f}function h(f,_){const m=Yt({},r.value,n.state,{forward:f,scroll:Ir()});l(m.current,m,!0),l(f,Yt({},Xc(o.value,f,null),{position:m.position+1},_),!1),o.value=f}return{location:o,state:r,push:h,replace:c}}function j_(t){t=T_(t);const n=W_(t),i=Z_(t,n.state,n.location,n.replace);function o(l,c=!0){c||i.pauseListeners(),history.go(l)}const r=Yt({location:"",base:t,go:o,createHref:L_.bind(null,t)},n,i);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>n.state.value}),r}let Pi=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var Se=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(Se||{});const V_={type:Pi.Static,value:""},q_=/[a-zA-Z0-9_]/;function G_(t){if(!t)return[[]];if(t==="/")return[[V_]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function n(P){throw new Error(`ERR (${i})/"${_}": ${P}`)}let i=Se.Static,o=i;const r=[];let l;function c(){l&&r.push(l),l=[]}let h=0,f,_="",m="";function y(){_&&(i===Se.Static?l.push({type:Pi.Static,value:_}):i===Se.Param||i===Se.ParamRegExp||i===Se.ParamRegExpEnd?(l.length>1&&(f==="*"||f==="+")&&n(`A repeatable param (${_}) must be alone in its segment. eg: '/:ids+.`),l.push({type:Pi.Param,value:_,regexp:m,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):n("Invalid state to consume buffer"),_="")}function b(){_+=f}for(;h<t.length;){if(f=t[h++],f==="\\"&&i!==Se.ParamRegExp){o=i,i=Se.EscapeNext;continue}switch(i){case Se.Static:f==="/"?(_&&y(),c()):f===":"?(y(),i=Se.Param):b();break;case Se.EscapeNext:b(),i=o;break;case Se.Param:f==="("?i=Se.ParamRegExp:q_.test(f)?b():(y(),i=Se.Static,f!=="*"&&f!=="?"&&f!=="+"&&h--);break;case Se.ParamRegExp:f===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+f:i=Se.ParamRegExpEnd:m+=f;break;case Se.ParamRegExpEnd:y(),i=Se.Static,f!=="*"&&f!=="?"&&f!=="+"&&h--,m="";break;default:n("Unknown state");break}}return i===Se.ParamRegExp&&n(`Unfinished custom RegExp for param "${_}"`),y(),c(),r}const Yc="[^/]+?",K_={sensitive:!1,strict:!1,start:!0,end:!0};var Ve=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(Ve||{});const J_=/[.+*?^${}()[\]/\\]/g;function X_(t,n){const i=Yt({},K_,n),o=[];let r=i.start?"^":"";const l=[];for(const _ of t){const m=_.length?[]:[Ve.Root];i.strict&&!_.length&&(r+="/");for(let y=0;y<_.length;y++){const b=_[y];let P=Ve.Segment+(i.sensitive?Ve.BonusCaseSensitive:0);if(b.type===Pi.Static)y||(r+="/"),r+=b.value.replace(J_,"\\$&"),P+=Ve.Static;else if(b.type===Pi.Param){const{value:k,repeatable:A,optional:B,regexp:Y}=b;l.push({name:k,repeatable:A,optional:B});const X=Y||Yc;if(X!==Yc){P+=Ve.BonusCustomRegExp;try{`${X}`}catch(Q){throw new Error(`Invalid custom RegExp for param "${k}" (${X}): `+Q.message)}}let G=A?`((?:${X})(?:/(?:${X}))*)`:`(${X})`;y||(G=B&&_.length<2?`(?:/${G})`:"/"+G),B&&(G+="?"),r+=G,P+=Ve.Dynamic,B&&(P+=Ve.BonusOptional),A&&(P+=Ve.BonusRepeatable),X===".*"&&(P+=Ve.BonusWildcard)}m.push(P)}o.push(m)}if(i.strict&&i.end){const _=o.length-1;o[_][o[_].length-1]+=Ve.BonusStrict}i.strict||(r+="/?"),i.end?r+="$":i.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const c=new RegExp(r,i.sensitive?"":"i");function h(_){const m=_.match(c),y={};if(!m)return null;for(let b=1;b<m.length;b++){const P=m[b]||"",k=l[b-1];y[k.name]=P&&k.repeatable?P.split("/"):P}return y}function f(_){let m="",y=!1;for(const b of t){(!y||!m.endsWith("/"))&&(m+="/"),y=!1;for(const P of b)if(P.type===Pi.Static)m+=P.value;else if(P.type===Pi.Param){const{value:k,repeatable:A,optional:B}=P,Y=k in _?_[k]:"";if(vn(Y)&&!A)throw new Error(`Provided param "${k}" is an array but it is not repeatable (* or + modifiers)`);const X=vn(Y)?Y.join("/"):Y;if(!X)if(B)b.length<2&&(m.endsWith("/")?m=m.slice(0,-1):y=!0);else throw new Error(`Missing required param "${k}"`);m+=X}}return m||"/"}return{re:c,score:o,keys:l,parse:h,stringify:f}}function Y_(t,n){let i=0;for(;i<t.length&&i<n.length;){const o=n[i]-t[i];if(o)return o;i++}return t.length<n.length?t.length===1&&t[0]===Ve.Static+Ve.Segment?-1:1:t.length>n.length?n.length===1&&n[0]===Ve.Static+Ve.Segment?1:-1:0}function td(t,n){let i=0;const o=t.score,r=n.score;for(;i<o.length&&i<r.length;){const l=Y_(o[i],r[i]);if(l)return l;i++}if(Math.abs(r.length-o.length)===1){if(Qc(o))return 1;if(Qc(r))return-1}return r.length-o.length}function Qc(t){const n=t[t.length-1];return t.length>0&&n[n.length-1]<0}const Q_={strict:!1,end:!0,sensitive:!1};function tg(t,n,i){const o=X_(G_(t.path),i),r=Yt(o,{record:t,parent:n,children:[],alias:[]});return n&&!r.record.aliasOf==!n.record.aliasOf&&n.children.push(r),r}function eg(t,n){const i=[],o=new Map;n=jc(Q_,n);function r(y){return o.get(y)}function l(y,b,P){const k=!P,A=eu(y);A.aliasOf=P&&P.record;const B=jc(n,y),Y=[A];if("alias"in y){const Q=typeof y.alias=="string"?[y.alias]:y.alias;for(const q of Q)Y.push(eu(Yt({},A,{components:P?P.record.components:A.components,path:q,aliasOf:P?P.record:A})))}let X,G;for(const Q of Y){const{path:q}=Q;if(b&&q[0]!=="/"){const K=b.record.path,lt=K[K.length-1]==="/"?"":"/";Q.path=b.record.path+(q&&lt+q)}if(X=tg(Q,b,B),P?P.alias.push(X):(G=G||X,G!==X&&G.alias.push(X),k&&y.name&&!nu(X)&&c(y.name)),ed(X)&&f(X),A.children){const K=A.children;for(let lt=0;lt<K.length;lt++)l(K[lt],X,P&&P.children[lt])}P=P||X}return G?()=>{c(G)}:qs}function c(y){if(Xh(y)){const b=o.get(y);b&&(o.delete(y),i.splice(i.indexOf(b),1),b.children.forEach(c),b.alias.forEach(c))}else{const b=i.indexOf(y);b>-1&&(i.splice(b,1),y.record.name&&o.delete(y.record.name),y.children.forEach(c),y.alias.forEach(c))}}function h(){return i}function f(y){const b=sg(y,i);i.splice(b,0,y),y.record.name&&!nu(y)&&o.set(y.record.name,y)}function _(y,b){let P,k={},A,B;if("name"in y&&y.name){if(P=o.get(y.name),!P)throw fs(me.MATCHER_NOT_FOUND,{location:y});B=P.record.name,k=Yt(tu(b.params,P.keys.filter(G=>!G.optional).concat(P.parent?P.parent.keys.filter(G=>G.optional):[]).map(G=>G.name)),y.params&&tu(y.params,P.keys.map(G=>G.name))),A=P.stringify(k)}else if(y.path!=null)A=y.path,P=i.find(G=>G.re.test(A)),P&&(k=P.parse(A),B=P.record.name);else{if(P=b.name?o.get(b.name):i.find(G=>G.re.test(b.path)),!P)throw fs(me.MATCHER_NOT_FOUND,{location:y,currentLocation:b});B=P.record.name,k=Yt({},b.params,y.params),A=P.stringify(k)}const Y=[];let X=P;for(;X;)Y.unshift(X.record),X=X.parent;return{name:B,path:A,params:k,matched:Y,meta:ig(Y)}}t.forEach(y=>l(y));function m(){i.length=0,o.clear()}return{addRoute:l,resolve:_,removeRoute:c,clearRoutes:m,getRoutes:h,getRecordMatcher:r}}function tu(t,n){const i={};for(const o of n)o in t&&(i[o]=t[o]);return i}function eu(t){const n={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:ng(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(n,"mods",{value:{}}),n}function ng(t){const n={},i=t.props||!1;if("component"in t)n.default=i;else for(const o in t.components)n[o]=typeof i=="object"?i[o]:i;return n}function nu(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ig(t){return t.reduce((n,i)=>Yt(n,i.meta),{})}function sg(t,n){let i=0,o=n.length;for(;i!==o;){const l=i+o>>1;td(t,n[l])<0?o=l:i=l+1}const r=og(t);return r&&(o=n.lastIndexOf(r,o-1)),o}function og(t){let n=t;for(;n=n.parent;)if(ed(n)&&td(t,n)===0)return n}function ed({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function iu(t){const n=ln(Lr),i=ln(pl),o=Ee(()=>{const f=di(t.to);return n.resolve(f)}),r=Ee(()=>{const{matched:f}=o.value,{length:_}=f,m=f[_-1],y=i.matched;if(!m||!y.length)return-1;const b=y.findIndex(ds.bind(null,m));if(b>-1)return b;const P=su(f[_-2]);return _>1&&su(m)===P&&y[y.length-1].path!==P?y.findIndex(ds.bind(null,f[_-2])):b}),l=Ee(()=>r.value>-1&&ug(i.params,o.value.params)),c=Ee(()=>r.value>-1&&r.value===i.matched.length-1&&Jh(i.params,o.value.params));function h(f={}){if(cg(f)){const _=n[di(t.replace)?"replace":"push"](di(t.to)).catch(qs);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>_),_}return Promise.resolve()}return{route:o,href:Ee(()=>o.value.href),isActive:l,isExactActive:c,navigate:h}}function rg(t){return t.length===1?t[0]:t}const ag=uh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:iu,setup(t,{slots:n}){const i=ro(iu(t)),{options:o}=ln(Lr),r=Ee(()=>({[ou(t.activeClass,o.linkActiveClass,"router-link-active")]:i.isActive,[ou(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const l=n.default&&rg(n.default(i));return t.custom?l:Dh("a",{"aria-current":i.isExactActive?t.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:r.value},l)}}}),lg=ag;function cg(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const n=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return t.preventDefault&&t.preventDefault(),!0}}function ug(t,n){for(const i in n){const o=n[i],r=t[i];if(typeof o=="string"){if(o!==r)return!1}else if(!vn(r)||r.length!==o.length||o.some((l,c)=>l.valueOf()!==r[c].valueOf()))return!1}return!0}function su(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ou=(t,n,i)=>t??n??i,hg=uh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:n,slots:i}){const o=ln(Ha),r=Ee(()=>t.route||o.value),l=ln(Jc,0),c=Ee(()=>{let _=di(l);const{matched:m}=r.value;let y;for(;(y=m[_])&&!y.components;)_++;return _}),h=Ee(()=>r.value.matched[c.value]);Go(Jc,Ee(()=>c.value+1)),Go($_,h),Go(Ha,r);const f=H();return cn(()=>[f.value,h.value,t.name],([_,m,y],[b,P,k])=>{m&&(m.instances[y]=_,P&&P!==m&&_&&_===b&&(m.leaveGuards.size||(m.leaveGuards=P.leaveGuards),m.updateGuards.size||(m.updateGuards=P.updateGuards))),_&&m&&(!P||!ds(m,P)||!b)&&(m.enterCallbacks[y]||[]).forEach(A=>A(_))},{flush:"post"}),()=>{const _=r.value,m=t.name,y=h.value,b=y&&y.components[m];if(!b)return ru(i.default,{Component:b,route:_});const P=y.props[m],k=P?P===!0?_.params:typeof P=="function"?P(_):P:null,B=Dh(b,Yt({},k,n,{onVnodeUnmounted:Y=>{Y.component.isUnmounted&&(y.instances[m]=null)},ref:f}));return ru(i.default,{Component:B,route:_})||B}}});function ru(t,n){if(!t)return null;const i=t(n);return i.length===1?i[0]:i}const dg=hg;function fg(t){const n=eg(t.routes,t),i=t.parseQuery||F_,o=t.stringifyQuery||Kc,r=t.history,l=Ds(),c=Ds(),h=Ds(),f=sp(ii);let _=ii;is&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=va.bind(null,O=>""+O),y=va.bind(null,w_),b=va.bind(null,eo);function P(O,it){let nt,ut;return Xh(O)?(nt=n.getRecordMatcher(O),ut=it):ut=O,n.addRoute(ut,nt)}function k(O){const it=n.getRecordMatcher(O);it&&n.removeRoute(it)}function A(){return n.getRoutes().map(O=>O.record)}function B(O){return!!n.getRecordMatcher(O)}function Y(O,it){if(it=Yt({},it||f.value),typeof O=="string"){const T=ya(i,O,it.path),D=n.resolve({path:T.path},it),U=r.createHref(T.fullPath);return Yt(T,D,{params:b(D.params),hash:eo(T.hash),redirectedFrom:void 0,href:U})}let nt;if(O.path!=null)nt=Yt({},O,{path:ya(i,O.path,it.path).path});else{const T=Yt({},O.params);for(const D in T)T[D]==null&&delete T[D];nt=Yt({},O,{params:y(T)}),it.params=y(it.params)}const ut=n.resolve(nt,it),Et=O.hash||"";ut.params=m(b(ut.params));const w=x_(o,Yt({},O,{hash:v_(Et),path:ut.path})),C=r.createHref(w);return Yt({fullPath:w,hash:Et,query:o===Kc?z_(O.query):O.query||{}},ut,{redirectedFrom:void 0,href:C})}function X(O){return typeof O=="string"?ya(i,O,f.value.path):Yt({},O)}function G(O,it){if(_!==O)return fs(me.NAVIGATION_CANCELLED,{from:it,to:O})}function Q(O){return lt(O)}function q(O){return Q(Yt(X(O),{replace:!0}))}function K(O,it){const nt=O.matched[O.matched.length-1];if(nt&&nt.redirect){const{redirect:ut}=nt;let Et=typeof ut=="function"?ut(O,it):ut;return typeof Et=="string"&&(Et=Et.includes("?")||Et.includes("#")?Et=X(Et):{path:Et},Et.params={}),Yt({query:O.query,hash:O.hash,params:Et.path!=null?{}:O.params},Et)}}function lt(O,it){const nt=_=Y(O),ut=f.value,Et=O.state,w=O.force,C=O.replace===!0,T=K(nt,ut);if(T)return lt(Yt(X(T),{state:typeof T=="object"?Yt({},Et,T.state):Et,force:w,replace:C}),it||nt);const D=nt;D.redirectedFrom=it;let U;return!w&&E_(o,ut,nt)&&(U=fs(me.NAVIGATION_DUPLICATED,{to:D,from:ut}),It(ut,ut,!0,!1)),(U?Promise.resolve(U):ht(D,ut)).catch(N=>zn(N)?zn(N,me.NAVIGATION_GUARD_REDIRECT)?N:yt(N):tt(N,D,ut)).then(N=>{if(N){if(zn(N,me.NAVIGATION_GUARD_REDIRECT))return lt(Yt({replace:C},X(N.to),{state:typeof N.to=="object"?Yt({},Et,N.to.state):Et,force:w}),it||D)}else N=j(D,ut,!0,C,Et);return W(D,ut,N),N})}function mt(O,it){const nt=G(O,it);return nt?Promise.reject(nt):Promise.resolve()}function gt(O){const it=$t.values().next().value;return it&&typeof it.runWithContext=="function"?it.runWithContext(O):O()}function ht(O,it){let nt;const[ut,Et,w]=U_(O,it);nt=wa(ut.reverse(),"beforeRouteLeave",O,it);for(const T of ut)T.leaveGuards.forEach(D=>{nt.push(ci(D,O,it))});const C=mt.bind(null,O,it);return nt.push(C),dt(nt).then(()=>{nt=[];for(const T of l.list())nt.push(ci(T,O,it));return nt.push(C),dt(nt)}).then(()=>{nt=wa(Et,"beforeRouteUpdate",O,it);for(const T of Et)T.updateGuards.forEach(D=>{nt.push(ci(D,O,it))});return nt.push(C),dt(nt)}).then(()=>{nt=[];for(const T of w)if(T.beforeEnter)if(vn(T.beforeEnter))for(const D of T.beforeEnter)nt.push(ci(D,O,it));else nt.push(ci(T.beforeEnter,O,it));return nt.push(C),dt(nt)}).then(()=>(O.matched.forEach(T=>T.enterCallbacks={}),nt=wa(w,"beforeRouteEnter",O,it,gt),nt.push(C),dt(nt))).then(()=>{nt=[];for(const T of c.list())nt.push(ci(T,O,it));return nt.push(C),dt(nt)}).catch(T=>zn(T,me.NAVIGATION_CANCELLED)?T:Promise.reject(T))}function W(O,it,nt){h.list().forEach(ut=>gt(()=>ut(O,it,nt)))}function j(O,it,nt,ut,Et){const w=G(O,it);if(w)return w;const C=it===ii,T=is?history.state:{};nt&&(ut||C?r.replace(O.fullPath,Yt({scroll:C&&T&&T.scroll},Et)):r.push(O.fullPath,Et)),f.value=O,It(O,it,nt,C),yt()}let vt;function Lt(){vt||(vt=r.listen((O,it,nt)=>{if(!_t.listening)return;const ut=Y(O),Et=K(ut,_t.currentRoute.value);if(Et){lt(Yt(Et,{replace:!0,force:!0}),ut).catch(qs);return}_=ut;const w=f.value;is&&R_(Gc(w.fullPath,nt.delta),Ir()),ht(ut,w).catch(C=>zn(C,me.NAVIGATION_ABORTED|me.NAVIGATION_CANCELLED)?C:zn(C,me.NAVIGATION_GUARD_REDIRECT)?(lt(Yt(X(C.to),{force:!0}),ut).then(T=>{zn(T,me.NAVIGATION_ABORTED|me.NAVIGATION_DUPLICATED)&&!nt.delta&&nt.type===$a.pop&&r.go(-1,!1)}).catch(qs),Promise.reject()):(nt.delta&&r.go(-nt.delta,!1),tt(C,ut,w))).then(C=>{C=C||j(ut,w,!1),C&&(nt.delta&&!zn(C,me.NAVIGATION_CANCELLED)?r.go(-nt.delta,!1):nt.type===$a.pop&&zn(C,me.NAVIGATION_ABORTED|me.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),W(ut,w,C)}).catch(qs)}))}let xt=Ds(),bt=Ds(),wt;function tt(O,it,nt){yt(O);const ut=bt.list();return ut.length?ut.forEach(Et=>Et(O,it,nt)):console.error(O),Promise.reject(O)}function ee(){return wt&&f.value!==ii?Promise.resolve():new Promise((O,it)=>{xt.add([O,it])})}function yt(O){return wt||(wt=!O,Lt(),xt.list().forEach(([it,nt])=>O?nt(O):it()),xt.reset()),O}function It(O,it,nt,ut){const{scrollBehavior:Et}=t;if(!is||!Et)return Promise.resolve();const w=!nt&&O_(Gc(O.fullPath,0))||(ut||!nt)&&history.state&&history.state.scroll||null;return Sr().then(()=>Et(O,it,w)).then(C=>C&&M_(C)).catch(C=>tt(C,O,it))}const Nt=O=>r.go(O);let Ht;const $t=new Set,_t={currentRoute:f,listening:!0,addRoute:P,removeRoute:k,clearRoutes:n.clearRoutes,hasRoute:B,getRoutes:A,resolve:Y,options:t,push:Q,replace:q,go:Nt,back:()=>Nt(-1),forward:()=>Nt(1),beforeEach:l.add,beforeResolve:c.add,afterEach:h.add,onError:bt.add,isReady:ee,install(O){O.component("RouterLink",lg),O.component("RouterView",dg),O.config.globalProperties.$router=_t,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>di(f)}),is&&!Ht&&f.value===ii&&(Ht=!0,Q(r.location).catch(ut=>{}));const it={};for(const ut in ii)Object.defineProperty(it,ut,{get:()=>f.value[ut],enumerable:!0});O.provide(Lr,_t),O.provide(pl,th(it)),O.provide(Ha,f);const nt=O.unmount;$t.add(O),O.unmount=function(){$t.delete(O),$t.size<1&&(_=ii,vt&&vt(),vt=null,f.value=ii,Ht=!1,wt=!1),nt()}}};function dt(O){return O.reduce((it,nt)=>it.then(()=>gt(nt)),Promise.resolve())}return _t}function ml(){return ln(Lr)}function nd(t){return ln(pl)}const pg={},mg={class:"home"},_g={class:"container"},gg={class:"actions"};function vg(t,n){const i=ll("router-link");return z(),$("div",mg,[p("div",_g,[n[1]||(n[1]=p("h1",null,"Volunteer Check-in System ",-1)),n[2]||(n[2]=p("p",{class:"subtitle"},"Manage race marshals and volunteers with ease",-1)),p("div",gg,[Wt(i,{to:"/admin/login",class:"btn btn-primary"},{default:ol(()=>[...n[0]||(n[0]=[je(" Admin Portal ",-1)])]),_:1})]),n[3]||(n[3]=hl('<div class="features" data-v-536ab6a4><div class="feature-card" data-v-536ab6a4><h3 data-v-536ab6a4>For Admins</h3><ul data-v-536ab6a4><li data-v-536ab6a4>Create and manage events</li><li data-v-536ab6a4>Define marshal locations</li><li data-v-536ab6a4>Assign marshals to locations</li><li data-v-536ab6a4>Real-time check-in monitoring</li><li data-v-536ab6a4>Map view of all locations</li></ul></div><div class="feature-card" data-v-536ab6a4><h3 data-v-536ab6a4>For Marshals</h3><ul data-v-536ab6a4><li data-v-536ab6a4>View your assigned location</li><li data-v-536ab6a4>Check in with GPS verification</li><li data-v-536ab6a4>Access emergency contact info</li><li data-v-536ab6a4>View all marshal locations</li></ul></div></div>',1))])])}const yg=Fe(pg,[["render",vg],["__scopeId","data-v-536ab6a4"]]);function id(t,n){return function(){return t.apply(n,arguments)}}const{toString:bg}=Object.prototype,{getPrototypeOf:_l}=Object,{iterator:Ar,toStringTag:sd}=Symbol,Mr=(t=>n=>{const i=bg.call(n);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),yn=t=>(t=t.toLowerCase(),n=>Mr(n)===t),Rr=t=>n=>typeof n===t,{isArray:gs}=Array,ps=Rr("undefined");function uo(t){return t!==null&&!ps(t)&&t.constructor!==null&&!ps(t.constructor)&&Je(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const od=yn("ArrayBuffer");function wg(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&od(t.buffer),n}const Cg=Rr("string"),Je=Rr("function"),rd=Rr("number"),ho=t=>t!==null&&typeof t=="object",Sg=t=>t===!0||t===!1,Qo=t=>{if(Mr(t)!=="object")return!1;const n=_l(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(sd in t)&&!(Ar in t)},xg=t=>{if(!ho(t)||uo(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Eg=yn("Date"),Pg=yn("File"),kg=yn("Blob"),Tg=yn("FileList"),Ig=t=>ho(t)&&Je(t.pipe),Lg=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||Je(t.append)&&((n=Mr(t))==="formdata"||n==="object"&&Je(t.toString)&&t.toString()==="[object FormData]"))},Ag=yn("URLSearchParams"),[Mg,Rg,Og,Dg]=["ReadableStream","Request","Response","Headers"].map(yn),Ng=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fo(t,n,{allOwnKeys:i=!1}={}){if(t===null||typeof t>"u")return;let o,r;if(typeof t!="object"&&(t=[t]),gs(t))for(o=0,r=t.length;o<r;o++)n.call(null,t[o],o,t);else{if(uo(t))return;const l=i?Object.getOwnPropertyNames(t):Object.keys(t),c=l.length;let h;for(o=0;o<c;o++)h=l[o],n.call(null,t[h],h,t)}}function ad(t,n){if(uo(t))return null;n=n.toLowerCase();const i=Object.keys(t);let o=i.length,r;for(;o-- >0;)if(r=i[o],n===r.toLowerCase())return r;return null}const ki=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ld=t=>!ps(t)&&t!==ki;function Za(){const{caseless:t,skipUndefined:n}=ld(this)&&this||{},i={},o=(r,l)=>{const c=t&&ad(i,l)||l;Qo(i[c])&&Qo(r)?i[c]=Za(i[c],r):Qo(r)?i[c]=Za({},r):gs(r)?i[c]=r.slice():(!n||!ps(r))&&(i[c]=r)};for(let r=0,l=arguments.length;r<l;r++)arguments[r]&&fo(arguments[r],o);return i}const Bg=(t,n,i,{allOwnKeys:o}={})=>(fo(n,(r,l)=>{i&&Je(r)?t[l]=id(r,i):t[l]=r},{allOwnKeys:o}),t),Fg=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),zg=(t,n,i,o)=>{t.prototype=Object.create(n.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),i&&Object.assign(t.prototype,i)},$g=(t,n,i,o)=>{let r,l,c;const h={};if(n=n||{},t==null)return n;do{for(r=Object.getOwnPropertyNames(t),l=r.length;l-- >0;)c=r[l],(!o||o(c,t,n))&&!h[c]&&(n[c]=t[c],h[c]=!0);t=i!==!1&&_l(t)}while(t&&(!i||i(t,n))&&t!==Object.prototype);return n},Ug=(t,n,i)=>{t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=n.length;const o=t.indexOf(n,i);return o!==-1&&o===i},Hg=t=>{if(!t)return null;if(gs(t))return t;let n=t.length;if(!rd(n))return null;const i=new Array(n);for(;n-- >0;)i[n]=t[n];return i},Zg=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&_l(Uint8Array)),Wg=(t,n)=>{const o=(t&&t[Ar]).call(t);let r;for(;(r=o.next())&&!r.done;){const l=r.value;n.call(t,l[0],l[1])}},jg=(t,n)=>{let i;const o=[];for(;(i=t.exec(n))!==null;)o.push(i);return o},Vg=yn("HTMLFormElement"),qg=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,r){return o.toUpperCase()+r}),au=(({hasOwnProperty:t})=>(n,i)=>t.call(n,i))(Object.prototype),Gg=yn("RegExp"),cd=(t,n)=>{const i=Object.getOwnPropertyDescriptors(t),o={};fo(i,(r,l)=>{let c;(c=n(r,l,t))!==!1&&(o[l]=c||r)}),Object.defineProperties(t,o)},Kg=t=>{cd(t,(n,i)=>{if(Je(t)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=t[i];if(Je(o)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},Jg=(t,n)=>{const i={},o=r=>{r.forEach(l=>{i[l]=!0})};return gs(t)?o(t):o(String(t).split(n)),i},Xg=()=>{},Yg=(t,n)=>t!=null&&Number.isFinite(t=+t)?t:n;function Qg(t){return!!(t&&Je(t.append)&&t[sd]==="FormData"&&t[Ar])}const tv=t=>{const n=new Array(10),i=(o,r)=>{if(ho(o)){if(n.indexOf(o)>=0)return;if(uo(o))return o;if(!("toJSON"in o)){n[r]=o;const l=gs(o)?[]:{};return fo(o,(c,h)=>{const f=i(c,r+1);!ps(f)&&(l[h]=f)}),n[r]=void 0,l}}return o};return i(t,0)},ev=yn("AsyncFunction"),nv=t=>t&&(ho(t)||Je(t))&&Je(t.then)&&Je(t.catch),ud=((t,n)=>t?setImmediate:n?((i,o)=>(ki.addEventListener("message",({source:r,data:l})=>{r===ki&&l===i&&o.length&&o.shift()()},!1),r=>{o.push(r),ki.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Je(ki.postMessage)),iv=typeof queueMicrotask<"u"?queueMicrotask.bind(ki):typeof process<"u"&&process.nextTick||ud,sv=t=>t!=null&&Je(t[Ar]),R={isArray:gs,isArrayBuffer:od,isBuffer:uo,isFormData:Lg,isArrayBufferView:wg,isString:Cg,isNumber:rd,isBoolean:Sg,isObject:ho,isPlainObject:Qo,isEmptyObject:xg,isReadableStream:Mg,isRequest:Rg,isResponse:Og,isHeaders:Dg,isUndefined:ps,isDate:Eg,isFile:Pg,isBlob:kg,isRegExp:Gg,isFunction:Je,isStream:Ig,isURLSearchParams:Ag,isTypedArray:Zg,isFileList:Tg,forEach:fo,merge:Za,extend:Bg,trim:Ng,stripBOM:Fg,inherits:zg,toFlatObject:$g,kindOf:Mr,kindOfTest:yn,endsWith:Ug,toArray:Hg,forEachEntry:Wg,matchAll:jg,isHTMLForm:Vg,hasOwnProperty:au,hasOwnProp:au,reduceDescriptors:cd,freezeMethods:Kg,toObjectSet:Jg,toCamelCase:qg,noop:Xg,toFiniteNumber:Yg,findKey:ad,global:ki,isContextDefined:ld,isSpecCompliantForm:Qg,toJSONObject:tv,isAsyncFn:ev,isThenable:nv,setImmediate:ud,asap:iv,isIterable:sv};function Dt(t,n,i,o,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),i&&(this.config=i),o&&(this.request=o),r&&(this.response=r,this.status=r.status?r.status:null)}R.inherits(Dt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:R.toJSONObject(this.config),code:this.code,status:this.status}}});const hd=Dt.prototype,dd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{dd[t]={value:t}});Object.defineProperties(Dt,dd);Object.defineProperty(hd,"isAxiosError",{value:!0});Dt.from=(t,n,i,o,r,l)=>{const c=Object.create(hd);R.toFlatObject(t,c,function(m){return m!==Error.prototype},_=>_!=="isAxiosError");const h=t&&t.message?t.message:"Error",f=n==null&&t?t.code:n;return Dt.call(c,h,f,i,o,r),t&&c.cause==null&&Object.defineProperty(c,"cause",{value:t,configurable:!0}),c.name=t&&t.name||"Error",l&&Object.assign(c,l),c};const ov=null;function Wa(t){return R.isPlainObject(t)||R.isArray(t)}function fd(t){return R.endsWith(t,"[]")?t.slice(0,-2):t}function lu(t,n,i){return t?t.concat(n).map(function(r,l){return r=fd(r),!i&&l?"["+r+"]":r}).join(i?".":""):n}function rv(t){return R.isArray(t)&&!t.some(Wa)}const av=R.toFlatObject(R,{},null,function(n){return/^is[A-Z]/.test(n)});function Or(t,n,i){if(!R.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,i=R.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,B){return!R.isUndefined(B[A])});const o=i.metaTokens,r=i.visitor||m,l=i.dots,c=i.indexes,f=(i.Blob||typeof Blob<"u"&&Blob)&&R.isSpecCompliantForm(n);if(!R.isFunction(r))throw new TypeError("visitor must be a function");function _(k){if(k===null)return"";if(R.isDate(k))return k.toISOString();if(R.isBoolean(k))return k.toString();if(!f&&R.isBlob(k))throw new Dt("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(k)||R.isTypedArray(k)?f&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function m(k,A,B){let Y=k;if(k&&!B&&typeof k=="object"){if(R.endsWith(A,"{}"))A=o?A:A.slice(0,-2),k=JSON.stringify(k);else if(R.isArray(k)&&rv(k)||(R.isFileList(k)||R.endsWith(A,"[]"))&&(Y=R.toArray(k)))return A=fd(A),Y.forEach(function(G,Q){!(R.isUndefined(G)||G===null)&&n.append(c===!0?lu([A],Q,l):c===null?A:A+"[]",_(G))}),!1}return Wa(k)?!0:(n.append(lu(B,A,l),_(k)),!1)}const y=[],b=Object.assign(av,{defaultVisitor:m,convertValue:_,isVisitable:Wa});function P(k,A){if(!R.isUndefined(k)){if(y.indexOf(k)!==-1)throw Error("Circular reference detected in "+A.join("."));y.push(k),R.forEach(k,function(Y,X){(!(R.isUndefined(Y)||Y===null)&&r.call(n,Y,R.isString(X)?X.trim():X,A,b))===!0&&P(Y,A?A.concat(X):[X])}),y.pop()}}if(!R.isObject(t))throw new TypeError("data must be an object");return P(t),n}function cu(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return n[o]})}function gl(t,n){this._pairs=[],t&&Or(t,this,n)}const pd=gl.prototype;pd.append=function(n,i){this._pairs.push([n,i])};pd.toString=function(n){const i=n?function(o){return n.call(this,o,cu)}:cu;return this._pairs.map(function(r){return i(r[0])+"="+i(r[1])},"").join("&")};function lv(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function md(t,n,i){if(!n)return t;const o=i&&i.encode||lv;R.isFunction(i)&&(i={serialize:i});const r=i&&i.serialize;let l;if(r?l=r(n,i):l=R.isURLSearchParams(n)?n.toString():new gl(n,i).toString(o),l){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class uu{constructor(){this.handlers=[]}use(n,i,o){return this.handlers.push({fulfilled:n,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){R.forEach(this.handlers,function(o){o!==null&&n(o)})}}const _d={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cv=typeof URLSearchParams<"u"?URLSearchParams:gl,uv=typeof FormData<"u"?FormData:null,hv=typeof Blob<"u"?Blob:null,dv={isBrowser:!0,classes:{URLSearchParams:cv,FormData:uv,Blob:hv},protocols:["http","https","file","blob","url","data"]},vl=typeof window<"u"&&typeof document<"u",ja=typeof navigator=="object"&&navigator||void 0,fv=vl&&(!ja||["ReactNative","NativeScript","NS"].indexOf(ja.product)<0),pv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",mv=vl&&window.location.href||"http://localhost",_v=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vl,hasStandardBrowserEnv:fv,hasStandardBrowserWebWorkerEnv:pv,navigator:ja,origin:mv},Symbol.toStringTag,{value:"Module"})),Ne={..._v,...dv};function gv(t,n){return Or(t,new Ne.classes.URLSearchParams,{visitor:function(i,o,r,l){return Ne.isNode&&R.isBuffer(i)?(this.append(o,i.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...n})}function vv(t){return R.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function yv(t){const n={},i=Object.keys(t);let o;const r=i.length;let l;for(o=0;o<r;o++)l=i[o],n[l]=t[l];return n}function gd(t){function n(i,o,r,l){let c=i[l++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),f=l>=i.length;return c=!c&&R.isArray(r)?r.length:c,f?(R.hasOwnProp(r,c)?r[c]=[r[c],o]:r[c]=o,!h):((!r[c]||!R.isObject(r[c]))&&(r[c]=[]),n(i,o,r[c],l)&&R.isArray(r[c])&&(r[c]=yv(r[c])),!h)}if(R.isFormData(t)&&R.isFunction(t.entries)){const i={};return R.forEachEntry(t,(o,r)=>{n(vv(o),r,i,0)}),i}return null}function bv(t,n,i){if(R.isString(t))try{return(n||JSON.parse)(t),R.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(t)}const po={transitional:_d,adapter:["xhr","http","fetch"],transformRequest:[function(n,i){const o=i.getContentType()||"",r=o.indexOf("application/json")>-1,l=R.isObject(n);if(l&&R.isHTMLForm(n)&&(n=new FormData(n)),R.isFormData(n))return r?JSON.stringify(gd(n)):n;if(R.isArrayBuffer(n)||R.isBuffer(n)||R.isStream(n)||R.isFile(n)||R.isBlob(n)||R.isReadableStream(n))return n;if(R.isArrayBufferView(n))return n.buffer;if(R.isURLSearchParams(n))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let h;if(l){if(o.indexOf("application/x-www-form-urlencoded")>-1)return gv(n,this.formSerializer).toString();if((h=R.isFileList(n))||o.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Or(h?{"files[]":n}:n,f&&new f,this.formSerializer)}}return l||r?(i.setContentType("application/json",!1),bv(n)):n}],transformResponse:[function(n){const i=this.transitional||po.transitional,o=i&&i.forcedJSONParsing,r=this.responseType==="json";if(R.isResponse(n)||R.isReadableStream(n))return n;if(n&&R.isString(n)&&(o&&!this.responseType||r)){const c=!(i&&i.silentJSONParsing)&&r;try{return JSON.parse(n,this.parseReviver)}catch(h){if(c)throw h.name==="SyntaxError"?Dt.from(h,Dt.ERR_BAD_RESPONSE,this,null,this.response):h}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ne.classes.FormData,Blob:Ne.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};R.forEach(["delete","get","head","post","put","patch"],t=>{po.headers[t]={}});const wv=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cv=t=>{const n={};let i,o,r;return t&&t.split(`
`).forEach(function(c){r=c.indexOf(":"),i=c.substring(0,r).trim().toLowerCase(),o=c.substring(r+1).trim(),!(!i||n[i]&&wv[i])&&(i==="set-cookie"?n[i]?n[i].push(o):n[i]=[o]:n[i]=n[i]?n[i]+", "+o:o)}),n},hu=Symbol("internals");function Ns(t){return t&&String(t).trim().toLowerCase()}function tr(t){return t===!1||t==null?t:R.isArray(t)?t.map(tr):String(t)}function Sv(t){const n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(t);)n[o[1]]=o[2];return n}const xv=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ca(t,n,i,o,r){if(R.isFunction(o))return o.call(this,n,i);if(r&&(n=i),!!R.isString(n)){if(R.isString(o))return n.indexOf(o)!==-1;if(R.isRegExp(o))return o.test(n)}}function Ev(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,i,o)=>i.toUpperCase()+o)}function Pv(t,n){const i=R.toCamelCase(" "+n);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+i,{value:function(r,l,c){return this[o].call(this,n,r,l,c)},configurable:!0})})}let Xe=class{constructor(n){n&&this.set(n)}set(n,i,o){const r=this;function l(h,f,_){const m=Ns(f);if(!m)throw new Error("header name must be a non-empty string");const y=R.findKey(r,m);(!y||r[y]===void 0||_===!0||_===void 0&&r[y]!==!1)&&(r[y||f]=tr(h))}const c=(h,f)=>R.forEach(h,(_,m)=>l(_,m,f));if(R.isPlainObject(n)||n instanceof this.constructor)c(n,i);else if(R.isString(n)&&(n=n.trim())&&!xv(n))c(Cv(n),i);else if(R.isObject(n)&&R.isIterable(n)){let h={},f,_;for(const m of n){if(!R.isArray(m))throw TypeError("Object iterator must return a key-value pair");h[_=m[0]]=(f=h[_])?R.isArray(f)?[...f,m[1]]:[f,m[1]]:m[1]}c(h,i)}else n!=null&&l(i,n,o);return this}get(n,i){if(n=Ns(n),n){const o=R.findKey(this,n);if(o){const r=this[o];if(!i)return r;if(i===!0)return Sv(r);if(R.isFunction(i))return i.call(this,r,o);if(R.isRegExp(i))return i.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,i){if(n=Ns(n),n){const o=R.findKey(this,n);return!!(o&&this[o]!==void 0&&(!i||Ca(this,this[o],o,i)))}return!1}delete(n,i){const o=this;let r=!1;function l(c){if(c=Ns(c),c){const h=R.findKey(o,c);h&&(!i||Ca(o,o[h],h,i))&&(delete o[h],r=!0)}}return R.isArray(n)?n.forEach(l):l(n),r}clear(n){const i=Object.keys(this);let o=i.length,r=!1;for(;o--;){const l=i[o];(!n||Ca(this,this[l],l,n,!0))&&(delete this[l],r=!0)}return r}normalize(n){const i=this,o={};return R.forEach(this,(r,l)=>{const c=R.findKey(o,l);if(c){i[c]=tr(r),delete i[l];return}const h=n?Ev(l):String(l).trim();h!==l&&delete i[l],i[h]=tr(r),o[h]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const i=Object.create(null);return R.forEach(this,(o,r)=>{o!=null&&o!==!1&&(i[r]=n&&R.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,i])=>n+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...i){const o=new this(n);return i.forEach(r=>o.set(r)),o}static accessor(n){const o=(this[hu]=this[hu]={accessors:{}}).accessors,r=this.prototype;function l(c){const h=Ns(c);o[h]||(Pv(r,c),o[h]=!0)}return R.isArray(n)?n.forEach(l):l(n),this}};Xe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);R.reduceDescriptors(Xe.prototype,({value:t},n)=>{let i=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(o){this[i]=o}}});R.freezeMethods(Xe);function Sa(t,n){const i=this||po,o=n||i,r=Xe.from(o.headers);let l=o.data;return R.forEach(t,function(h){l=h.call(i,l,r.normalize(),n?n.status:void 0)}),r.normalize(),l}function vd(t){return!!(t&&t.__CANCEL__)}function vs(t,n,i){Dt.call(this,t??"canceled",Dt.ERR_CANCELED,n,i),this.name="CanceledError"}R.inherits(vs,Dt,{__CANCEL__:!0});function yd(t,n,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?t(i):n(new Dt("Request failed with status code "+i.status,[Dt.ERR_BAD_REQUEST,Dt.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function kv(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function Tv(t,n){t=t||10;const i=new Array(t),o=new Array(t);let r=0,l=0,c;return n=n!==void 0?n:1e3,function(f){const _=Date.now(),m=o[l];c||(c=_),i[r]=f,o[r]=_;let y=l,b=0;for(;y!==r;)b+=i[y++],y=y%t;if(r=(r+1)%t,r===l&&(l=(l+1)%t),_-c<n)return;const P=m&&_-m;return P?Math.round(b*1e3/P):void 0}}function Iv(t,n){let i=0,o=1e3/n,r,l;const c=(_,m=Date.now())=>{i=m,r=null,l&&(clearTimeout(l),l=null),t(..._)};return[(..._)=>{const m=Date.now(),y=m-i;y>=o?c(_,m):(r=_,l||(l=setTimeout(()=>{l=null,c(r)},o-y)))},()=>r&&c(r)]}const dr=(t,n,i=3)=>{let o=0;const r=Tv(50,250);return Iv(l=>{const c=l.loaded,h=l.lengthComputable?l.total:void 0,f=c-o,_=r(f),m=c<=h;o=c;const y={loaded:c,total:h,progress:h?c/h:void 0,bytes:f,rate:_||void 0,estimated:_&&h&&m?(h-c)/_:void 0,event:l,lengthComputable:h!=null,[n?"download":"upload"]:!0};t(y)},i)},du=(t,n)=>{const i=t!=null;return[o=>n[0]({lengthComputable:i,total:t,loaded:o}),n[1]]},fu=t=>(...n)=>R.asap(()=>t(...n)),Lv=Ne.hasStandardBrowserEnv?((t,n)=>i=>(i=new URL(i,Ne.origin),t.protocol===i.protocol&&t.host===i.host&&(n||t.port===i.port)))(new URL(Ne.origin),Ne.navigator&&/(msie|trident)/i.test(Ne.navigator.userAgent)):()=>!0,Av=Ne.hasStandardBrowserEnv?{write(t,n,i,o,r,l,c){if(typeof document>"u")return;const h=[`${t}=${encodeURIComponent(n)}`];R.isNumber(i)&&h.push(`expires=${new Date(i).toUTCString()}`),R.isString(o)&&h.push(`path=${o}`),R.isString(r)&&h.push(`domain=${r}`),l===!0&&h.push("secure"),R.isString(c)&&h.push(`SameSite=${c}`),document.cookie=h.join("; ")},read(t){if(typeof document>"u")return null;const n=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return n?decodeURIComponent(n[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Mv(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Rv(t,n){return n?t.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):t}function bd(t,n,i){let o=!Mv(n);return t&&(o||i==!1)?Rv(t,n):n}const pu=t=>t instanceof Xe?{...t}:t;function Oi(t,n){n=n||{};const i={};function o(_,m,y,b){return R.isPlainObject(_)&&R.isPlainObject(m)?R.merge.call({caseless:b},_,m):R.isPlainObject(m)?R.merge({},m):R.isArray(m)?m.slice():m}function r(_,m,y,b){if(R.isUndefined(m)){if(!R.isUndefined(_))return o(void 0,_,y,b)}else return o(_,m,y,b)}function l(_,m){if(!R.isUndefined(m))return o(void 0,m)}function c(_,m){if(R.isUndefined(m)){if(!R.isUndefined(_))return o(void 0,_)}else return o(void 0,m)}function h(_,m,y){if(y in n)return o(_,m);if(y in t)return o(void 0,_)}const f={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(_,m,y)=>r(pu(_),pu(m),y,!0)};return R.forEach(Object.keys({...t,...n}),function(m){const y=f[m]||r,b=y(t[m],n[m],m);R.isUndefined(b)&&y!==h||(i[m]=b)}),i}const wd=t=>{const n=Oi({},t);let{data:i,withXSRFToken:o,xsrfHeaderName:r,xsrfCookieName:l,headers:c,auth:h}=n;if(n.headers=c=Xe.from(c),n.url=md(bd(n.baseURL,n.url,n.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),R.isFormData(i)){if(Ne.hasStandardBrowserEnv||Ne.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(R.isFunction(i.getHeaders)){const f=i.getHeaders(),_=["content-type","content-length"];Object.entries(f).forEach(([m,y])=>{_.includes(m.toLowerCase())&&c.set(m,y)})}}if(Ne.hasStandardBrowserEnv&&(o&&R.isFunction(o)&&(o=o(n)),o||o!==!1&&Lv(n.url))){const f=r&&l&&Av.read(l);f&&c.set(r,f)}return n},Ov=typeof XMLHttpRequest<"u",Dv=Ov&&function(t){return new Promise(function(i,o){const r=wd(t);let l=r.data;const c=Xe.from(r.headers).normalize();let{responseType:h,onUploadProgress:f,onDownloadProgress:_}=r,m,y,b,P,k;function A(){P&&P(),k&&k(),r.cancelToken&&r.cancelToken.unsubscribe(m),r.signal&&r.signal.removeEventListener("abort",m)}let B=new XMLHttpRequest;B.open(r.method.toUpperCase(),r.url,!0),B.timeout=r.timeout;function Y(){if(!B)return;const G=Xe.from("getAllResponseHeaders"in B&&B.getAllResponseHeaders()),q={data:!h||h==="text"||h==="json"?B.responseText:B.response,status:B.status,statusText:B.statusText,headers:G,config:t,request:B};yd(function(lt){i(lt),A()},function(lt){o(lt),A()},q),B=null}"onloadend"in B?B.onloadend=Y:B.onreadystatechange=function(){!B||B.readyState!==4||B.status===0&&!(B.responseURL&&B.responseURL.indexOf("file:")===0)||setTimeout(Y)},B.onabort=function(){B&&(o(new Dt("Request aborted",Dt.ECONNABORTED,t,B)),B=null)},B.onerror=function(Q){const q=Q&&Q.message?Q.message:"Network Error",K=new Dt(q,Dt.ERR_NETWORK,t,B);K.event=Q||null,o(K),B=null},B.ontimeout=function(){let Q=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const q=r.transitional||_d;r.timeoutErrorMessage&&(Q=r.timeoutErrorMessage),o(new Dt(Q,q.clarifyTimeoutError?Dt.ETIMEDOUT:Dt.ECONNABORTED,t,B)),B=null},l===void 0&&c.setContentType(null),"setRequestHeader"in B&&R.forEach(c.toJSON(),function(Q,q){B.setRequestHeader(q,Q)}),R.isUndefined(r.withCredentials)||(B.withCredentials=!!r.withCredentials),h&&h!=="json"&&(B.responseType=r.responseType),_&&([b,k]=dr(_,!0),B.addEventListener("progress",b)),f&&B.upload&&([y,P]=dr(f),B.upload.addEventListener("progress",y),B.upload.addEventListener("loadend",P)),(r.cancelToken||r.signal)&&(m=G=>{B&&(o(!G||G.type?new vs(null,t,B):G),B.abort(),B=null)},r.cancelToken&&r.cancelToken.subscribe(m),r.signal&&(r.signal.aborted?m():r.signal.addEventListener("abort",m)));const X=kv(r.url);if(X&&Ne.protocols.indexOf(X)===-1){o(new Dt("Unsupported protocol "+X+":",Dt.ERR_BAD_REQUEST,t));return}B.send(l||null)})},Nv=(t,n)=>{const{length:i}=t=t?t.filter(Boolean):[];if(n||i){let o=new AbortController,r;const l=function(_){if(!r){r=!0,h();const m=_ instanceof Error?_:this.reason;o.abort(m instanceof Dt?m:new vs(m instanceof Error?m.message:m))}};let c=n&&setTimeout(()=>{c=null,l(new Dt(`timeout ${n} of ms exceeded`,Dt.ETIMEDOUT))},n);const h=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(_=>{_.unsubscribe?_.unsubscribe(l):_.removeEventListener("abort",l)}),t=null)};t.forEach(_=>_.addEventListener("abort",l));const{signal:f}=o;return f.unsubscribe=()=>R.asap(h),f}},Bv=function*(t,n){let i=t.byteLength;if(i<n){yield t;return}let o=0,r;for(;o<i;)r=o+n,yield t.slice(o,r),o=r},Fv=async function*(t,n){for await(const i of zv(t))yield*Bv(i,n)},zv=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const n=t.getReader();try{for(;;){const{done:i,value:o}=await n.read();if(i)break;yield o}}finally{await n.cancel()}},mu=(t,n,i,o)=>{const r=Fv(t,n);let l=0,c,h=f=>{c||(c=!0,o&&o(f))};return new ReadableStream({async pull(f){try{const{done:_,value:m}=await r.next();if(_){h(),f.close();return}let y=m.byteLength;if(i){let b=l+=y;i(b)}f.enqueue(new Uint8Array(m))}catch(_){throw h(_),_}},cancel(f){return h(f),r.return()}},{highWaterMark:2})},_u=64*1024,{isFunction:Wo}=R,$v=(({Request:t,Response:n})=>({Request:t,Response:n}))(R.global),{ReadableStream:gu,TextEncoder:vu}=R.global,yu=(t,...n)=>{try{return!!t(...n)}catch{return!1}},Uv=t=>{t=R.merge.call({skipUndefined:!0},$v,t);const{fetch:n,Request:i,Response:o}=t,r=n?Wo(n):typeof fetch=="function",l=Wo(i),c=Wo(o);if(!r)return!1;const h=r&&Wo(gu),f=r&&(typeof vu=="function"?(k=>A=>k.encode(A))(new vu):async k=>new Uint8Array(await new i(k).arrayBuffer())),_=l&&h&&yu(()=>{let k=!1;const A=new i(Ne.origin,{body:new gu,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!A}),m=c&&h&&yu(()=>R.isReadableStream(new o("").body)),y={stream:m&&(k=>k.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(k=>{!y[k]&&(y[k]=(A,B)=>{let Y=A&&A[k];if(Y)return Y.call(A);throw new Dt(`Response type '${k}' is not supported`,Dt.ERR_NOT_SUPPORT,B)})});const b=async k=>{if(k==null)return 0;if(R.isBlob(k))return k.size;if(R.isSpecCompliantForm(k))return(await new i(Ne.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if(R.isArrayBufferView(k)||R.isArrayBuffer(k))return k.byteLength;if(R.isURLSearchParams(k)&&(k=k+""),R.isString(k))return(await f(k)).byteLength},P=async(k,A)=>{const B=R.toFiniteNumber(k.getContentLength());return B??b(A)};return async k=>{let{url:A,method:B,data:Y,signal:X,cancelToken:G,timeout:Q,onDownloadProgress:q,onUploadProgress:K,responseType:lt,headers:mt,withCredentials:gt="same-origin",fetchOptions:ht}=wd(k),W=n||fetch;lt=lt?(lt+"").toLowerCase():"text";let j=Nv([X,G&&G.toAbortSignal()],Q),vt=null;const Lt=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let xt;try{if(K&&_&&B!=="get"&&B!=="head"&&(xt=await P(mt,Y))!==0){let It=new i(A,{method:"POST",body:Y,duplex:"half"}),Nt;if(R.isFormData(Y)&&(Nt=It.headers.get("content-type"))&&mt.setContentType(Nt),It.body){const[Ht,$t]=du(xt,dr(fu(K)));Y=mu(It.body,_u,Ht,$t)}}R.isString(gt)||(gt=gt?"include":"omit");const bt=l&&"credentials"in i.prototype,wt={...ht,signal:j,method:B.toUpperCase(),headers:mt.normalize().toJSON(),body:Y,duplex:"half",credentials:bt?gt:void 0};vt=l&&new i(A,wt);let tt=await(l?W(vt,ht):W(A,wt));const ee=m&&(lt==="stream"||lt==="response");if(m&&(q||ee&&Lt)){const It={};["status","statusText","headers"].forEach(_t=>{It[_t]=tt[_t]});const Nt=R.toFiniteNumber(tt.headers.get("content-length")),[Ht,$t]=q&&du(Nt,dr(fu(q),!0))||[];tt=new o(mu(tt.body,_u,Ht,()=>{$t&&$t(),Lt&&Lt()}),It)}lt=lt||"text";let yt=await y[R.findKey(y,lt)||"text"](tt,k);return!ee&&Lt&&Lt(),await new Promise((It,Nt)=>{yd(It,Nt,{data:yt,headers:Xe.from(tt.headers),status:tt.status,statusText:tt.statusText,config:k,request:vt})})}catch(bt){throw Lt&&Lt(),bt&&bt.name==="TypeError"&&/Load failed|fetch/i.test(bt.message)?Object.assign(new Dt("Network Error",Dt.ERR_NETWORK,k,vt),{cause:bt.cause||bt}):Dt.from(bt,bt&&bt.code,k,vt)}}},Hv=new Map,Cd=t=>{let n=t&&t.env||{};const{fetch:i,Request:o,Response:r}=n,l=[o,r,i];let c=l.length,h=c,f,_,m=Hv;for(;h--;)f=l[h],_=m.get(f),_===void 0&&m.set(f,_=h?new Map:Uv(n)),m=_;return _};Cd();const yl={http:ov,xhr:Dv,fetch:{get:Cd}};R.forEach(yl,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const bu=t=>`- ${t}`,Zv=t=>R.isFunction(t)||t===null||t===!1;function Wv(t,n){t=R.isArray(t)?t:[t];const{length:i}=t;let o,r;const l={};for(let c=0;c<i;c++){o=t[c];let h;if(r=o,!Zv(o)&&(r=yl[(h=String(o)).toLowerCase()],r===void 0))throw new Dt(`Unknown adapter '${h}'`);if(r&&(R.isFunction(r)||(r=r.get(n))))break;l[h||"#"+c]=r}if(!r){const c=Object.entries(l).map(([f,_])=>`adapter ${f} `+(_===!1?"is not supported by the environment":"is not available in the build"));let h=i?c.length>1?`since :
`+c.map(bu).join(`
`):" "+bu(c[0]):"as no adapter specified";throw new Dt("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return r}const Sd={getAdapter:Wv,adapters:yl};function xa(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new vs(null,t)}function wu(t){return xa(t),t.headers=Xe.from(t.headers),t.data=Sa.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Sd.getAdapter(t.adapter||po.adapter,t)(t).then(function(o){return xa(t),o.data=Sa.call(t,t.transformResponse,o),o.headers=Xe.from(o.headers),o},function(o){return vd(o)||(xa(t),o&&o.response&&(o.response.data=Sa.call(t,t.transformResponse,o.response),o.response.headers=Xe.from(o.response.headers))),Promise.reject(o)})}const xd="1.13.2",Dr={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{Dr[t]=function(o){return typeof o===t||"a"+(n<1?"n ":" ")+t}});const Cu={};Dr.transitional=function(n,i,o){function r(l,c){return"[Axios v"+xd+"] Transitional option '"+l+"'"+c+(o?". "+o:"")}return(l,c,h)=>{if(n===!1)throw new Dt(r(c," has been removed"+(i?" in "+i:"")),Dt.ERR_DEPRECATED);return i&&!Cu[c]&&(Cu[c]=!0,console.warn(r(c," has been deprecated since v"+i+" and will be removed in the near future"))),n?n(l,c,h):!0}};Dr.spelling=function(n){return(i,o)=>(console.warn(`${o} is likely a misspelling of ${n}`),!0)};function jv(t,n,i){if(typeof t!="object")throw new Dt("options must be an object",Dt.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let r=o.length;for(;r-- >0;){const l=o[r],c=n[l];if(c){const h=t[l],f=h===void 0||c(h,l,t);if(f!==!0)throw new Dt("option "+l+" must be "+f,Dt.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Dt("Unknown option "+l,Dt.ERR_BAD_OPTION)}}const er={assertOptions:jv,validators:Dr},En=er.validators;let Ai=class{constructor(n){this.defaults=n||{},this.interceptors={request:new uu,response:new uu}}async request(n,i){try{return await this._request(n,i)}catch(o){if(o instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const l=r.stack?r.stack.replace(/^.+\n/,""):"";try{o.stack?l&&!String(o.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+l):o.stack=l}catch{}}throw o}}_request(n,i){typeof n=="string"?(i=i||{},i.url=n):i=n||{},i=Oi(this.defaults,i);const{transitional:o,paramsSerializer:r,headers:l}=i;o!==void 0&&er.assertOptions(o,{silentJSONParsing:En.transitional(En.boolean),forcedJSONParsing:En.transitional(En.boolean),clarifyTimeoutError:En.transitional(En.boolean)},!1),r!=null&&(R.isFunction(r)?i.paramsSerializer={serialize:r}:er.assertOptions(r,{encode:En.function,serialize:En.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),er.assertOptions(i,{baseUrl:En.spelling("baseURL"),withXsrfToken:En.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let c=l&&R.merge(l.common,l[i.method]);l&&R.forEach(["delete","get","head","post","put","patch","common"],k=>{delete l[k]}),i.headers=Xe.concat(c,l);const h=[];let f=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(i)===!1||(f=f&&A.synchronous,h.unshift(A.fulfilled,A.rejected))});const _=[];this.interceptors.response.forEach(function(A){_.push(A.fulfilled,A.rejected)});let m,y=0,b;if(!f){const k=[wu.bind(this),void 0];for(k.unshift(...h),k.push(..._),b=k.length,m=Promise.resolve(i);y<b;)m=m.then(k[y++],k[y++]);return m}b=h.length;let P=i;for(;y<b;){const k=h[y++],A=h[y++];try{P=k(P)}catch(B){A.call(this,B);break}}try{m=wu.call(this,P)}catch(k){return Promise.reject(k)}for(y=0,b=_.length;y<b;)m=m.then(_[y++],_[y++]);return m}getUri(n){n=Oi(this.defaults,n);const i=bd(n.baseURL,n.url,n.allowAbsoluteUrls);return md(i,n.params,n.paramsSerializer)}};R.forEach(["delete","get","head","options"],function(n){Ai.prototype[n]=function(i,o){return this.request(Oi(o||{},{method:n,url:i,data:(o||{}).data}))}});R.forEach(["post","put","patch"],function(n){function i(o){return function(l,c,h){return this.request(Oi(h||{},{method:n,headers:o?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Ai.prototype[n]=i(),Ai.prototype[n+"Form"]=i(!0)});let Vv=class Ed{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(l){i=l});const o=this;this.promise.then(r=>{if(!o._listeners)return;let l=o._listeners.length;for(;l-- >0;)o._listeners[l](r);o._listeners=null}),this.promise.then=r=>{let l;const c=new Promise(h=>{o.subscribe(h),l=h}).then(r);return c.cancel=function(){o.unsubscribe(l)},c},n(function(l,c,h){o.reason||(o.reason=new vs(l,c,h),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const n=new AbortController,i=o=>{n.abort(o)};return this.subscribe(i),n.signal.unsubscribe=()=>this.unsubscribe(i),n.signal}static source(){let n;return{token:new Ed(function(r){n=r}),cancel:n}}};function qv(t){return function(i){return t.apply(null,i)}}function Gv(t){return R.isObject(t)&&t.isAxiosError===!0}const Va={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Va).forEach(([t,n])=>{Va[n]=t});function Pd(t){const n=new Ai(t),i=id(Ai.prototype.request,n);return R.extend(i,Ai.prototype,n,{allOwnKeys:!0}),R.extend(i,n,null,{allOwnKeys:!0}),i.create=function(r){return Pd(Oi(t,r))},i}const ge=Pd(po);ge.Axios=Ai;ge.CanceledError=vs;ge.CancelToken=Vv;ge.isCancel=vd;ge.VERSION=xd;ge.toFormData=Or;ge.AxiosError=Dt;ge.Cancel=ge.CanceledError;ge.all=function(n){return Promise.all(n)};ge.spread=qv;ge.isAxiosError=Gv;ge.mergeConfig=Oi;ge.AxiosHeaders=Xe;ge.formToJSON=t=>gd(R.isHTMLForm(t)?new FormData(t):t);ge.getAdapter=Sd.getAdapter;ge.HttpStatusCode=Va;ge.default=ge;const{Axios:$S,AxiosError:US,CanceledError:HS,isCancel:ZS,CancelToken:WS,VERSION:jS,all:VS,Cancel:qS,isAxiosError:GS,spread:KS,toFormData:JS,AxiosHeaders:XS,HttpStatusCode:YS,formToJSON:QS,getAdapter:tx,mergeConfig:ex}=ge,kd="https://sterobson-volunteercheckin-testing.azurewebsites.net/api",Jt=ge.create({baseURL:kd,headers:{"Content-Type":"application/json"}});Jt.interceptors.request.use(t=>{const n=localStorage.getItem("adminEmail");return n&&(t.headers["X-Admin-Email"]=n),t});const Kv={instantLogin:t=>Jt.post("/auth/instant-login",{email:t}),createAdmin:t=>Jt.post("/auth/create-admin",{email:t})},ss={create:t=>Jt.post("/events",t),getAll:()=>Jt.get("/events"),getById:t=>Jt.get(`/events/${t}`),update:(t,n)=>Jt.put(`/events/${t}`,n),delete:t=>Jt.delete(`/events/${t}`),uploadGpx:(t,n)=>{const i=new FormData;return i.append("gpx",n),Jt.post(`/events/${t}/upload-gpx`,i,{headers:{"Content-Type":"multipart/form-data"}})}},Ti={create:t=>Jt.post("/locations",t),getById:(t,n)=>Jt.get(`/locations/${t}/${n}`),getByEvent:t=>Jt.get(`/events/${t}/locations`),update:(t,n,i)=>Jt.put(`/locations/${t}/${n}`,i),delete:(t,n)=>Jt.delete(`/locations/${t}/${n}`),importCsv:(t,n,i)=>{const o=new FormData;return o.append("csv",n),Jt.post(`/locations/import/${t}?deleteExisting=${i}`,o,{headers:{"Content-Type":"multipart/form-data"}})}},jo={create:t=>Jt.post("/assignments",t),getById:(t,n)=>Jt.get(`/assignments/${t}/${n}`),getByEvent:t=>Jt.get(`/assignments/event/${t}`),delete:(t,n)=>Jt.delete(`/assignments/${t}/${n}`),getEventStatus:t=>Jt.get(`/events/${t}/status`)},os={checkIn:t=>Jt.post("/checkin",t),adminCheckIn:t=>Jt.post(`/checkin/admin/${t}`)},Ea={getAdmins:t=>Jt.get(`/events/${t}/admins`),addAdmin:(t,n)=>Jt.post(`/events/${t}/admins`,{userEmail:n}),removeAdmin:(t,n)=>Jt.delete(`/events/${t}/admins/${n}`)},si={create:t=>Jt.post("/marshals",t),getByEvent:t=>Jt.get(`/events/${t}/marshals`),getById:(t,n)=>Jt.get(`/marshals/${t}/${n}`),update:(t,n,i)=>Jt.put(`/marshals/${t}/${n}`,i),delete:(t,n)=>Jt.delete(`/marshals/${t}/${n}`),importCsv:(t,n)=>{const i=new FormData;return i.append("csv",n),Jt.post(`/marshals/import/${t}`,i,{headers:{"Content-Type":"multipart/form-data"}})}},Td=Zh("auth",()=>{const t=H(localStorage.getItem("adminEmail")||null),n=H(!!t.value);return{adminEmail:t,isAuthenticated:n,instantLogin:async r=>{const l=await Kv.instantLogin(r);return l.data.success&&(t.value=l.data.email,n.value=!0,localStorage.setItem("adminEmail",l.data.email)),l.data},logout:()=>{t.value=null,n.value=!1,localStorage.removeItem("adminEmail")}}}),Jv={class:"admin-login"},Xv={class:"login-card"},Yv={class:"form-group"},Qv=["disabled"],ty={key:0,class:"error"},ey={__name:"AdminLogin",setup(t){const n=ml(),i=Td(),o=H(""),r=H(!1),l=H(null),c=async()=>{r.value=!0,l.value=null;try{const h=await i.instantLogin(o.value);h.success?n.push({name:"AdminDashboard"}):l.value=h.message||"Login failed. Please try again."}catch{l.value="Failed to login. Please try again."}finally{r.value=!1}};return(h,f)=>{const _=ll("router-link");return z(),$("div",Jv,[p("div",Xv,[f[2]||(f[2]=p("h2",null,"Admin Login",-1)),f[3]||(f[3]=p("p",{class:"instruction"},"Enter your email to login or create an account",-1)),p("form",{onSubmit:se(c,["prevent"])},[p("div",Yv,[Zt(p("input",{"onUpdate:modelValue":f[0]||(f[0]=m=>o.value=m),type:"email",placeholder:"admin@example.com",required:"",class:"form-input"},null,512),[[ie,o.value]])]),p("button",{type:"submit",class:"btn btn-primary",disabled:r.value},J(r.value?"Logging in...":"Login"),9,Qv)],32),l.value?(z(),$("div",ty,J(l.value),1)):St("",!0),Wt(_,{to:"/",class:"back-link"},{default:ol(()=>[...f[1]||(f[1]=[je(" Back to Home",-1)])]),_:1})])])}}},ny=Fe(ey,[["__scopeId","data-v-83835013"]]),bl=Zh("events",()=>{const t=H([]),n=H(null),i=H([]),o=H([]),r=H(null),l=H(!1),c=H(null);return{events:t,currentEvent:n,locations:i,assignments:o,eventStatus:r,loading:l,error:c,fetchEvents:async()=>{l.value=!0,c.value=null;try{const q=await ss.getAll();t.value=q.data}catch(q){throw c.value=q.message,q}finally{l.value=!1}},fetchEvent:async q=>{l.value=!0,c.value=null;try{const K=await ss.getById(q);n.value=K.data}catch(K){throw c.value=K.message,K}finally{l.value=!1}},createEvent:async q=>{l.value=!0,c.value=null;try{const K=await ss.create(q);return t.value.push(K.data),K.data}catch(K){throw c.value=K.message,K}finally{l.value=!1}},updateEvent:async(q,K)=>{l.value=!0,c.value=null;try{const lt=await ss.update(q,K),mt=t.value.findIndex(gt=>gt.id===q);return mt!==-1&&(t.value[mt]=lt.data),n.value?.id===q&&(n.value=lt.data),lt.data}catch(lt){throw c.value=lt.message,lt}finally{l.value=!1}},deleteEvent:async q=>{l.value=!0,c.value=null;try{await ss.delete(q),t.value=t.value.filter(K=>K.id!==q)}catch(K){throw c.value=K.message,K}finally{l.value=!1}},fetchLocations:async q=>{l.value=!0,c.value=null;try{const K=await Ti.getByEvent(q);i.value=K.data}catch(K){throw c.value=K.message,K}finally{l.value=!1}},createLocation:async q=>{l.value=!0,c.value=null;try{const K=await Ti.create(q);return i.value.push(K.data),K.data}catch(K){throw c.value=K.message,K}finally{l.value=!1}},updateLocation:async(q,K,lt)=>{l.value=!0,c.value=null;try{const mt=await Ti.update(q,K,lt),gt=i.value.findIndex(ht=>ht.id===K);return gt!==-1&&(i.value[gt]=mt.data),mt.data}catch(mt){throw c.value=mt.message,mt}finally{l.value=!1}},deleteLocation:async(q,K)=>{l.value=!0,c.value=null;try{await Ti.delete(q,K),i.value=i.value.filter(lt=>lt.id!==K)}catch(lt){throw c.value=lt.message,lt}finally{l.value=!1}},fetchAssignments:async q=>{l.value=!0,c.value=null;try{const K=await jo.getByEvent(q);o.value=K.data}catch(K){throw c.value=K.message,K}finally{l.value=!1}},createAssignment:async q=>{l.value=!0,c.value=null;try{const K=await jo.create(q);return o.value.push(K.data),K.data}catch(K){throw c.value=K.message,K}finally{l.value=!1}},deleteAssignment:async(q,K)=>{l.value=!0,c.value=null;try{await jo.delete(q,K),o.value=o.value.filter(lt=>lt.id!==K)}catch(lt){throw c.value=lt.message,lt}finally{l.value=!1}},fetchEventStatus:async q=>{l.value=!0,c.value=null;try{const K=await jo.getEventStatus(q);return r.value=K.data,K.data}catch(K){throw c.value=K.message,K}finally{l.value=!1}},updateAssignmentCheckIn:q=>{const K=o.value.findIndex(lt=>lt.id===q.id);K!==-1&&(o.value[K]=q),r.value&&r.value.locations.forEach(lt=>{const mt=lt.assignments.findIndex(gt=>gt.id===q.id);mt!==-1&&(lt.assignments[mt]=q,lt.checkedInCount=lt.assignments.filter(gt=>gt.isCheckedIn).length)})}}}),iy={class:"confirm-modal"},sy={class:"confirm-actions"},oy={__name:"ConfirmModal",props:{show:{type:Boolean,default:!1},title:{type:String,default:"Confirm"},message:{type:String,required:!0},confirmText:{type:String,default:"OK"},cancelText:{type:String,default:"Cancel"}},emits:["confirm","cancel"],setup(t,{emit:n}){const i=n,o=()=>{i("confirm")},r=()=>{i("cancel")};return(l,c)=>t.show?(z(),$("div",{key:0,class:"modal-overlay",onClick:se(r,["self"])},[p("div",iy,[p("h3",null,J(t.title),1),p("p",null,J(t.message),1),p("div",sy,[p("button",{onClick:r,class:"btn btn-secondary"},J(t.cancelText),1),p("button",{onClick:o,class:"btn btn-primary"},J(t.confirmText),1)])])])):St("",!0)}},pi=Fe(oy,[["__scopeId","data-v-4bd2c256"]]),ry={class:"admin-dashboard"},ay={class:"header"},ly={class:"header-actions"},cy={class:"user-email"},uy={class:"container"},hy={class:"section"},dy={class:"section-header"},fy={key:0,class:"loading"},py={key:1,class:"empty"},my={key:2,class:"events-grid"},_y=["onClick"],gy={class:"event-date"},vy={class:"event-desc"},yy={class:"event-actions"},by=["onClick"],wy=["onClick"],Cy={class:"modal-content modal-wide"},Sy={class:"tabs"},xy={class:"tab-content"},Ey={class:"form-group"},Py={class:"form-group"},ky={class:"form-group"},Ty={class:"form-group"},Iy={class:"tab-content"},Ly={class:"emergency-contacts-section"},Ay={key:0,class:"empty-state"},My={class:"card-header"},Ry=["onClick"],Oy={class:"form-group"},Dy=["onUpdate:modelValue"],Ny={class:"form-group"},By=["onUpdate:modelValue"],Fy={class:"form-group"},zy=["onUpdate:modelValue"],$y={class:"modal-actions"},Uy={type:"submit",class:"btn btn-primary"},Hy={__name:"AdminDashboard",setup(t){const n=ml(),i=Td(),o=bl(),r=H(!0),l=H(!1),c=H(null),h=H("basic"),f=H({name:"",description:"",eventDate:"",timeZoneId:"UTC",emergencyContacts:[]}),_=H([]),m=H(!1),y=H(""),b=H(""),P=H(null),k=async()=>{r.value=!0;try{await o.fetchEvents(),_.value=o.events}catch(W){console.error("Failed to load events:",W)}finally{r.value=!1}},A=async()=>{try{const W={...f.value,adminEmail:i.adminEmail};c.value?await o.updateEvent(c.value.id,W):await o.createEvent(W),_.value=o.events,K()}catch(W){console.error("Failed to save event:",W),alert("Failed to save event. Please try again.")}},B=W=>{c.value=W,f.value={name:W.name,description:W.description,eventDate:ht(W.eventDate),timeZoneId:W.timeZoneId||"UTC",emergencyContacts:W.emergencyContacts?JSON.parse(JSON.stringify(W.emergencyContacts)):[]},h.value="basic"},Y=async W=>{y.value="Delete Event",b.value=`Are you sure you want to delete "${W.name}"?`,P.value=async()=>{try{await o.deleteEvent(W.id),_.value=o.events}catch(j){console.error("Failed to delete event:",j),alert("Failed to delete event. Please try again.")}},m.value=!0},X=()=>{m.value=!1,P.value&&(P.value(),P.value=null)},G=()=>{m.value=!1,P.value=null},Q=()=>{f.value.emergencyContacts.push({name:"",phone:"",details:""})},q=W=>{f.value.emergencyContacts.splice(W,1)},K=()=>{l.value=!1,c.value=null,h.value="basic",f.value={name:"",description:"",eventDate:"",timeZoneId:"UTC",emergencyContacts:[]}},lt=W=>{n.push({name:"AdminEventManage",params:{eventId:W}})},mt=()=>{i.logout(),n.push({name:"Home"})},gt=W=>new Date(W).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),ht=W=>{const j=new Date(W),vt=j.getFullYear(),Lt=String(j.getMonth()+1).padStart(2,"0"),xt=String(j.getDate()).padStart(2,"0"),bt=String(j.getHours()).padStart(2,"0"),wt=String(j.getMinutes()).padStart(2,"0");return`${vt}-${Lt}-${xt}T${bt}:${wt}`};return lo(()=>{k()}),(W,j)=>(z(),$("div",ry,[p("header",ay,[j[7]||(j[7]=p("h1",null,"Admin Dashboard",-1)),p("div",ly,[p("span",cy,J(di(i).adminEmail),1),p("button",{onClick:mt,class:"btn btn-secondary"},"Logout")])]),p("div",uy,[p("div",hy,[p("div",dy,[j[8]||(j[8]=p("h2",null,"Your Events",-1)),p("button",{onClick:j[0]||(j[0]=vt=>l.value=!0),class:"btn btn-primary"}," Create New Event ")]),r.value?(z(),$("div",fy,"Loading events...")):_.value.length===0?(z(),$("div",py,[...j[9]||(j[9]=[p("p",null,"No events yet. Create your first event to get started!",-1)])])):(z(),$("div",my,[(z(!0),$(te,null,Le(_.value,vt=>(z(),$("div",{key:vt.id,class:"event-card",onClick:Lt=>lt(vt.id)},[p("h3",null,J(vt.name),1),p("p",gy,J(gt(vt.eventDate)),1),p("p",vy,J(vt.description),1),p("div",yy,[p("button",{onClick:se(Lt=>B(vt),["stop"]),class:"btn btn-small btn-secondary"}," Edit ",8,by),p("button",{onClick:se(Lt=>Y(vt),["stop"]),class:"btn btn-small btn-danger"}," Delete ",8,wy)])],8,_y))),128))]))])]),l.value||c.value?(z(),$("div",{key:0,class:"modal",onClick:se(K,["self"])},[p("div",Cy,[p("h2",null,J(c.value?"Edit Event":"Create New Event"),1),p("div",Sy,[p("button",{type:"button",onClick:j[1]||(j[1]=vt=>h.value="basic"),class:fe(["tab-button",{active:h.value==="basic"}])}," Basic Details ",2),p("button",{type:"button",onClick:j[2]||(j[2]=vt=>h.value="emergency"),class:fe(["tab-button",{active:h.value==="emergency"}])}," Emergency Contacts ",2)]),p("form",{onSubmit:se(A,["prevent"])},[Zt(p("div",xy,[p("div",Ey,[j[10]||(j[10]=p("label",null,"Event Name *",-1)),Zt(p("input",{"onUpdate:modelValue":j[3]||(j[3]=vt=>f.value.name=vt),type:"text",required:"",class:"form-input"},null,512),[[ie,f.value.name]])]),p("div",Py,[j[11]||(j[11]=p("label",null,"Description",-1)),Zt(p("textarea",{"onUpdate:modelValue":j[4]||(j[4]=vt=>f.value.description=vt),rows:"3",class:"form-input"},null,512),[[ie,f.value.description]])]),p("div",ky,[j[12]||(j[12]=p("label",null,"Event Date *",-1)),Zt(p("input",{"onUpdate:modelValue":j[5]||(j[5]=vt=>f.value.eventDate=vt),type:"datetime-local",required:"",class:"form-input"},null,512),[[ie,f.value.eventDate]])]),p("div",Ty,[j[14]||(j[14]=p("label",null,"Time Zone *",-1)),Zt(p("select",{"onUpdate:modelValue":j[6]||(j[6]=vt=>f.value.timeZoneId=vt),required:"",class:"form-input"},[...j[13]||(j[13]=[hl('<option value="UTC" data-v-de86858a>UTC</option><option value="America/New_York" data-v-de86858a>Eastern Time (ET)</option><option value="America/Chicago" data-v-de86858a>Central Time (CT)</option><option value="America/Denver" data-v-de86858a>Mountain Time (MT)</option><option value="America/Los_Angeles" data-v-de86858a>Pacific Time (PT)</option><option value="America/Anchorage" data-v-de86858a>Alaska Time (AKT)</option><option value="Pacific/Honolulu" data-v-de86858a>Hawaii Time (HT)</option><option value="Europe/London" data-v-de86858a>London (GMT/BST)</option><option value="Europe/Paris" data-v-de86858a>Paris (CET/CEST)</option><option value="Asia/Tokyo" data-v-de86858a>Tokyo (JST)</option><option value="Australia/Sydney" data-v-de86858a>Sydney (AEDT/AEST)</option>',11)])],512),[[Yo,f.value.timeZoneId]])])],512),[[Ic,h.value==="basic"]]),Zt(p("div",Iy,[p("div",Ly,[p("div",{class:"section-header-small"},[j[15]||(j[15]=p("h3",null,"Emergency Contacts",-1)),p("button",{type:"button",onClick:Q,class:"btn btn-small btn-primary"}," + Add Contact ")]),f.value.emergencyContacts.length===0?(z(),$("div",Ay,[...j[16]||(j[16]=[p("p",null,'No emergency contacts added yet. Click "Add Contact" to add one.',-1)])])):St("",!0),(z(!0),$(te,null,Le(f.value.emergencyContacts,(vt,Lt)=>(z(),$("div",{key:Lt,class:"emergency-contact-card"},[p("div",My,[p("h4",null,"Contact "+J(Lt+1),1),p("button",{type:"button",onClick:xt=>q(Lt),class:"btn-remove"},"  ",8,Ry)]),p("div",Oy,[j[17]||(j[17]=p("label",null,"Name *",-1)),Zt(p("input",{"onUpdate:modelValue":xt=>vt.name=xt,type:"text",required:"",class:"form-input",placeholder:"Contact person name"},null,8,Dy),[[ie,vt.name]])]),p("div",Ny,[j[18]||(j[18]=p("label",null,"Phone *",-1)),Zt(p("input",{"onUpdate:modelValue":xt=>vt.phone=xt,type:"tel",required:"",class:"form-input",placeholder:"+1 (555) 123-4567"},null,8,By),[[ie,vt.phone]])]),p("div",Fy,[j[19]||(j[19]=p("label",null,"Additional Details",-1)),Zt(p("textarea",{"onUpdate:modelValue":xt=>vt.details=xt,rows:"2",class:"form-input",placeholder:"Role, availability, or other important information..."},null,8,zy),[[ie,vt.details]])])]))),128))])],512),[[Ic,h.value==="emergency"]]),p("div",$y,[p("button",{type:"button",onClick:K,class:"btn btn-secondary"}," Cancel "),p("button",Uy,J(c.value?"Update":"Create"),1)])],32)])])):St("",!0),Wt(pi,{show:m.value,title:y.value,message:b.value,onConfirm:X,onCancel:G},null,8,["show","title","message"])]))}},Zy=Fe(Hy,[["__scopeId","data-v-de86858a"]]);class Mi extends Error{constructor(n,i){const o=new.target.prototype;super(`${n}: Status code '${i}'`),this.statusCode=i,this.__proto__=o}}class wl extends Error{constructor(n="A timeout occurred."){const i=new.target.prototype;super(n),this.__proto__=i}}class mn extends Error{constructor(n="An abort occurred."){const i=new.target.prototype;super(n),this.__proto__=i}}class Wy extends Error{constructor(n,i){const o=new.target.prototype;super(n),this.transport=i,this.errorType="UnsupportedTransportError",this.__proto__=o}}class jy extends Error{constructor(n,i){const o=new.target.prototype;super(n),this.transport=i,this.errorType="DisabledTransportError",this.__proto__=o}}class Vy extends Error{constructor(n,i){const o=new.target.prototype;super(n),this.transport=i,this.errorType="FailedToStartTransportError",this.__proto__=o}}class Su extends Error{constructor(n){const i=new.target.prototype;super(n),this.errorType="FailedToNegotiateWithServerError",this.__proto__=i}}class qy extends Error{constructor(n,i){const o=new.target.prototype;super(n),this.innerErrors=i,this.__proto__=o}}class Id{constructor(n,i,o){this.statusCode=n,this.statusText=i,this.content=o}}class Nr{get(n,i){return this.send({...i,method:"GET",url:n})}post(n,i){return this.send({...i,method:"POST",url:n})}delete(n,i){return this.send({...i,method:"DELETE",url:n})}getCookieString(n){return""}}var F;(function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Information=2]="Information",t[t.Warning=3]="Warning",t[t.Error=4]="Error",t[t.Critical=5]="Critical",t[t.None=6]="None"})(F||(F={}));class no{constructor(){}log(n,i){}}no.instance=new no;const Gy="10.0.0";class be{static isRequired(n,i){if(n==null)throw new Error(`The '${i}' argument is required.`)}static isNotEmpty(n,i){if(!n||n.match(/^\s*$/))throw new Error(`The '${i}' argument should not be empty.`)}static isIn(n,i,o){if(!(n in i))throw new Error(`Unknown ${o} value: ${n}.`)}}class pe{static get isBrowser(){return!pe.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!pe.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!pe.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function io(t,n){let i="";return Di(t)?(i=`Binary data of length ${t.byteLength}`,n&&(i+=`. Content: '${Ky(t)}'`)):typeof t=="string"&&(i=`String data of length ${t.length}`,n&&(i+=`. Content: '${t}'`)),i}function Ky(t){const n=new Uint8Array(t);let i="";return n.forEach(o=>{const r=o<16?"0":"";i+=`0x${r}${o.toString(16)} `}),i.substring(0,i.length-1)}function Di(t){return t&&typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||t.constructor&&t.constructor.name==="ArrayBuffer")}async function Ld(t,n,i,o,r,l){const c={},[h,f]=ms();c[h]=f,t.log(F.Trace,`(${n} transport) sending data. ${io(r,l.logMessageContent)}.`);const _=Di(r)?"arraybuffer":"text",m=await i.post(o,{content:r,headers:{...c,...l.headers},responseType:_,timeout:l.timeout,withCredentials:l.withCredentials});t.log(F.Trace,`(${n} transport) request complete. Response status: ${m.statusCode}.`)}function Jy(t){return t===void 0?new fr(F.Information):t===null?no.instance:t.log!==void 0?t:new fr(t)}class Xy{constructor(n,i){this._subject=n,this._observer=i}dispose(){const n=this._subject.observers.indexOf(this._observer);n>-1&&this._subject.observers.splice(n,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(i=>{})}}class fr{constructor(n){this._minLevel=n,this.out=console}log(n,i){if(n>=this._minLevel){const o=`[${new Date().toISOString()}] ${F[n]}: ${i}`;switch(n){case F.Critical:case F.Error:this.out.error(o);break;case F.Warning:this.out.warn(o);break;case F.Information:this.out.info(o);break;default:this.out.log(o);break}}}}function ms(){let t="X-SignalR-User-Agent";return pe.isNode&&(t="User-Agent"),[t,Yy(Gy,Qy(),eb(),tb())]}function Yy(t,n,i,o){let r="Microsoft SignalR/";const l=t.split(".");return r+=`${l[0]}.${l[1]}`,r+=` (${t}; `,n&&n!==""?r+=`${n}; `:r+="Unknown OS; ",r+=`${i}`,o?r+=`; ${o}`:r+="; Unknown Runtime Version",r+=")",r}function Qy(){if(pe.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function tb(){if(pe.isNode)return process.versions.node}function eb(){return pe.isNode?"NodeJS":"Browser"}function Pa(t){return t.stack?t.stack:t.message?t.message:`${t}`}function nb(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class ib extends Nr{constructor(n){if(super(),this._logger=n,typeof fetch>"u"||pe.isNode){const i=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(i("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=i("node-fetch"):this._fetchType=fetch,this._fetchType=i("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(nb());if(typeof AbortController>"u"){const i=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=i("abort-controller")}else this._abortControllerType=AbortController}async send(n){if(n.abortSignal&&n.abortSignal.aborted)throw new mn;if(!n.method)throw new Error("No method defined.");if(!n.url)throw new Error("No url defined.");const i=new this._abortControllerType;let o;n.abortSignal&&(n.abortSignal.onabort=()=>{i.abort(),o=new mn});let r=null;if(n.timeout){const f=n.timeout;r=setTimeout(()=>{i.abort(),this._logger.log(F.Warning,"Timeout from HTTP request."),o=new wl},f)}n.content===""&&(n.content=void 0),n.content&&(n.headers=n.headers||{},Di(n.content)?n.headers["Content-Type"]="application/octet-stream":n.headers["Content-Type"]="text/plain;charset=UTF-8");let l;try{l=await this._fetchType(n.url,{body:n.content,cache:"no-cache",credentials:n.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...n.headers},method:n.method,mode:"cors",redirect:"follow",signal:i.signal})}catch(f){throw o||(this._logger.log(F.Warning,`Error from HTTP request. ${f}.`),f)}finally{r&&clearTimeout(r),n.abortSignal&&(n.abortSignal.onabort=null)}if(!l.ok){const f=await xu(l,"text");throw new Mi(f||l.statusText,l.status)}const h=await xu(l,n.responseType);return new Id(l.status,l.statusText,h)}getCookieString(n){let i="";return pe.isNode&&this._jar&&this._jar.getCookies(n,(o,r)=>i=r.join("; ")),i}}function xu(t,n){let i;switch(n){case"arraybuffer":i=t.arrayBuffer();break;case"text":i=t.text();break;case"blob":case"document":case"json":throw new Error(`${n} is not supported.`);default:i=t.text();break}return i}class sb extends Nr{constructor(n){super(),this._logger=n}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new mn):n.method?n.url?new Promise((i,o)=>{const r=new XMLHttpRequest;r.open(n.method,n.url,!0),r.withCredentials=n.withCredentials===void 0?!0:n.withCredentials,r.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.content===""&&(n.content=void 0),n.content&&(Di(n.content)?r.setRequestHeader("Content-Type","application/octet-stream"):r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const l=n.headers;l&&Object.keys(l).forEach(c=>{r.setRequestHeader(c,l[c])}),n.responseType&&(r.responseType=n.responseType),n.abortSignal&&(n.abortSignal.onabort=()=>{r.abort(),o(new mn)}),n.timeout&&(r.timeout=n.timeout),r.onload=()=>{n.abortSignal&&(n.abortSignal.onabort=null),r.status>=200&&r.status<300?i(new Id(r.status,r.statusText,r.response||r.responseText)):o(new Mi(r.response||r.responseText||r.statusText,r.status))},r.onerror=()=>{this._logger.log(F.Warning,`Error from HTTP request. ${r.status}: ${r.statusText}.`),o(new Mi(r.statusText,r.status))},r.ontimeout=()=>{this._logger.log(F.Warning,"Timeout from HTTP request."),o(new wl)},r.send(n.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class ob extends Nr{constructor(n){if(super(),typeof fetch<"u"||pe.isNode)this._httpClient=new ib(n);else if(typeof XMLHttpRequest<"u")this._httpClient=new sb(n);else throw new Error("No usable HttpClient found.")}send(n){return n.abortSignal&&n.abortSignal.aborted?Promise.reject(new mn):n.method?n.url?this._httpClient.send(n):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(n){return this._httpClient.getCookieString(n)}}class sn{static write(n){return`${n}${sn.RecordSeparator}`}static parse(n){if(n[n.length-1]!==sn.RecordSeparator)throw new Error("Message is incomplete.");const i=n.split(sn.RecordSeparator);return i.pop(),i}}sn.RecordSeparatorCode=30;sn.RecordSeparator=String.fromCharCode(sn.RecordSeparatorCode);class rb{writeHandshakeRequest(n){return sn.write(JSON.stringify(n))}parseHandshakeResponse(n){let i,o;if(Di(n)){const h=new Uint8Array(n),f=h.indexOf(sn.RecordSeparatorCode);if(f===-1)throw new Error("Message is incomplete.");const _=f+1;i=String.fromCharCode.apply(null,Array.prototype.slice.call(h.slice(0,_))),o=h.byteLength>_?h.slice(_).buffer:null}else{const h=n,f=h.indexOf(sn.RecordSeparator);if(f===-1)throw new Error("Message is incomplete.");const _=f+1;i=h.substring(0,_),o=h.length>_?h.substring(_):null}const r=sn.parse(i),l=JSON.parse(r[0]);if(l.type)throw new Error("Expected a handshake response from the server.");return[o,l]}}var At;(function(t){t[t.Invocation=1]="Invocation",t[t.StreamItem=2]="StreamItem",t[t.Completion=3]="Completion",t[t.StreamInvocation=4]="StreamInvocation",t[t.CancelInvocation=5]="CancelInvocation",t[t.Ping=6]="Ping",t[t.Close=7]="Close",t[t.Ack=8]="Ack",t[t.Sequence=9]="Sequence"})(At||(At={}));class ab{constructor(){this.observers=[]}next(n){for(const i of this.observers)i.next(n)}error(n){for(const i of this.observers)i.error&&i.error(n)}complete(){for(const n of this.observers)n.complete&&n.complete()}subscribe(n){return this.observers.push(n),new Xy(this,n)}}class lb{constructor(n,i,o){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=n,this._connection=i,this._bufferSize=o}async _send(n){const i=this._protocol.writeMessage(n);let o=Promise.resolve();if(this._isInvocationMessage(n)){this._totalMessageCount++;let r=()=>{},l=()=>{};Di(i)?this._bufferedByteCount+=i.byteLength:this._bufferedByteCount+=i.length,this._bufferedByteCount>=this._bufferSize&&(o=new Promise((c,h)=>{r=c,l=h})),this._messages.push(new cb(i,this._totalMessageCount,r,l))}try{this._reconnectInProgress||await this._connection.send(i)}catch{this._disconnected()}await o}_ack(n){let i=-1;for(let o=0;o<this._messages.length;o++){const r=this._messages[o];if(r._id<=n.sequenceId)i=o,Di(r._message)?this._bufferedByteCount-=r._message.byteLength:this._bufferedByteCount-=r._message.length,r._resolver();else if(this._bufferedByteCount<this._bufferSize)r._resolver();else break}i!==-1&&(this._messages=this._messages.slice(i+1))}_shouldProcessMessage(n){if(this._waitForSequenceMessage)return n.type!==At.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(n))return!0;const i=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,i<=this._latestReceivedSequenceId?(i===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=i,this._ackTimer(),!0)}_resetSequence(n){if(n.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=n.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const n=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:At.Sequence,sequenceId:n}));const i=this._messages;for(const o of i)await this._connection.send(o._message);this._reconnectInProgress=!1}_dispose(n){n??(n=new Error("Unable to reconnect to server."));for(const i of this._messages)i._rejector(n)}_isInvocationMessage(n){switch(n.type){case At.Invocation:case At.StreamItem:case At.Completion:case At.StreamInvocation:case At.CancelInvocation:return!0;case At.Close:case At.Sequence:case At.Ping:case At.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:At.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class cb{constructor(n,i,o,r){this._message=n,this._id=i,this._resolver=o,this._rejector=r}}const ub=30*1e3,hb=15*1e3,db=1e5;var ce;(function(t){t.Disconnected="Disconnected",t.Connecting="Connecting",t.Connected="Connected",t.Disconnecting="Disconnecting",t.Reconnecting="Reconnecting"})(ce||(ce={}));class Cl{static create(n,i,o,r,l,c,h){return new Cl(n,i,o,r,l,c,h)}constructor(n,i,o,r,l,c,h){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(F.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},be.isRequired(n,"connection"),be.isRequired(i,"logger"),be.isRequired(o,"protocol"),this.serverTimeoutInMilliseconds=l??ub,this.keepAliveIntervalInMilliseconds=c??hb,this._statefulReconnectBufferSize=h??db,this._logger=i,this._protocol=o,this.connection=n,this._reconnectPolicy=r,this._handshakeProtocol=new rb,this.connection.onreceive=f=>this._processIncomingData(f),this.connection.onclose=f=>this._connectionClosed(f),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=ce.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:At.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(n){if(this._connectionState!==ce.Disconnected&&this._connectionState!==ce.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!n)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=n}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==ce.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=ce.Connecting,this._logger.log(F.Debug,"Starting HubConnection.");try{await this._startInternal(),pe.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=ce.Connected,this._connectionStarted=!0,this._logger.log(F.Debug,"HubConnection connected successfully.")}catch(n){return this._connectionState=ce.Disconnected,this._logger.log(F.Debug,`HubConnection failed to start successfully because of error '${n}'.`),Promise.reject(n)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const n=new Promise((i,o)=>{this._handshakeResolver=i,this._handshakeRejecter=o});await this.connection.start(this._protocol.transferFormat);try{let i=this._protocol.version;this.connection.features.reconnect||(i=1);const o={protocol:this._protocol.name,version:i};if(this._logger.log(F.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(o)),this._logger.log(F.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await n,this._stopDuringStartError)throw this._stopDuringStartError;this.connection.features.reconnect&&(this._messageBuffer=new lb(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(i){throw this._logger.log(F.Debug,`Hub handshake failed with error '${i}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(i),i}}async stop(){const n=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await n}catch{}}_stopInternal(n){if(this._connectionState===ce.Disconnected)return this._logger.log(F.Debug,`Call to HubConnection.stop(${n}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===ce.Disconnecting)return this._logger.log(F.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const i=this._connectionState;return this._connectionState=ce.Disconnecting,this._logger.log(F.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(F.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(i===ce.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=n||new mn("The connection was stopped before the hub handshake could complete."),this.connection.stop(n))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(n,...i){const[o,r]=this._replaceStreamingParams(i),l=this._createStreamInvocation(n,i,r);let c;const h=new ab;return h.cancelCallback=()=>{const f=this._createCancelInvocation(l.invocationId);return delete this._callbacks[l.invocationId],c.then(()=>this._sendWithProtocol(f))},this._callbacks[l.invocationId]=(f,_)=>{if(_){h.error(_);return}else f&&(f.type===At.Completion?f.error?h.error(new Error(f.error)):h.complete():h.next(f.item))},c=this._sendWithProtocol(l).catch(f=>{h.error(f),delete this._callbacks[l.invocationId]}),this._launchStreams(o,c),h}_sendMessage(n){return this._resetKeepAliveInterval(),this.connection.send(n)}_sendWithProtocol(n){return this._messageBuffer?this._messageBuffer._send(n):this._sendMessage(this._protocol.writeMessage(n))}send(n,...i){const[o,r]=this._replaceStreamingParams(i),l=this._sendWithProtocol(this._createInvocation(n,i,!0,r));return this._launchStreams(o,l),l}invoke(n,...i){const[o,r]=this._replaceStreamingParams(i),l=this._createInvocation(n,i,!1,r);return new Promise((h,f)=>{this._callbacks[l.invocationId]=(m,y)=>{if(y){f(y);return}else m&&(m.type===At.Completion?m.error?f(new Error(m.error)):h(m.result):f(new Error(`Unexpected message type: ${m.type}`)))};const _=this._sendWithProtocol(l).catch(m=>{f(m),delete this._callbacks[l.invocationId]});this._launchStreams(o,_)})}on(n,i){!n||!i||(n=n.toLowerCase(),this._methods[n]||(this._methods[n]=[]),this._methods[n].indexOf(i)===-1&&this._methods[n].push(i))}off(n,i){if(!n)return;n=n.toLowerCase();const o=this._methods[n];if(o)if(i){const r=o.indexOf(i);r!==-1&&(o.splice(r,1),o.length===0&&delete this._methods[n])}else delete this._methods[n]}onclose(n){n&&this._closedCallbacks.push(n)}onreconnecting(n){n&&this._reconnectingCallbacks.push(n)}onreconnected(n){n&&this._reconnectedCallbacks.push(n)}_processIncomingData(n){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(n=this._processHandshakeResponse(n),this._receivedHandshakeResponse=!0),n){const i=this._protocol.parseMessages(n,this._logger);for(const o of i)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(o)))switch(o.type){case At.Invocation:this._invokeClientMethod(o).catch(r=>{this._logger.log(F.Error,`Invoke client method threw error: ${Pa(r)}`)});break;case At.StreamItem:case At.Completion:{const r=this._callbacks[o.invocationId];if(r){o.type===At.Completion&&delete this._callbacks[o.invocationId];try{r(o)}catch(l){this._logger.log(F.Error,`Stream callback threw error: ${Pa(l)}`)}}break}case At.Ping:break;case At.Close:{this._logger.log(F.Information,"Close message received from server.");const r=o.error?new Error("Server returned an error on close: "+o.error):void 0;o.allowReconnect===!0?this.connection.stop(r):this._stopPromise=this._stopInternal(r);break}case At.Ack:this._messageBuffer&&this._messageBuffer._ack(o);break;case At.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(o);break;default:this._logger.log(F.Warning,`Invalid message type: ${o.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(n){let i,o;try{[o,i]=this._handshakeProtocol.parseHandshakeResponse(n)}catch(r){const l="Error parsing handshake response: "+r;this._logger.log(F.Error,l);const c=new Error(l);throw this._handshakeRejecter(c),c}if(i.error){const r="Server returned handshake error: "+i.error;this._logger.log(F.Error,r);const l=new Error(r);throw this._handshakeRejecter(l),l}else this._logger.log(F.Debug,"Server handshake complete.");return this._handshakeResolver(),o}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if(!this.connection.features||!this.connection.features.inherentKeepAlive){this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds);let n=this._nextKeepAlive-new Date().getTime();if(n<0){this._connectionState===ce.Connected&&this._trySendPingMessage();return}this._pingServerHandle===void 0&&(n<0&&(n=0),this._pingServerHandle=setTimeout(async()=>{this._connectionState===ce.Connected&&await this._trySendPingMessage()},n))}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(n){const i=n.target.toLowerCase(),o=this._methods[i];if(!o){this._logger.log(F.Warning,`No client method with the name '${i}' found.`),n.invocationId&&(this._logger.log(F.Warning,`No result given for '${i}' method and invocation ID '${n.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null)));return}const r=o.slice(),l=!!n.invocationId;let c,h,f;for(const _ of r)try{const m=c;c=await _.apply(this,n.arguments),l&&c&&m&&(this._logger.log(F.Error,`Multiple results provided for '${i}'. Sending error to server.`),f=this._createCompletionMessage(n.invocationId,"Client provided multiple results.",null)),h=void 0}catch(m){h=m,this._logger.log(F.Error,`A callback for the method '${i}' threw error '${m}'.`)}f?await this._sendWithProtocol(f):l?(h?f=this._createCompletionMessage(n.invocationId,`${h}`,null):c!==void 0?f=this._createCompletionMessage(n.invocationId,null,c):(this._logger.log(F.Warning,`No result given for '${i}' method and invocation ID '${n.invocationId}'.`),f=this._createCompletionMessage(n.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(f)):c&&this._logger.log(F.Error,`Result given for '${i}' method but server is not expecting a result.`)}_connectionClosed(n){this._logger.log(F.Debug,`HubConnection.connectionClosed(${n}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||n||new mn("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(n||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===ce.Disconnecting?this._completeClose(n):this._connectionState===ce.Connected&&this._reconnectPolicy?this._reconnect(n):this._connectionState===ce.Connected&&this._completeClose(n)}_completeClose(n){if(this._connectionStarted){this._connectionState=ce.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(n??new Error("Connection closed.")),this._messageBuffer=void 0),pe.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(i=>i.apply(this,[n]))}catch(i){this._logger.log(F.Error,`An onclose callback called with error '${n}' threw error '${i}'.`)}}}async _reconnect(n){const i=Date.now();let o=0,r=n!==void 0?n:new Error("Attempting to reconnect due to a unknown error."),l=this._getNextRetryDelay(o,0,r);if(l===null){this._logger.log(F.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(n);return}if(this._connectionState=ce.Reconnecting,n?this._logger.log(F.Information,`Connection reconnecting because of error '${n}'.`):this._logger.log(F.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(c=>c.apply(this,[n]))}catch(c){this._logger.log(F.Error,`An onreconnecting callback called with error '${n}' threw error '${c}'.`)}if(this._connectionState!==ce.Reconnecting){this._logger.log(F.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;l!==null;){if(this._logger.log(F.Information,`Reconnect attempt number ${o+1} will start in ${l} ms.`),await new Promise(c=>{this._reconnectDelayHandle=setTimeout(c,l)}),this._reconnectDelayHandle=void 0,this._connectionState!==ce.Reconnecting){this._logger.log(F.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=ce.Connected,this._logger.log(F.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(c=>c.apply(this,[this.connection.connectionId]))}catch(c){this._logger.log(F.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${c}'.`)}return}catch(c){if(this._logger.log(F.Information,`Reconnect attempt failed because of error '${c}'.`),this._connectionState!==ce.Reconnecting){this._logger.log(F.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===ce.Disconnecting&&this._completeClose();return}o++,r=c instanceof Error?c:new Error(c.toString()),l=this._getNextRetryDelay(o,Date.now()-i,r)}}this._logger.log(F.Information,`Reconnect retries have been exhausted after ${Date.now()-i} ms and ${o} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(n,i,o){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:i,previousRetryCount:n,retryReason:o})}catch(r){return this._logger.log(F.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${n}, ${i}) threw error '${r}'.`),null}}_cancelCallbacksWithError(n){const i=this._callbacks;this._callbacks={},Object.keys(i).forEach(o=>{const r=i[o];try{r(null,n)}catch(l){this._logger.log(F.Error,`Stream 'error' callback called with '${n}' threw error: ${Pa(l)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(n,i,o,r){if(o)return r.length!==0?{target:n,arguments:i,streamIds:r,type:At.Invocation}:{target:n,arguments:i,type:At.Invocation};{const l=this._invocationId;return this._invocationId++,r.length!==0?{target:n,arguments:i,invocationId:l.toString(),streamIds:r,type:At.Invocation}:{target:n,arguments:i,invocationId:l.toString(),type:At.Invocation}}}_launchStreams(n,i){if(n.length!==0){i||(i=Promise.resolve());for(const o in n)n[o].subscribe({complete:()=>{i=i.then(()=>this._sendWithProtocol(this._createCompletionMessage(o)))},error:r=>{let l;r instanceof Error?l=r.message:r&&r.toString?l=r.toString():l="Unknown error",i=i.then(()=>this._sendWithProtocol(this._createCompletionMessage(o,l)))},next:r=>{i=i.then(()=>this._sendWithProtocol(this._createStreamItemMessage(o,r)))}})}}_replaceStreamingParams(n){const i=[],o=[];for(let r=0;r<n.length;r++){const l=n[r];if(this._isObservable(l)){const c=this._invocationId;this._invocationId++,i[c]=l,o.push(c.toString()),n.splice(r,1)}}return[i,o]}_isObservable(n){return n&&n.subscribe&&typeof n.subscribe=="function"}_createStreamInvocation(n,i,o){const r=this._invocationId;return this._invocationId++,o.length!==0?{target:n,arguments:i,invocationId:r.toString(),streamIds:o,type:At.StreamInvocation}:{target:n,arguments:i,invocationId:r.toString(),type:At.StreamInvocation}}_createCancelInvocation(n){return{invocationId:n,type:At.CancelInvocation}}_createStreamItemMessage(n,i){return{invocationId:n,item:i,type:At.StreamItem}}_createCompletionMessage(n,i,o){return i?{error:i,invocationId:n,type:At.Completion}:{invocationId:n,result:o,type:At.Completion}}_createCloseMessage(){return{type:At.Close}}async _trySendPingMessage(){try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}}}const fb=[0,2e3,1e4,3e4,null];class Eu{constructor(n){this._retryDelays=n!==void 0?[...n,null]:fb}nextRetryDelayInMilliseconds(n){return this._retryDelays[n.previousRetryCount]}}class Ri{}Ri.Authorization="Authorization";Ri.Cookie="Cookie";class pb extends Nr{constructor(n,i){super(),this._innerClient=n,this._accessTokenFactory=i}async send(n){let i=!0;this._accessTokenFactory&&(!this._accessToken||n.url&&n.url.indexOf("/negotiate?")>0)&&(i=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(n);const o=await this._innerClient.send(n);return i&&o.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(n),await this._innerClient.send(n)):o}_setAuthorizationHeader(n){n.headers||(n.headers={}),this._accessToken?n.headers[Ri.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&n.headers[Ri.Authorization]&&delete n.headers[Ri.Authorization]}getCookieString(n){return this._innerClient.getCookieString(n)}}var xe;(function(t){t[t.None=0]="None",t[t.WebSockets=1]="WebSockets",t[t.ServerSentEvents=2]="ServerSentEvents",t[t.LongPolling=4]="LongPolling"})(xe||(xe={}));var Oe;(function(t){t[t.Text=1]="Text",t[t.Binary=2]="Binary"})(Oe||(Oe={}));let mb=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class Pu{get pollAborted(){return this._pollAbort.aborted}constructor(n,i,o){this._httpClient=n,this._logger=i,this._pollAbort=new mb,this._options=o,this._running=!1,this.onreceive=null,this.onclose=null}async connect(n,i){if(be.isRequired(n,"url"),be.isRequired(i,"transferFormat"),be.isIn(i,Oe,"transferFormat"),this._url=n,this._logger.log(F.Trace,"(LongPolling transport) Connecting."),i===Oe.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[o,r]=ms(),l={[o]:r,...this._options.headers},c={abortSignal:this._pollAbort.signal,headers:l,timeout:1e5,withCredentials:this._options.withCredentials};i===Oe.Binary&&(c.responseType="arraybuffer");const h=`${n}&_=${Date.now()}`;this._logger.log(F.Trace,`(LongPolling transport) polling: ${h}.`);const f=await this._httpClient.get(h,c);f.statusCode!==200?(this._logger.log(F.Error,`(LongPolling transport) Unexpected response code: ${f.statusCode}.`),this._closeError=new Mi(f.statusText||"",f.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,c)}async _poll(n,i){try{for(;this._running;)try{const o=`${n}&_=${Date.now()}`;this._logger.log(F.Trace,`(LongPolling transport) polling: ${o}.`);const r=await this._httpClient.get(o,i);r.statusCode===204?(this._logger.log(F.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):r.statusCode!==200?(this._logger.log(F.Error,`(LongPolling transport) Unexpected response code: ${r.statusCode}.`),this._closeError=new Mi(r.statusText||"",r.statusCode),this._running=!1):r.content?(this._logger.log(F.Trace,`(LongPolling transport) data received. ${io(r.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(r.content)):this._logger.log(F.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(o){this._running?o instanceof wl?this._logger.log(F.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=o,this._running=!1):this._logger.log(F.Trace,`(LongPolling transport) Poll errored after shutdown: ${o.message}`)}}finally{this._logger.log(F.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(n){return this._running?Ld(this._logger,"LongPolling",this._httpClient,this._url,n,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(F.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(F.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const n={},[i,o]=ms();n[i]=o;const r={headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let l;try{await this._httpClient.delete(this._url,r)}catch(c){l=c}l?l instanceof Mi&&(l.statusCode===404?this._logger.log(F.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(F.Trace,`(LongPolling transport) Error sending a DELETE request: ${l}`)):this._logger.log(F.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(F.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let n="(LongPolling transport) Firing onclose event.";this._closeError&&(n+=" Error: "+this._closeError),this._logger.log(F.Trace,n),this.onclose(this._closeError)}}}class _b{constructor(n,i,o,r){this._httpClient=n,this._accessToken=i,this._logger=o,this._options=r,this.onreceive=null,this.onclose=null}async connect(n,i){return be.isRequired(n,"url"),be.isRequired(i,"transferFormat"),be.isIn(i,Oe,"transferFormat"),this._logger.log(F.Trace,"(SSE transport) Connecting."),this._url=n,this._accessToken&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((o,r)=>{let l=!1;if(i!==Oe.Text){r(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let c;if(pe.isBrowser||pe.isWebWorker)c=new this._options.EventSource(n,{withCredentials:this._options.withCredentials});else{const h=this._httpClient.getCookieString(n),f={};f.Cookie=h;const[_,m]=ms();f[_]=m,c=new this._options.EventSource(n,{withCredentials:this._options.withCredentials,headers:{...f,...this._options.headers}})}try{c.onmessage=h=>{if(this.onreceive)try{this._logger.log(F.Trace,`(SSE transport) data received. ${io(h.data,this._options.logMessageContent)}.`),this.onreceive(h.data)}catch(f){this._close(f);return}},c.onerror=h=>{l?this._close():r(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},c.onopen=()=>{this._logger.log(F.Information,`SSE connected to ${this._url}`),this._eventSource=c,l=!0,o()}}catch(h){r(h);return}})}async send(n){return this._eventSource?Ld(this._logger,"SSE",this._httpClient,this._url,n,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(n){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(n))}}class gb{constructor(n,i,o,r,l,c){this._logger=o,this._accessTokenFactory=i,this._logMessageContent=r,this._webSocketConstructor=l,this._httpClient=n,this.onreceive=null,this.onclose=null,this._headers=c}async connect(n,i){be.isRequired(n,"url"),be.isRequired(i,"transferFormat"),be.isIn(i,Oe,"transferFormat"),this._logger.log(F.Trace,"(WebSockets transport) Connecting.");let o;return this._accessTokenFactory&&(o=await this._accessTokenFactory()),new Promise((r,l)=>{n=n.replace(/^http/,"ws");let c;const h=this._httpClient.getCookieString(n);let f=!1;if(pe.isNode||pe.isReactNative){const _={},[m,y]=ms();_[m]=y,o&&(_[Ri.Authorization]=`Bearer ${o}`),h&&(_[Ri.Cookie]=h),c=new this._webSocketConstructor(n,void 0,{headers:{..._,...this._headers}})}else o&&(n+=(n.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(o)}`);c||(c=new this._webSocketConstructor(n)),i===Oe.Binary&&(c.binaryType="arraybuffer"),c.onopen=_=>{this._logger.log(F.Information,`WebSocket connected to ${n}.`),this._webSocket=c,f=!0,r()},c.onerror=_=>{let m=null;typeof ErrorEvent<"u"&&_ instanceof ErrorEvent?m=_.error:m="There was an error with the transport",this._logger.log(F.Information,`(WebSockets transport) ${m}.`)},c.onmessage=_=>{if(this._logger.log(F.Trace,`(WebSockets transport) data received. ${io(_.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(_.data)}catch(m){this._close(m);return}},c.onclose=_=>{if(f)this._close(_);else{let m=null;typeof ErrorEvent<"u"&&_ instanceof ErrorEvent?m=_.error:m="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",l(new Error(m))}}})}send(n){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(F.Trace,`(WebSockets transport) sending data. ${io(n,this._logMessageContent)}.`),this._webSocket.send(n),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(n){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(F.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(n)&&(n.wasClean===!1||n.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${n.code} (${n.reason||"no reason given"}).`)):n instanceof Error?this.onclose(n):this.onclose())}_isCloseEvent(n){return n&&typeof n.wasClean=="boolean"&&typeof n.code=="number"}}const ku=100;class vb{constructor(n,i={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,be.isRequired(n,"url"),this._logger=Jy(i.logger),this.baseUrl=this._resolveUrl(n),i=i||{},i.logMessageContent=i.logMessageContent===void 0?!1:i.logMessageContent,typeof i.withCredentials=="boolean"||i.withCredentials===void 0)i.withCredentials=i.withCredentials===void 0?!0:i.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");i.timeout=i.timeout===void 0?100*1e3:i.timeout;let o=null,r=null;if(pe.isNode&&typeof require<"u"){const l=typeof __webpack_require__=="function"?__non_webpack_require__:require;o=l("ws"),r=l("eventsource")}!pe.isNode&&typeof WebSocket<"u"&&!i.WebSocket?i.WebSocket=WebSocket:pe.isNode&&!i.WebSocket&&o&&(i.WebSocket=o),!pe.isNode&&typeof EventSource<"u"&&!i.EventSource?i.EventSource=EventSource:pe.isNode&&!i.EventSource&&typeof r<"u"&&(i.EventSource=r),this._httpClient=new pb(i.httpClient||new ob(this._logger),i.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=i,this.onreceive=null,this.onclose=null}async start(n){if(n=n||Oe.Binary,be.isIn(n,Oe,"transferFormat"),this._logger.log(F.Debug,`Starting connection with transfer format '${Oe[n]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(n),await this._startInternalPromise,this._connectionState==="Disconnecting"){const i="Failed to start the HttpConnection before stop() was called.";return this._logger.log(F.Error,i),await this._stopPromise,Promise.reject(new mn(i))}else if(this._connectionState!=="Connected"){const i="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(F.Error,i),Promise.reject(new mn(i))}this._connectionStarted=!0}send(n){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Sl(this.transport)),this._sendQueue.send(n))}async stop(n){if(this._connectionState==="Disconnected")return this._logger.log(F.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(F.Debug,`Call to HttpConnection.stop(${n}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(i=>{this._stopPromiseResolver=i}),await this._stopInternal(n),await this._stopPromise}async _stopInternal(n){this._stopError=n;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(i){this._logger.log(F.Error,`HttpConnection.transport.stop() threw error '${i}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(F.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(n){let i=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===xe.WebSockets)this.transport=this._constructTransport(xe.WebSockets),await this._startTransport(i,n);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let o=null,r=0;do{if(o=await this._getNegotiationResponse(i),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new mn("The connection was stopped during negotiation.");if(o.error)throw new Error(o.error);if(o.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(o.url&&(i=o.url),o.accessToken){const l=o.accessToken;this._accessTokenFactory=()=>l,this._httpClient._accessToken=l,this._httpClient._accessTokenFactory=void 0}r++}while(o.url&&r<ku);if(r===ku&&o.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(i,this._options.transport,o,n)}this.transport instanceof Pu&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(F.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(o){return this._logger.log(F.Error,"Failed to start the connection: "+o),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(o)}}async _getNegotiationResponse(n){const i={},[o,r]=ms();i[o]=r;const l=this._resolveNegotiateUrl(n);this._logger.log(F.Debug,`Sending negotiation request: ${l}.`);try{const c=await this._httpClient.post(l,{content:"",headers:{...i,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(c.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${c.statusCode}'`));const h=JSON.parse(c.content);return(!h.negotiateVersion||h.negotiateVersion<1)&&(h.connectionToken=h.connectionId),h.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new Su("Client didn't negotiate Stateful Reconnect but the server did.")):h}catch(c){let h="Failed to complete negotiation with the server: "+c;return c instanceof Mi&&c.statusCode===404&&(h=h+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(F.Error,h),Promise.reject(new Su(h))}}_createConnectUrl(n,i){return i?n+(n.indexOf("?")===-1?"?":"&")+`id=${i}`:n}async _createTransport(n,i,o,r){let l=this._createConnectUrl(n,o.connectionToken);if(this._isITransport(i)){this._logger.log(F.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=i,await this._startTransport(l,r),this.connectionId=o.connectionId;return}const c=[],h=o.availableTransports||[];let f=o;for(const _ of h){const m=this._resolveTransportOrError(_,i,r,f?.useStatefulReconnect===!0);if(m instanceof Error)c.push(`${_.transport} failed:`),c.push(m);else if(this._isITransport(m)){if(this.transport=m,!f){try{f=await this._getNegotiationResponse(n)}catch(y){return Promise.reject(y)}l=this._createConnectUrl(n,f.connectionToken)}try{await this._startTransport(l,r),this.connectionId=f.connectionId;return}catch(y){if(this._logger.log(F.Error,`Failed to start the transport '${_.transport}': ${y}`),f=void 0,c.push(new Vy(`${_.transport} failed: ${y}`,xe[_.transport])),this._connectionState!=="Connecting"){const b="Failed to select transport before stop() was called.";return this._logger.log(F.Debug,b),Promise.reject(new mn(b))}}}}return c.length>0?Promise.reject(new qy(`Unable to connect to the server with any of the available transports. ${c.join(" ")}`,c)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(n){switch(n){case xe.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new gb(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case xe.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new _b(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case xe.LongPolling:return new Pu(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${n}.`)}}_startTransport(n,i){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async o=>{let r=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(n,i),await this.features.resend()}catch{r=!0}else{this._stopConnection(o);return}r&&this._stopConnection(o)}:this.transport.onclose=o=>this._stopConnection(o),this.transport.connect(n,i)}_resolveTransportOrError(n,i,o,r){const l=xe[n.transport];if(l==null)return this._logger.log(F.Debug,`Skipping transport '${n.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${n.transport}' because it is not supported by this client.`);if(yb(i,l))if(n.transferFormats.map(h=>Oe[h]).indexOf(o)>=0){if(l===xe.WebSockets&&!this._options.WebSocket||l===xe.ServerSentEvents&&!this._options.EventSource)return this._logger.log(F.Debug,`Skipping transport '${xe[l]}' because it is not supported in your environment.'`),new Wy(`'${xe[l]}' is not supported in your environment.`,l);this._logger.log(F.Debug,`Selecting transport '${xe[l]}'.`);try{return this.features.reconnect=l===xe.WebSockets?r:void 0,this._constructTransport(l)}catch(h){return h}}else return this._logger.log(F.Debug,`Skipping transport '${xe[l]}' because it does not support the requested transfer format '${Oe[o]}'.`),new Error(`'${xe[l]}' does not support ${Oe[o]}.`);else return this._logger.log(F.Debug,`Skipping transport '${xe[l]}' because it was disabled by the client.`),new jy(`'${xe[l]}' is disabled by the client.`,l)}_isITransport(n){return n&&typeof n=="object"&&"connect"in n}_stopConnection(n){if(this._logger.log(F.Debug,`HttpConnection.stopConnection(${n}) called while in state ${this._connectionState}.`),this.transport=void 0,n=this._stopError||n,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(F.Debug,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(F.Warning,`Call to HttpConnection.stopConnection(${n}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${n}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),n?this._logger.log(F.Error,`Connection disconnected with error '${n}'.`):this._logger.log(F.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(i=>{this._logger.log(F.Error,`TransportSendQueue.stop() threw error '${i}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(n)}catch(i){this._logger.log(F.Error,`HttpConnection.onclose(${n}) threw error '${i}'.`)}}}_resolveUrl(n){if(n.lastIndexOf("https://",0)===0||n.lastIndexOf("http://",0)===0)return n;if(!pe.isBrowser)throw new Error(`Cannot resolve '${n}'.`);const i=window.document.createElement("a");return i.href=n,this._logger.log(F.Information,`Normalizing '${n}' to '${i.href}'.`),i.href}_resolveNegotiateUrl(n){const i=new URL(n);i.pathname.endsWith("/")?i.pathname+="negotiate":i.pathname+="/negotiate";const o=new URLSearchParams(i.searchParams);return o.has("negotiateVersion")||o.append("negotiateVersion",this._negotiateVersion.toString()),o.has("useStatefulReconnect")?o.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&o.append("useStatefulReconnect","true"),i.search=o.toString(),i.toString()}}function yb(t,n){return!t||(n&t)!==0}class Sl{constructor(n){this._transport=n,this._buffer=[],this._executing=!0,this._sendBufferedData=new Vo,this._transportResult=new Vo,this._sendLoopPromise=this._sendLoop()}send(n){return this._bufferData(n),this._transportResult||(this._transportResult=new Vo),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(n){if(this._buffer.length&&typeof this._buffer[0]!=typeof n)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof n}`);this._buffer.push(n),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new Vo;const n=this._transportResult;this._transportResult=void 0;const i=typeof this._buffer[0]=="string"?this._buffer.join(""):Sl._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(i),n.resolve()}catch(o){n.reject(o)}}}static _concatBuffers(n){const i=n.map(l=>l.byteLength).reduce((l,c)=>l+c),o=new Uint8Array(i);let r=0;for(const l of n)o.set(new Uint8Array(l),r),r+=l.byteLength;return o.buffer}}class Vo{constructor(){this.promise=new Promise((n,i)=>[this._resolver,this._rejecter]=[n,i])}resolve(){this._resolver()}reject(n){this._rejecter(n)}}const bb="json";class wb{constructor(){this.name=bb,this.version=2,this.transferFormat=Oe.Text}parseMessages(n,i){if(typeof n!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!n)return[];i===null&&(i=no.instance);const o=sn.parse(n),r=[];for(const l of o){const c=JSON.parse(l);if(typeof c.type!="number")throw new Error("Invalid payload.");switch(c.type){case At.Invocation:this._isInvocationMessage(c);break;case At.StreamItem:this._isStreamItemMessage(c);break;case At.Completion:this._isCompletionMessage(c);break;case At.Ping:break;case At.Close:break;case At.Ack:this._isAckMessage(c);break;case At.Sequence:this._isSequenceMessage(c);break;default:i.log(F.Information,"Unknown message type '"+c.type+"' ignored.");continue}r.push(c)}return r}writeMessage(n){return sn.write(JSON.stringify(n))}_isInvocationMessage(n){this._assertNotEmptyString(n.target,"Invalid payload for Invocation message."),n.invocationId!==void 0&&this._assertNotEmptyString(n.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(n){if(this._assertNotEmptyString(n.invocationId,"Invalid payload for StreamItem message."),n.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(n){if(n.result&&n.error)throw new Error("Invalid payload for Completion message.");!n.result&&n.error&&this._assertNotEmptyString(n.error,"Invalid payload for Completion message."),this._assertNotEmptyString(n.invocationId,"Invalid payload for Completion message.")}_isAckMessage(n){if(typeof n.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(n){if(typeof n.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(n,i){if(typeof n!="string"||n==="")throw new Error(i)}}const Cb={trace:F.Trace,debug:F.Debug,info:F.Information,information:F.Information,warn:F.Warning,warning:F.Warning,error:F.Error,critical:F.Critical,none:F.None};function Sb(t){const n=Cb[t.toLowerCase()];if(typeof n<"u")return n;throw new Error(`Unknown log level: ${t}`)}class xb{configureLogging(n){if(be.isRequired(n,"logging"),Eb(n))this.logger=n;else if(typeof n=="string"){const i=Sb(n);this.logger=new fr(i)}else this.logger=new fr(n);return this}withUrl(n,i){return be.isRequired(n,"url"),be.isNotEmpty(n,"url"),this.url=n,typeof i=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...i}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:i},this}withHubProtocol(n){return be.isRequired(n,"protocol"),this.protocol=n,this}withAutomaticReconnect(n){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return n?Array.isArray(n)?this.reconnectPolicy=new Eu(n):this.reconnectPolicy=n:this.reconnectPolicy=new Eu,this}withServerTimeout(n){return be.isRequired(n,"milliseconds"),this._serverTimeoutInMilliseconds=n,this}withKeepAliveInterval(n){return be.isRequired(n,"milliseconds"),this._keepAliveIntervalInMilliseconds=n,this}withStatefulReconnect(n){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=n?.bufferSize,this}build(){const n=this.httpConnectionOptions||{};if(n.logger===void 0&&(n.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const i=new vb(this.url,n);return Cl.create(i,this.logger||no.instance,this.protocol||new wb,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function Eb(t){return t.log!==void 0}let Un=null;const Pb=async t=>{if(Un)return Un;Un=new xb().withUrl(`${kd}/negotiate`,{skipNegotiation:!1}).withAutomaticReconnect().build(),Un.on("checkinUpdate",t);try{return await Un.start(),console.log("SignalR connected"),Un}catch(n){return console.error("SignalR connection error:",n),null}},kb=async()=>{Un&&(await Un.stop(),Un=null)};function Tb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fs={exports:{}};var Ib=Fs.exports,Tu;function Lb(){return Tu||(Tu=1,(function(t,n){(function(i,o){o(n)})(Ib,(function(i){var o="1.9.4";function r(e){var s,a,u,d;for(a=1,u=arguments.length;a<u;a++){d=arguments[a];for(s in d)e[s]=d[s]}return e}var l=Object.create||(function(){function e(){}return function(s){return e.prototype=s,new e}})();function c(e,s){var a=Array.prototype.slice;if(e.bind)return e.bind.apply(e,a.call(arguments,1));var u=a.call(arguments,2);return function(){return e.apply(s,u.length?u.concat(a.call(arguments)):arguments)}}var h=0;function f(e){return"_leaflet_id"in e||(e._leaflet_id=++h),e._leaflet_id}function _(e,s,a){var u,d,g,x;return x=function(){u=!1,d&&(g.apply(a,d),d=!1)},g=function(){u?d=arguments:(e.apply(a,arguments),setTimeout(x,s),u=!0)},g}function m(e,s,a){var u=s[1],d=s[0],g=u-d;return e===u&&a?e:((e-d)%g+g)%g+d}function y(){return!1}function b(e,s){if(s===!1)return e;var a=Math.pow(10,s===void 0?6:s);return Math.round(e*a)/a}function P(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function k(e){return P(e).split(/\s+/)}function A(e,s){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?l(e.options):{});for(var a in s)e.options[a]=s[a];return e.options}function B(e,s,a){var u=[];for(var d in e)u.push(encodeURIComponent(a?d.toUpperCase():d)+"="+encodeURIComponent(e[d]));return(!s||s.indexOf("?")===-1?"?":"&")+u.join("&")}var Y=/\{ *([\w_ -]+) *\}/g;function X(e,s){return e.replace(Y,function(a,u){var d=s[u];if(d===void 0)throw new Error("No value provided for variable "+a);return typeof d=="function"&&(d=d(s)),d})}var G=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function Q(e,s){for(var a=0;a<e.length;a++)if(e[a]===s)return a;return-1}var q="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function K(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var lt=0;function mt(e){var s=+new Date,a=Math.max(0,16-(s-lt));return lt=s+a,window.setTimeout(e,a)}var gt=window.requestAnimationFrame||K("RequestAnimationFrame")||mt,ht=window.cancelAnimationFrame||K("CancelAnimationFrame")||K("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function W(e,s,a){if(a&&gt===mt)e.call(s);else return gt.call(window,c(e,s))}function j(e){e&&ht.call(window,e)}var vt={__proto__:null,extend:r,create:l,bind:c,get lastId(){return h},stamp:f,throttle:_,wrapNum:m,falseFn:y,formatNum:b,trim:P,splitWords:k,setOptions:A,getParamString:B,template:X,isArray:G,indexOf:Q,emptyImageUrl:q,requestFn:gt,cancelFn:ht,requestAnimFrame:W,cancelAnimFrame:j};function Lt(){}Lt.extend=function(e){var s=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=s.__super__=this.prototype,u=l(a);u.constructor=s,s.prototype=u;for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&d!=="prototype"&&d!=="__super__"&&(s[d]=this[d]);return e.statics&&r(s,e.statics),e.includes&&(xt(e.includes),r.apply(null,[u].concat(e.includes))),r(u,e),delete u.statics,delete u.includes,u.options&&(u.options=a.options?l(a.options):{},r(u.options,e.options)),u._initHooks=[],u.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var g=0,x=u._initHooks.length;g<x;g++)u._initHooks[g].call(this)}},s},Lt.include=function(e){var s=this.prototype.options;return r(this.prototype,e),e.options&&(this.prototype.options=s,this.mergeOptions(e.options)),this},Lt.mergeOptions=function(e){return r(this.prototype.options,e),this},Lt.addInitHook=function(e){var s=Array.prototype.slice.call(arguments,1),a=typeof e=="function"?e:function(){this[e].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function xt(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=G(e)?e:[e];for(var s=0;s<e.length;s++)e[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var bt={on:function(e,s,a){if(typeof e=="object")for(var u in e)this._on(u,e[u],s);else{e=k(e);for(var d=0,g=e.length;d<g;d++)this._on(e[d],s,a)}return this},off:function(e,s,a){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var u in e)this._off(u,e[u],s);else{e=k(e);for(var d=arguments.length===1,g=0,x=e.length;g<x;g++)d?this._off(e[g]):this._off(e[g],s,a)}return this},_on:function(e,s,a,u){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(e,s,a)===!1){a===this&&(a=void 0);var d={fn:s,ctx:a};u&&(d.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(d)}},_off:function(e,s,a){var u,d,g;if(this._events&&(u=this._events[e],!!u)){if(arguments.length===1){if(this._firingCount)for(d=0,g=u.length;d<g;d++)u[d].fn=y;delete this._events[e];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var x=this._listens(e,s,a);if(x!==!1){var I=u[x];this._firingCount&&(I.fn=y,this._events[e]=u=u.slice()),u.splice(x,1)}}},fire:function(e,s,a){if(!this.listens(e,a))return this;var u=r({},s,{type:e,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var d=this._events[e];if(d){this._firingCount=this._firingCount+1||1;for(var g=0,x=d.length;g<x;g++){var I=d[g],M=I.fn;I.once&&this.off(e,M,I.ctx),M.call(I.ctx||this,u)}this._firingCount--}}return a&&this._propagateEvent(u),this},listens:function(e,s,a,u){typeof e!="string"&&console.warn('"string" type argument expected');var d=s;typeof s!="function"&&(u=!!s,d=void 0,a=void 0);var g=this._events&&this._events[e];if(g&&g.length&&this._listens(e,d,a)!==!1)return!0;if(u){for(var x in this._eventParents)if(this._eventParents[x].listens(e,s,a,u))return!0}return!1},_listens:function(e,s,a){if(!this._events)return!1;var u=this._events[e]||[];if(!s)return!!u.length;a===this&&(a=void 0);for(var d=0,g=u.length;d<g;d++)if(u[d].fn===s&&u[d].ctx===a)return d;return!1},once:function(e,s,a){if(typeof e=="object")for(var u in e)this._on(u,e[u],s,!0);else{e=k(e);for(var d=0,g=e.length;d<g;d++)this._on(e[d],s,a,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[f(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[f(e)],this},_propagateEvent:function(e){for(var s in this._eventParents)this._eventParents[s].fire(e.type,r({layer:e.target,propagatedFrom:e.target},e),!0)}};bt.addEventListener=bt.on,bt.removeEventListener=bt.clearAllEventListeners=bt.off,bt.addOneTimeEventListener=bt.once,bt.fireEvent=bt.fire,bt.hasEventListeners=bt.listens;var wt=Lt.extend(bt);function tt(e,s,a){this.x=a?Math.round(e):e,this.y=a?Math.round(s):s}var ee=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};tt.prototype={clone:function(){return new tt(this.x,this.y)},add:function(e){return this.clone()._add(yt(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(yt(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new tt(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new tt(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(e){e=yt(e);var s=e.x-this.x,a=e.y-this.y;return Math.sqrt(s*s+a*a)},equals:function(e){return e=yt(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=yt(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function yt(e,s,a){return e instanceof tt?e:G(e)?new tt(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new tt(e.x,e.y):new tt(e,s,a)}function It(e,s){if(e)for(var a=s?[e,s]:e,u=0,d=a.length;u<d;u++)this.extend(a[u])}It.prototype={extend:function(e){var s,a;if(!e)return this;if(e instanceof tt||typeof e[0]=="number"||"x"in e)s=a=yt(e);else if(e=Nt(e),s=e.min,a=e.max,!s||!a)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=a.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(e){return yt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return yt(this.min.x,this.max.y)},getTopRight:function(){return yt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var s,a;return typeof e[0]=="number"||e instanceof tt?e=yt(e):e=Nt(e),e instanceof It?(s=e.min,a=e.max):s=a=e,s.x>=this.min.x&&a.x<=this.max.x&&s.y>=this.min.y&&a.y<=this.max.y},intersects:function(e){e=Nt(e);var s=this.min,a=this.max,u=e.min,d=e.max,g=d.x>=s.x&&u.x<=a.x,x=d.y>=s.y&&u.y<=a.y;return g&&x},overlaps:function(e){e=Nt(e);var s=this.min,a=this.max,u=e.min,d=e.max,g=d.x>s.x&&u.x<a.x,x=d.y>s.y&&u.y<a.y;return g&&x},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var s=this.min,a=this.max,u=Math.abs(s.x-a.x)*e,d=Math.abs(s.y-a.y)*e;return Nt(yt(s.x-u,s.y-d),yt(a.x+u,a.y+d))},equals:function(e){return e?(e=Nt(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function Nt(e,s){return!e||e instanceof It?e:new It(e,s)}function Ht(e,s){if(e)for(var a=s?[e,s]:e,u=0,d=a.length;u<d;u++)this.extend(a[u])}Ht.prototype={extend:function(e){var s=this._southWest,a=this._northEast,u,d;if(e instanceof _t)u=e,d=e;else if(e instanceof Ht){if(u=e._southWest,d=e._northEast,!u||!d)return this}else return e?this.extend(dt(e)||$t(e)):this;return!s&&!a?(this._southWest=new _t(u.lat,u.lng),this._northEast=new _t(d.lat,d.lng)):(s.lat=Math.min(u.lat,s.lat),s.lng=Math.min(u.lng,s.lng),a.lat=Math.max(d.lat,a.lat),a.lng=Math.max(d.lng,a.lng)),this},pad:function(e){var s=this._southWest,a=this._northEast,u=Math.abs(s.lat-a.lat)*e,d=Math.abs(s.lng-a.lng)*e;return new Ht(new _t(s.lat-u,s.lng-d),new _t(a.lat+u,a.lng+d))},getCenter:function(){return new _t((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new _t(this.getNorth(),this.getWest())},getSouthEast:function(){return new _t(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof _t||"lat"in e?e=dt(e):e=$t(e);var s=this._southWest,a=this._northEast,u,d;return e instanceof Ht?(u=e.getSouthWest(),d=e.getNorthEast()):u=d=e,u.lat>=s.lat&&d.lat<=a.lat&&u.lng>=s.lng&&d.lng<=a.lng},intersects:function(e){e=$t(e);var s=this._southWest,a=this._northEast,u=e.getSouthWest(),d=e.getNorthEast(),g=d.lat>=s.lat&&u.lat<=a.lat,x=d.lng>=s.lng&&u.lng<=a.lng;return g&&x},overlaps:function(e){e=$t(e);var s=this._southWest,a=this._northEast,u=e.getSouthWest(),d=e.getNorthEast(),g=d.lat>s.lat&&u.lat<a.lat,x=d.lng>s.lng&&u.lng<a.lng;return g&&x},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,s){return e?(e=$t(e),this._southWest.equals(e.getSouthWest(),s)&&this._northEast.equals(e.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function $t(e,s){return e instanceof Ht?e:new Ht(e,s)}function _t(e,s,a){if(isNaN(e)||isNaN(s))throw new Error("Invalid LatLng object: ("+e+", "+s+")");this.lat=+e,this.lng=+s,a!==void 0&&(this.alt=+a)}_t.prototype={equals:function(e,s){if(!e)return!1;e=dt(e);var a=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return a<=(s===void 0?1e-9:s)},toString:function(e){return"LatLng("+b(this.lat,e)+", "+b(this.lng,e)+")"},distanceTo:function(e){return it.distance(this,dt(e))},wrap:function(){return it.wrapLatLng(this)},toBounds:function(e){var s=180*e/40075017,a=s/Math.cos(Math.PI/180*this.lat);return $t([this.lat-s,this.lng-a],[this.lat+s,this.lng+a])},clone:function(){return new _t(this.lat,this.lng,this.alt)}};function dt(e,s,a){return e instanceof _t?e:G(e)&&typeof e[0]!="object"?e.length===3?new _t(e[0],e[1],e[2]):e.length===2?new _t(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new _t(e.lat,"lng"in e?e.lng:e.lon,e.alt):s===void 0?null:new _t(e,s,a)}var O={latLngToPoint:function(e,s){var a=this.projection.project(e),u=this.scale(s);return this.transformation._transform(a,u)},pointToLatLng:function(e,s){var a=this.scale(s),u=this.transformation.untransform(e,a);return this.projection.unproject(u)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var s=this.projection.bounds,a=this.scale(e),u=this.transformation.transform(s.min,a),d=this.transformation.transform(s.max,a);return new It(u,d)},infinite:!1,wrapLatLng:function(e){var s=this.wrapLng?m(e.lng,this.wrapLng,!0):e.lng,a=this.wrapLat?m(e.lat,this.wrapLat,!0):e.lat,u=e.alt;return new _t(a,s,u)},wrapLatLngBounds:function(e){var s=e.getCenter(),a=this.wrapLatLng(s),u=s.lat-a.lat,d=s.lng-a.lng;if(u===0&&d===0)return e;var g=e.getSouthWest(),x=e.getNorthEast(),I=new _t(g.lat-u,g.lng-d),M=new _t(x.lat-u,x.lng-d);return new Ht(I,M)}},it=r({},O,{wrapLng:[-180,180],R:6371e3,distance:function(e,s){var a=Math.PI/180,u=e.lat*a,d=s.lat*a,g=Math.sin((s.lat-e.lat)*a/2),x=Math.sin((s.lng-e.lng)*a/2),I=g*g+Math.cos(u)*Math.cos(d)*x*x,M=2*Math.atan2(Math.sqrt(I),Math.sqrt(1-I));return this.R*M}}),nt=6378137,ut={R:nt,MAX_LATITUDE:85.0511287798,project:function(e){var s=Math.PI/180,a=this.MAX_LATITUDE,u=Math.max(Math.min(a,e.lat),-a),d=Math.sin(u*s);return new tt(this.R*e.lng*s,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(e){var s=180/Math.PI;return new _t((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*s,e.x*s/this.R)},bounds:(function(){var e=nt*Math.PI;return new It([-e,-e],[e,e])})()};function Et(e,s,a,u){if(G(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=s,this._c=a,this._d=u}Et.prototype={transform:function(e,s){return this._transform(e.clone(),s)},_transform:function(e,s){return s=s||1,e.x=s*(this._a*e.x+this._b),e.y=s*(this._c*e.y+this._d),e},untransform:function(e,s){return s=s||1,new tt((e.x/s-this._b)/this._a,(e.y/s-this._d)/this._c)}};function w(e,s,a,u){return new Et(e,s,a,u)}var C=r({},it,{code:"EPSG:3857",projection:ut,transformation:(function(){var e=.5/(Math.PI*ut.R);return w(e,.5,-e,.5)})()}),T=r({},C,{code:"EPSG:900913"});function D(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function U(e,s){var a="",u,d,g,x,I,M;for(u=0,g=e.length;u<g;u++){for(I=e[u],d=0,x=I.length;d<x;d++)M=I[d],a+=(d?"L":"M")+M.x+" "+M.y;a+=s?Ct.svg?"z":"x":""}return a||"M0 0"}var N=document.documentElement.style,st="ActiveXObject"in window,ot=st&&!document.addEventListener,et="msLaunchUri"in navigator&&!("documentMode"in document),Z=$e("webkit"),pt=$e("android"),ct=$e("android 2")||$e("android 3"),rt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),kt=pt&&$e("Google")&&rt<537&&!("AudioNode"in window),Bt=!!window.opera,Kt=!et&&$e("chrome"),jt=$e("gecko")&&!Z&&!Bt&&!st,Pe=!Kt&&$e("safari"),ue=$e("phantom"),ze="OTransition"in N,Ge=navigator.platform.indexOf("Win")===0,Ut=st&&"transition"in N,hn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ct,ke="MozPerspective"in N,Ce=!window.L_DISABLE_3D&&(Ut||hn||ke)&&!ze&&!ue,Ye=typeof orientation<"u"||$e("mobile"),ve=Ye&&Z,Br=Ye&&hn,Bi=!window.PointerEvent&&window.MSPointerEvent,mo=!!(window.PointerEvent||Bi),_o="ontouchstart"in window||!!window.TouchEvent,go=!window.L_NO_TOUCH&&(_o||mo),Fr=Ye&&Bt,vo=Ye&&jt,zr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,yo=(function(){var e=!1;try{var s=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",y,s),window.removeEventListener("testPassiveEventSupport",y,s)}catch{}return e})(),$r=(function(){return!!document.createElement("canvas").getContext})(),ys=!!(document.createElementNS&&D("svg").createSVGRect),bo=!!ys&&(function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ur=!ys&&(function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var s=e.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}})(),bs=navigator.platform.indexOf("Mac")===0,Fi=navigator.platform.indexOf("Linux")===0;function $e(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Ct={ie:st,ielt9:ot,edge:et,webkit:Z,android:pt,android23:ct,androidStock:kt,opera:Bt,chrome:Kt,gecko:jt,safari:Pe,phantom:ue,opera12:ze,win:Ge,ie3d:Ut,webkit3d:hn,gecko3d:ke,any3d:Ce,mobile:Ye,mobileWebkit:ve,mobileWebkit3d:Br,msPointer:Bi,pointer:mo,touch:go,touchNative:_o,mobileOpera:Fr,mobileGecko:vo,retina:zr,passiveEvents:yo,canvas:$r,svg:ys,vml:Ur,inlineSvg:bo,mac:bs,linux:Fi},wo=Ct.msPointer?"MSPointerDown":"pointerdown",ws=Ct.msPointer?"MSPointerMove":"pointermove",Co=Ct.msPointer?"MSPointerUp":"pointerup",So=Ct.msPointer?"MSPointerCancel":"pointercancel",Cs={touchstart:wo,touchmove:ws,touchend:Co,touchcancel:So},mi={touchstart:gi,touchmove:Ui,touchend:Ui,touchcancel:Ui},Jn={},xo=!1;function Hr(e,s,a){return s==="touchstart"&&$i(),mi[s]?(a=mi[s].bind(this,a),e.addEventListener(Cs[s],a,!1),a):(console.warn("wrong event specified:",s),y)}function Eo(e,s,a){if(!Cs[s]){console.warn("wrong event specified:",s);return}e.removeEventListener(Cs[s],a,!1)}function _i(e){Jn[e.pointerId]=e}function zi(e){Jn[e.pointerId]&&(Jn[e.pointerId]=e)}function Po(e){delete Jn[e.pointerId]}function $i(){xo||(document.addEventListener(wo,_i,!0),document.addEventListener(ws,zi,!0),document.addEventListener(Co,Po,!0),document.addEventListener(So,Po,!0),xo=!0)}function Ui(e,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var a in Jn)s.touches.push(Jn[a]);s.changedTouches=[s],e(s)}}function gi(e,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&Ae(s),Ui(e,s)}function Hi(e){var s={},a,u;for(u in e)a=e[u],s[u]=a&&a.bind?a.bind(e):a;return e=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Zr=200;function Wr(e,s){e.addEventListener("dblclick",s);var a=0,u;function d(g){if(g.detail!==1){u=g.detail;return}if(!(g.pointerType==="mouse"||g.sourceCapabilities&&!g.sourceCapabilities.firesTouchEvents)){var x=Pl(g);if(!(x.some(function(M){return M instanceof HTMLLabelElement&&M.attributes.for})&&!x.some(function(M){return M instanceof HTMLInputElement||M instanceof HTMLSelectElement}))){var I=Date.now();I-a<=Zr?(u++,u===2&&s(Hi(g))):u=1,a=I}}}return e.addEventListener("click",d),{dblclick:s,simDblclick:d}}function Xn(e,s){e.removeEventListener("dblclick",s.dblclick),e.removeEventListener("click",s.simDblclick)}var Zi=ji(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Yn=ji(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ko=Yn==="webkitTransition"||Yn==="OTransition"?Yn+"End":"transitionend";function vi(e){return typeof e=="string"?document.getElementById(e):e}function yi(e,s){var a=e.style[s]||e.currentStyle&&e.currentStyle[s];if((!a||a==="auto")&&document.defaultView){var u=document.defaultView.getComputedStyle(e,null);a=u?u[s]:null}return a==="auto"?null:a}function Vt(e,s,a){var u=document.createElement(e);return u.className=s||"",a&&a.appendChild(u),u}function ne(e){var s=e.parentNode;s&&s.removeChild(e)}function Wi(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Qn(e){var s=e.parentNode;s&&s.lastChild!==e&&s.appendChild(e)}function bn(e){var s=e.parentNode;s&&s.firstChild!==e&&s.insertBefore(e,s.firstChild)}function Ss(e,s){if(e.classList!==void 0)return e.classList.contains(s);var a=Ue(e);return a.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(a)}function Rt(e,s){if(e.classList!==void 0)for(var a=k(s),u=0,d=a.length;u<d;u++)e.classList.add(a[u]);else if(!Ss(e,s)){var g=Ue(e);xs(e,(g?g+" ":"")+s)}}function he(e,s){e.classList!==void 0?e.classList.remove(s):xs(e,P((" "+Ue(e)+" ").replace(" "+s+" "," ")))}function xs(e,s){e.className.baseVal===void 0?e.className=s:e.className.baseVal=s}function Ue(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function He(e,s){"opacity"in e.style?e.style.opacity=s:"filter"in e.style&&To(e,s)}function To(e,s){var a=!1,u="DXImageTransform.Microsoft.Alpha";try{a=e.filters.item(u)}catch{if(s===1)return}s=Math.round(s*100),a?(a.Enabled=s!==100,a.Opacity=s):e.style.filter+=" progid:"+u+"(opacity="+s+")"}function ji(e){for(var s=document.documentElement.style,a=0;a<e.length;a++)if(e[a]in s)return e[a];return!1}function An(e,s,a){var u=s||new tt(0,0);e.style[Zi]=(Ct.ie3d?"translate("+u.x+"px,"+u.y+"px)":"translate3d("+u.x+"px,"+u.y+"px,0)")+(a?" scale("+a+")":"")}function de(e,s){e._leaflet_pos=s,Ct.any3d?An(e,s):(e.style.left=s.x+"px",e.style.top=s.y+"px")}function Mn(e){return e._leaflet_pos||new tt(0,0)}var ti,E,v;if("onselectstart"in document)ti=function(){Ot(window,"selectstart",Ae)},E=function(){ae(window,"selectstart",Ae)};else{var S=ji(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ti=function(){if(S){var e=document.documentElement.style;v=e[S],e[S]="none"}},E=function(){S&&(document.documentElement.style[S]=v,v=void 0)}}function at(){Ot(window,"dragstart",Ae)}function Ft(){ae(window,"dragstart",Ae)}var Xt,Te;function Qe(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(dn(),Xt=e,Te=e.style.outlineStyle,e.style.outlineStyle="none",Ot(window,"keydown",dn))}function dn(){Xt&&(Xt.style.outlineStyle=Te,Xt=void 0,Te=void 0,ae(window,"keydown",dn))}function Rn(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Vi(e){var s=e.getBoundingClientRect();return{x:s.width/e.offsetWidth||1,y:s.height/e.offsetHeight||1,boundingClientRect:s}}var jr={__proto__:null,TRANSFORM:Zi,TRANSITION:Yn,TRANSITION_END:ko,get:vi,getStyle:yi,create:Vt,remove:ne,empty:Wi,toFront:Qn,toBack:bn,hasClass:Ss,addClass:Rt,removeClass:he,setClass:xs,getClass:Ue,setOpacity:He,testProp:ji,setTransform:An,setPosition:de,getPosition:Mn,get disableTextSelection(){return ti},get enableTextSelection(){return E},disableImageDrag:at,enableImageDrag:Ft,preventOutline:Qe,restoreOutline:dn,getSizedParentNode:Rn,getScale:Vi};function Ot(e,s,a,u){if(s&&typeof s=="object")for(var d in s)qr(e,d,s[d],a);else{s=k(s);for(var g=0,x=s.length;g<x;g++)qr(e,s[g],a,u)}return this}var wn="_leaflet_events";function ae(e,s,a,u){if(arguments.length===1)El(e),delete e[wn];else if(s&&typeof s=="object")for(var d in s)Gr(e,d,s[d],a);else if(s=k(s),arguments.length===2)El(e,function(I){return Q(s,I)!==-1});else for(var g=0,x=s.length;g<x;g++)Gr(e,s[g],a,u);return this}function El(e,s){for(var a in e[wn]){var u=a.split(/\d/)[0];(!s||s(u))&&Gr(e,u,null,null,a)}}var Vr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function qr(e,s,a,u){var d=s+f(a)+(u?"_"+f(u):"");if(e[wn]&&e[wn][d])return this;var g=function(I){return a.call(u||e,I||window.event)},x=g;!Ct.touchNative&&Ct.pointer&&s.indexOf("touch")===0?g=Hr(e,s,g):Ct.touch&&s==="dblclick"?g=Wr(e,g):"addEventListener"in e?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?e.addEventListener(Vr[s]||s,g,Ct.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(g=function(I){I=I||window.event,Jr(e,I)&&x(I)},e.addEventListener(Vr[s],g,!1)):e.addEventListener(s,x,!1):e.attachEvent("on"+s,g),e[wn]=e[wn]||{},e[wn][d]=g}function Gr(e,s,a,u,d){d=d||s+f(a)+(u?"_"+f(u):"");var g=e[wn]&&e[wn][d];if(!g)return this;!Ct.touchNative&&Ct.pointer&&s.indexOf("touch")===0?Eo(e,s,g):Ct.touch&&s==="dblclick"?Xn(e,g):"removeEventListener"in e?e.removeEventListener(Vr[s]||s,g,!1):e.detachEvent("on"+s,g),e[wn][d]=null}function bi(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Kr(e){return qr(e,"wheel",bi),this}function Es(e){return Ot(e,"mousedown touchstart dblclick contextmenu",bi),e._leaflet_disable_click=!0,this}function Ae(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function wi(e){return Ae(e),bi(e),this}function Pl(e){if(e.composedPath)return e.composedPath();for(var s=[],a=e.target;a;)s.push(a),a=a.parentNode;return s}function kl(e,s){if(!s)return new tt(e.clientX,e.clientY);var a=Vi(s),u=a.boundingClientRect;return new tt((e.clientX-u.left)/a.x-s.clientLeft,(e.clientY-u.top)/a.y-s.clientTop)}var Rd=Ct.linux&&Ct.chrome?window.devicePixelRatio:Ct.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Tl(e){return Ct.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Rd:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function Jr(e,s){var a=s.relatedTarget;if(!a)return!0;try{for(;a&&a!==e;)a=a.parentNode}catch{return!1}return a!==e}var Od={__proto__:null,on:Ot,off:ae,stopPropagation:bi,disableScrollPropagation:Kr,disableClickPropagation:Es,preventDefault:Ae,stop:wi,getPropagationPath:Pl,getMousePosition:kl,getWheelDelta:Tl,isExternalTarget:Jr,addListener:Ot,removeListener:ae},Il=wt.extend({run:function(e,s,a,u){this.stop(),this._el=e,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(u||.5,.2),this._startPos=Mn(e),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=W(this._animate,this),this._step()},_step:function(e){var s=+new Date-this._startTime,a=this._duration*1e3;s<a?this._runFrame(this._easeOut(s/a),e):(this._runFrame(1),this._complete())},_runFrame:function(e,s){var a=this._startPos.add(this._offset.multiplyBy(e));s&&a._round(),de(this._el,a),this.fire("step")},_complete:function(){j(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),qt=wt.extend({options:{crs:C,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,s){s=A(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(dt(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Yn&&Ct.any3d&&!Ct.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ot(this._proxy,ko,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,s,a){if(s=s===void 0?this._zoom:this._limitZoom(s),e=this._limitCenter(dt(e),s,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=r({animate:a.animate},a.zoom),a.pan=r({animate:a.animate,duration:a.duration},a.pan));var u=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,s,a.zoom):this._tryAnimatedPan(e,a.pan);if(u)return clearTimeout(this._sizeTimer),this}return this._resetView(e,s,a.pan&&a.pan.noMoveStart),this},setZoom:function(e,s){return this._loaded?this.setView(this.getCenter(),e,{zoom:s}):(this._zoom=e,this)},zoomIn:function(e,s){return e=e||(Ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,s)},zoomOut:function(e,s){return e=e||(Ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,s)},setZoomAround:function(e,s,a){var u=this.getZoomScale(s),d=this.getSize().divideBy(2),g=e instanceof tt?e:this.latLngToContainerPoint(e),x=g.subtract(d).multiplyBy(1-1/u),I=this.containerPointToLatLng(d.add(x));return this.setView(I,s,{zoom:a})},_getBoundsCenterZoom:function(e,s){s=s||{},e=e.getBounds?e.getBounds():$t(e);var a=yt(s.paddingTopLeft||s.padding||[0,0]),u=yt(s.paddingBottomRight||s.padding||[0,0]),d=this.getBoundsZoom(e,!1,a.add(u));if(d=typeof s.maxZoom=="number"?Math.min(s.maxZoom,d):d,d===1/0)return{center:e.getCenter(),zoom:d};var g=u.subtract(a).divideBy(2),x=this.project(e.getSouthWest(),d),I=this.project(e.getNorthEast(),d),M=this.unproject(x.add(I).divideBy(2).add(g),d);return{center:M,zoom:d}},fitBounds:function(e,s){if(e=$t(e),!e.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(e,s);return this.setView(a.center,a.zoom,s)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,s){return this.setView(e,this._zoom,{pan:s})},panBy:function(e,s){if(e=yt(e).round(),s=s||{},!e.x&&!e.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Il,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){Rt(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,a,s.duration||.25,s.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,s,a){if(a=a||{},a.animate===!1||!Ct.any3d)return this.setView(e,s,a);this._stop();var u=this.project(this.getCenter()),d=this.project(e),g=this.getSize(),x=this._zoom;e=dt(e),s=s===void 0?x:s;var I=Math.max(g.x,g.y),M=I*this.getZoomScale(x,s),V=d.distanceTo(u)||1,ft=1.42,Tt=ft*ft;function zt(ye){var $o=ye?-1:1,Sf=ye?M:I,xf=M*M-I*I+$o*Tt*Tt*V*V,Ef=2*Sf*Tt*V,aa=xf/Ef,cc=Math.sqrt(aa*aa+1)-aa,Pf=cc<1e-9?-18:Math.log(cc);return Pf}function Ze(ye){return(Math.exp(ye)-Math.exp(-ye))/2}function Ie(ye){return(Math.exp(ye)+Math.exp(-ye))/2}function an(ye){return Ze(ye)/Ie(ye)}var Ke=zt(0);function Yi(ye){return I*(Ie(Ke)/Ie(Ke+ft*ye))}function yf(ye){return I*(Ie(Ke)*an(Ke+ft*ye)-Ze(Ke))/Tt}function bf(ye){return 1-Math.pow(1-ye,1.5)}var wf=Date.now(),ac=(zt(1)-Ke)/ft,Cf=a.duration?1e3*a.duration:1e3*ac*.8;function lc(){var ye=(Date.now()-wf)/Cf,$o=bf(ye)*ac;ye<=1?(this._flyToFrame=W(lc,this),this._move(this.unproject(u.add(d.subtract(u).multiplyBy(yf($o)/V)),x),this.getScaleZoom(I/Yi($o),x),{flyTo:!0})):this._move(e,s)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),lc.call(this),this},flyToBounds:function(e,s){var a=this._getBoundsCenterZoom(e,s);return this.flyTo(a.center,a.zoom,s)},setMaxBounds:function(e){return e=$t(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var s=this.options.minZoom;return this.options.minZoom=e,this._loaded&&s!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var s=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&s!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,s){this._enforcingBounds=!0;var a=this.getCenter(),u=this._limitCenter(a,this._zoom,$t(e));return a.equals(u)||this.panTo(u,s),this._enforcingBounds=!1,this},panInside:function(e,s){s=s||{};var a=yt(s.paddingTopLeft||s.padding||[0,0]),u=yt(s.paddingBottomRight||s.padding||[0,0]),d=this.project(this.getCenter()),g=this.project(e),x=this.getPixelBounds(),I=Nt([x.min.add(a),x.max.subtract(u)]),M=I.getSize();if(!I.contains(g)){this._enforcingBounds=!0;var V=g.subtract(I.getCenter()),ft=I.extend(g).getSize().subtract(M);d.x+=V.x<0?-ft.x:ft.x,d.y+=V.y<0?-ft.y:ft.y,this.panTo(this.unproject(d),s),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=r({animate:!1,pan:!0},e===!0?{animate:!0}:e);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),u=s.divideBy(2).round(),d=a.divideBy(2).round(),g=u.subtract(d);return!g.x&&!g.y?this:(e.animate&&e.pan?this.panBy(g):(e.pan&&this._rawPanBy(g),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=r({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=c(this._handleGeolocationResponse,this),a=c(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,a,e):navigator.geolocation.getCurrentPosition(s,a,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var s=e.code,a=e.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var s=e.coords.latitude,a=e.coords.longitude,u=new _t(s,a),d=u.toBounds(e.coords.accuracy*2),g=this._locateOptions;if(g.setView){var x=this.getBoundsZoom(d);this.setView(u,g.maxZoom?Math.min(x,g.maxZoom):x)}var I={latlng:u,bounds:d,timestamp:e.timestamp};for(var M in e.coords)typeof e.coords[M]=="number"&&(I[M]=e.coords[M]);this.fire("locationfound",I)}},addHandler:function(e,s){if(!s)return this;var a=this[e]=new s(this);return this._handlers.push(a),this.options[e]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ne(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(j(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)ne(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,s){var a="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),u=Vt("div",a,s||this._mapPane);return e&&(this._panes[e]=u),u},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),s=this.unproject(e.getBottomLeft()),a=this.unproject(e.getTopRight());return new Ht(s,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,s,a){e=$t(e),a=yt(a||[0,0]);var u=this.getZoom()||0,d=this.getMinZoom(),g=this.getMaxZoom(),x=e.getNorthWest(),I=e.getSouthEast(),M=this.getSize().subtract(a),V=Nt(this.project(I,u),this.project(x,u)).getSize(),ft=Ct.any3d?this.options.zoomSnap:1,Tt=M.x/V.x,zt=M.y/V.y,Ze=s?Math.max(Tt,zt):Math.min(Tt,zt);return u=this.getScaleZoom(Ze,u),ft&&(u=Math.round(u/(ft/100))*(ft/100),u=s?Math.ceil(u/ft)*ft:Math.floor(u/ft)*ft),Math.max(d,Math.min(g,u))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new tt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,s){var a=this._getTopLeftPoint(e,s);return new It(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,s){var a=this.options.crs;return s=s===void 0?this._zoom:s,a.scale(e)/a.scale(s)},getScaleZoom:function(e,s){var a=this.options.crs;s=s===void 0?this._zoom:s;var u=a.zoom(e*a.scale(s));return isNaN(u)?1/0:u},project:function(e,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(dt(e),s)},unproject:function(e,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(yt(e),s)},layerPointToLatLng:function(e){var s=yt(e).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(e){var s=this.project(dt(e))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(dt(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds($t(e))},distance:function(e,s){return this.options.crs.distance(dt(e),dt(s))},containerPointToLayerPoint:function(e){return yt(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return yt(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var s=this.containerPointToLayerPoint(yt(e));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(dt(e)))},mouseEventToContainerPoint:function(e){return kl(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var s=this._container=vi(e);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ot(s,"scroll",this._onScroll,this),this._containerId=f(s)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ct.any3d,Rt(e,"leaflet-container"+(Ct.touch?" leaflet-touch":"")+(Ct.retina?" leaflet-retina":"")+(Ct.ielt9?" leaflet-oldie":"")+(Ct.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=yi(e,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),de(this._mapPane,new tt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Rt(e.markerPane,"leaflet-zoom-hide"),Rt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,s,a){de(this._mapPane,new tt(0,0));var u=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var d=this._zoom!==s;this._moveStart(d,a)._move(e,s)._moveEnd(d),this.fire("viewreset"),u&&this.fire("load")},_moveStart:function(e,s){return e&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(e,s,a,u){s===void 0&&(s=this._zoom);var d=this._zoom!==s;return this._zoom=s,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),u?a&&a.pinch&&this.fire("zoom",a):((d||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return j(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){de(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[f(this._container)]=this;var s=e?ae:Ot;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),Ct.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){j(this._resizeRequest),this._resizeRequest=W(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,s){for(var a=[],u,d=s==="mouseout"||s==="mouseover",g=e.target||e.srcElement,x=!1;g;){if(u=this._targets[f(g)],u&&(s==="click"||s==="preclick")&&this._draggableMoved(u)){x=!0;break}if(u&&u.listens(s,!0)&&(d&&!Jr(g,e)||(a.push(u),d))||g===this._container)break;g=g.parentNode}return!a.length&&!x&&!d&&this.listens(s,!0)&&(a=[this]),a},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var s=e.target||e.srcElement;if(!(!this._loaded||s._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(s))){var a=e.type;a==="mousedown"&&Qe(s),this._fireDOMEvent(e,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,s,a){if(e.type==="click"){var u=r({},e);u.type="preclick",this._fireDOMEvent(u,u.type,a)}var d=this._findEventTargets(e,s);if(a){for(var g=[],x=0;x<a.length;x++)a[x].listens(s,!0)&&g.push(a[x]);d=g.concat(d)}if(d.length){s==="contextmenu"&&Ae(e);var I=d[0],M={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var V=I.getLatLng&&(!I._radius||I._radius<=10);M.containerPoint=V?this.latLngToContainerPoint(I.getLatLng()):this.mouseEventToContainerPoint(e),M.layerPoint=this.containerPointToLayerPoint(M.containerPoint),M.latlng=V?I.getLatLng():this.layerPointToLatLng(M.layerPoint)}for(x=0;x<d.length;x++)if(d[x].fire(s,M,!0),M.originalEvent._stopped||d[x].options.bubblingMouseEvents===!1&&Q(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,s=this._handlers.length;e<s;e++)this._handlers[e].disable()},whenReady:function(e,s){return this._loaded?e.call(s||this,{target:this}):this.on("load",e,s),this},_getMapPanePos:function(){return Mn(this._mapPane)||new tt(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,s){var a=e&&s!==void 0?this._getNewPixelOrigin(e,s):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,s){var a=this.getSize()._divideBy(2);return this.project(e,s)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,s,a){var u=this._getNewPixelOrigin(a,s);return this.project(e,s)._subtract(u)},_latLngBoundsToNewLayerBounds:function(e,s,a){var u=this._getNewPixelOrigin(a,s);return Nt([this.project(e.getSouthWest(),s)._subtract(u),this.project(e.getNorthWest(),s)._subtract(u),this.project(e.getSouthEast(),s)._subtract(u),this.project(e.getNorthEast(),s)._subtract(u)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,s,a){if(!a)return e;var u=this.project(e,s),d=this.getSize().divideBy(2),g=new It(u.subtract(d),u.add(d)),x=this._getBoundsOffset(g,a,s);return Math.abs(x.x)<=1&&Math.abs(x.y)<=1?e:this.unproject(u.add(x),s)},_limitOffset:function(e,s){if(!s)return e;var a=this.getPixelBounds(),u=new It(a.min.add(e),a.max.add(e));return e.add(this._getBoundsOffset(u,s))},_getBoundsOffset:function(e,s,a){var u=Nt(this.project(s.getNorthEast(),a),this.project(s.getSouthWest(),a)),d=u.min.subtract(e.min),g=u.max.subtract(e.max),x=this._rebound(d.x,-g.x),I=this._rebound(d.y,-g.y);return new tt(x,I)},_rebound:function(e,s){return e+s>0?Math.round(e-s)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(s))},_limitZoom:function(e){var s=this.getMinZoom(),a=this.getMaxZoom(),u=Ct.any3d?this.options.zoomSnap:1;return u&&(e=Math.round(e/u)*u),Math.max(s,Math.min(a,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){he(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,s){var a=this._getCenterOffset(e)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,s),!0)},_createAnimProxy:function(){var e=this._proxy=Vt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(s){var a=Zi,u=this._proxy.style[a];An(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),u===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ne(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),s=this.getZoom();An(this._proxy,this.project(e,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,s,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var u=this.getZoomScale(s),d=this._getCenterOffset(e)._divideBy(1-1/u);return a.animate!==!0&&!this.getSize().contains(d)?!1:(W(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(e,s,!0)},this),!0)},_animateZoom:function(e,s,a,u){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=s,Rt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:s,noUpdate:u}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&he(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Dd(e,s){return new qt(e,s)}var fn=Lt.extend({options:{position:"topright"},initialize:function(e){A(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var s=this._map;return s&&s.removeControl(this),this.options.position=e,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var s=this._container=this.onAdd(e),a=this.getPosition(),u=e._controlCorners[a];return Rt(s,"leaflet-control"),a.indexOf("bottom")!==-1?u.insertBefore(s,u.firstChild):u.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ne(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Ps=function(e){return new fn(e)};qt.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},s="leaflet-",a=this._controlContainer=Vt("div",s+"control-container",this._container);function u(d,g){var x=s+d+" "+s+g;e[d+g]=Vt("div",x,a)}u("top","left"),u("top","right"),u("bottom","left"),u("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)ne(this._controlCorners[e]);ne(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ll=fn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,s,a,u){return a<u?-1:u<a?1:0}},initialize:function(e,s,a){A(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var u in e)this._addLayer(e[u],u);for(u in s)this._addLayer(s[u],u,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return fn.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,s){return this._addLayer(e,s),this._map?this._update():this},addOverlay:function(e,s){return this._addLayer(e,s,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var s=this._getLayer(f(e));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){Rt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(Rt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):he(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return he(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",s=this._container=Vt("div",e),a=this.options.collapsed;s.setAttribute("aria-haspopup",!0),Es(s),Kr(s);var u=this._section=Vt("section",e+"-list");a&&(this._map.on("click",this.collapse,this),Ot(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var d=this._layersLink=Vt("a",e+"-toggle",s);d.href="#",d.title="Layers",d.setAttribute("role","button"),Ot(d,{keydown:function(g){g.keyCode===13&&this._expandSafely()},click:function(g){Ae(g),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=Vt("div",e+"-base",u),this._separator=Vt("div",e+"-separator",u),this._overlaysList=Vt("div",e+"-overlays",u),s.appendChild(u)},_getLayer:function(e){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&f(this._layers[s].layer)===e)return this._layers[s]},_addLayer:function(e,s,a){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:s,overlay:a}),this.options.sortLayers&&this._layers.sort(c(function(u,d){return this.options.sortFunction(u.layer,d.layer,u.name,d.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Wi(this._baseLayersList),Wi(this._overlaysList),this._layerControlInputs=[];var e,s,a,u,d=0;for(a=0;a<this._layers.length;a++)u=this._layers[a],this._addItem(u),s=s||u.overlay,e=e||!u.overlay,d+=u.overlay?0:1;return this.options.hideSingleBase&&(e=e&&d>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=s&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var s=this._getLayer(f(e.target)),a=s.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;a&&this._map.fire(a,s)},_createRadioElement:function(e,s){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(s?' checked="checked"':"")+"/>",u=document.createElement("div");return u.innerHTML=a,u.firstChild},_addItem:function(e){var s=document.createElement("label"),a=this._map.hasLayer(e.layer),u;e.overlay?(u=document.createElement("input"),u.type="checkbox",u.className="leaflet-control-layers-selector",u.defaultChecked=a):u=this._createRadioElement("leaflet-base-layers_"+f(this),a),this._layerControlInputs.push(u),u.layerId=f(e.layer),Ot(u,"click",this._onInputClick,this);var d=document.createElement("span");d.innerHTML=" "+e.name;var g=document.createElement("span");s.appendChild(g),g.appendChild(u),g.appendChild(d);var x=e.overlay?this._overlaysList:this._baseLayersList;return x.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,s,a,u=[],d=[];this._handlingClick=!0;for(var g=e.length-1;g>=0;g--)s=e[g],a=this._getLayer(s.layerId).layer,s.checked?u.push(a):s.checked||d.push(a);for(g=0;g<d.length;g++)this._map.hasLayer(d[g])&&this._map.removeLayer(d[g]);for(g=0;g<u.length;g++)this._map.hasLayer(u[g])||this._map.addLayer(u[g]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,s,a,u=this._map.getZoom(),d=e.length-1;d>=0;d--)s=e[d],a=this._getLayer(s.layerId).layer,s.disabled=a.options.minZoom!==void 0&&u<a.options.minZoom||a.options.maxZoom!==void 0&&u>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,Ot(e,"click",Ae),this.expand();var s=this;setTimeout(function(){ae(e,"click",Ae),s._preventClick=!1})}}),Nd=function(e,s,a){return new Ll(e,s,a)},Xr=fn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var s="leaflet-control-zoom",a=Vt("div",s+" leaflet-bar"),u=this.options;return this._zoomInButton=this._createButton(u.zoomInText,u.zoomInTitle,s+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(u.zoomOutText,u.zoomOutTitle,s+"-out",a,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,s,a,u,d){var g=Vt("a",a,u);return g.innerHTML=e,g.href="#",g.title=s,g.setAttribute("role","button"),g.setAttribute("aria-label",s),Es(g),Ot(g,"click",wi),Ot(g,"click",d,this),Ot(g,"click",this._refocusOnMap,this),g},_updateDisabled:function(){var e=this._map,s="leaflet-disabled";he(this._zoomInButton,s),he(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(Rt(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(Rt(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});qt.mergeOptions({zoomControl:!0}),qt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Xr,this.addControl(this.zoomControl))});var Bd=function(e){return new Xr(e)},Al=fn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var s="leaflet-control-scale",a=Vt("div",s),u=this.options;return this._addScales(u,s+"-line",a),e.on(u.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),a},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,s,a){e.metric&&(this._mScale=Vt("div",s,a)),e.imperial&&(this._iScale=Vt("div",s,a))},_update:function(){var e=this._map,s=e.getSize().y/2,a=e.distance(e.containerPointToLatLng([0,s]),e.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(a)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var s=this._getRoundNum(e),a=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,a,s/e)},_updateImperial:function(e){var s=e*3.2808399,a,u,d;s>5280?(a=s/5280,u=this._getRoundNum(a),this._updateScale(this._iScale,u+" mi",u/a)):(d=this._getRoundNum(s),this._updateScale(this._iScale,d+" ft",d/s))},_updateScale:function(e,s,a){e.style.width=Math.round(this.options.maxWidth*a)+"px",e.innerHTML=s},_getRoundNum:function(e){var s=Math.pow(10,(Math.floor(e)+"").length-1),a=e/s;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,s*a}}),Fd=function(e){return new Al(e)},zd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Yr=fn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ct.inlineSvg?zd+" ":"")+"Leaflet</a>"},initialize:function(e){A(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=Vt("div","leaflet-control-attribution"),Es(this._container);for(var s in e._layers)e._layers[s].getAttribution&&this.addAttribution(e._layers[s].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var s in this._attributions)this._attributions[s]&&e.push(s);var a=[];this.options.prefix&&a.push(this.options.prefix),e.length&&a.push(e.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});qt.mergeOptions({attributionControl:!0}),qt.addInitHook(function(){this.options.attributionControl&&new Yr().addTo(this)});var $d=function(e){return new Yr(e)};fn.Layers=Ll,fn.Zoom=Xr,fn.Scale=Al,fn.Attribution=Yr,Ps.layers=Nd,Ps.zoom=Bd,Ps.scale=Fd,Ps.attribution=$d;var Cn=Lt.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Cn.addTo=function(e,s){return e.addHandler(s,this),this};var Ud={Events:bt},Ml=Ct.touch?"touchstart mousedown":"mousedown",ei=wt.extend({options:{clickTolerance:3},initialize:function(e,s,a,u){A(this,u),this._element=e,this._dragStartTarget=s||e,this._preventOutline=a},enable:function(){this._enabled||(Ot(this._dragStartTarget,Ml,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ei._dragging===this&&this.finishDrag(!0),ae(this._dragStartTarget,Ml,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!Ss(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){ei._dragging===this&&this.finishDrag();return}if(!(ei._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(ei._dragging=this,this._preventOutline&&Qe(this._element),at(),ti(),!this._moving)){this.fire("down");var s=e.touches?e.touches[0]:e,a=Rn(this._element);this._startPoint=new tt(s.clientX,s.clientY),this._startPos=Mn(this._element),this._parentScale=Vi(a);var u=e.type==="mousedown";Ot(document,u?"mousemove":"touchmove",this._onMove,this),Ot(document,u?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var s=e.touches&&e.touches.length===1?e.touches[0]:e,a=new tt(s.clientX,s.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,Ae(e),this._moved||(this.fire("dragstart"),this._moved=!0,Rt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Rt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),de(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){he(document.body,"leaflet-dragging"),this._lastTarget&&(he(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ae(document,"mousemove touchmove",this._onMove,this),ae(document,"mouseup touchend touchcancel",this._onUp,this),Ft(),E();var s=this._moved&&this._moving;this._moving=!1,ei._dragging=!1,s&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function Rl(e,s,a){var u,d=[1,4,2,8],g,x,I,M,V,ft,Tt,zt;for(g=0,ft=e.length;g<ft;g++)e[g]._code=Ci(e[g],s);for(I=0;I<4;I++){for(Tt=d[I],u=[],g=0,ft=e.length,x=ft-1;g<ft;x=g++)M=e[g],V=e[x],M._code&Tt?V._code&Tt||(zt=Io(V,M,Tt,s,a),zt._code=Ci(zt,s),u.push(zt)):(V._code&Tt&&(zt=Io(V,M,Tt,s,a),zt._code=Ci(zt,s),u.push(zt)),u.push(M));e=u}return e}function Ol(e,s){var a,u,d,g,x,I,M,V,ft;if(!e||e.length===0)throw new Error("latlngs not passed");rn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var Tt=dt([0,0]),zt=$t(e),Ze=zt.getNorthWest().distanceTo(zt.getSouthWest())*zt.getNorthEast().distanceTo(zt.getNorthWest());Ze<1700&&(Tt=Qr(e));var Ie=e.length,an=[];for(a=0;a<Ie;a++){var Ke=dt(e[a]);an.push(s.project(dt([Ke.lat-Tt.lat,Ke.lng-Tt.lng])))}for(I=M=V=0,a=0,u=Ie-1;a<Ie;u=a++)d=an[a],g=an[u],x=d.y*g.x-g.y*d.x,M+=(d.x+g.x)*x,V+=(d.y+g.y)*x,I+=x*3;I===0?ft=an[0]:ft=[M/I,V/I];var Yi=s.unproject(yt(ft));return dt([Yi.lat+Tt.lat,Yi.lng+Tt.lng])}function Qr(e){for(var s=0,a=0,u=0,d=0;d<e.length;d++){var g=dt(e[d]);s+=g.lat,a+=g.lng,u++}return dt([s/u,a/u])}var Hd={__proto__:null,clipPolygon:Rl,polygonCenter:Ol,centroid:Qr};function Dl(e,s){if(!s||!e.length)return e.slice();var a=s*s;return e=jd(e,a),e=Wd(e,a),e}function Nl(e,s,a){return Math.sqrt(ks(e,s,a,!0))}function Zd(e,s,a){return ks(e,s,a)}function Wd(e,s){var a=e.length,u=typeof Uint8Array<"u"?Uint8Array:Array,d=new u(a);d[0]=d[a-1]=1,ta(e,d,s,0,a-1);var g,x=[];for(g=0;g<a;g++)d[g]&&x.push(e[g]);return x}function ta(e,s,a,u,d){var g=0,x,I,M;for(I=u+1;I<=d-1;I++)M=ks(e[I],e[u],e[d],!0),M>g&&(x=I,g=M);g>a&&(s[x]=1,ta(e,s,a,u,x),ta(e,s,a,x,d))}function jd(e,s){for(var a=[e[0]],u=1,d=0,g=e.length;u<g;u++)Vd(e[u],e[d])>s&&(a.push(e[u]),d=u);return d<g-1&&a.push(e[g-1]),a}var Bl;function Fl(e,s,a,u,d){var g=u?Bl:Ci(e,a),x=Ci(s,a),I,M,V;for(Bl=x;;){if(!(g|x))return[e,s];if(g&x)return!1;I=g||x,M=Io(e,s,I,a,d),V=Ci(M,a),I===g?(e=M,g=V):(s=M,x=V)}}function Io(e,s,a,u,d){var g=s.x-e.x,x=s.y-e.y,I=u.min,M=u.max,V,ft;return a&8?(V=e.x+g*(M.y-e.y)/x,ft=M.y):a&4?(V=e.x+g*(I.y-e.y)/x,ft=I.y):a&2?(V=M.x,ft=e.y+x*(M.x-e.x)/g):a&1&&(V=I.x,ft=e.y+x*(I.x-e.x)/g),new tt(V,ft,d)}function Ci(e,s){var a=0;return e.x<s.min.x?a|=1:e.x>s.max.x&&(a|=2),e.y<s.min.y?a|=4:e.y>s.max.y&&(a|=8),a}function Vd(e,s){var a=s.x-e.x,u=s.y-e.y;return a*a+u*u}function ks(e,s,a,u){var d=s.x,g=s.y,x=a.x-d,I=a.y-g,M=x*x+I*I,V;return M>0&&(V=((e.x-d)*x+(e.y-g)*I)/M,V>1?(d=a.x,g=a.y):V>0&&(d+=x*V,g+=I*V)),x=e.x-d,I=e.y-g,u?x*x+I*I:new tt(d,g)}function rn(e){return!G(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function zl(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),rn(e)}function $l(e,s){var a,u,d,g,x,I,M,V;if(!e||e.length===0)throw new Error("latlngs not passed");rn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var ft=dt([0,0]),Tt=$t(e),zt=Tt.getNorthWest().distanceTo(Tt.getSouthWest())*Tt.getNorthEast().distanceTo(Tt.getNorthWest());zt<1700&&(ft=Qr(e));var Ze=e.length,Ie=[];for(a=0;a<Ze;a++){var an=dt(e[a]);Ie.push(s.project(dt([an.lat-ft.lat,an.lng-ft.lng])))}for(a=0,u=0;a<Ze-1;a++)u+=Ie[a].distanceTo(Ie[a+1])/2;if(u===0)V=Ie[0];else for(a=0,g=0;a<Ze-1;a++)if(x=Ie[a],I=Ie[a+1],d=x.distanceTo(I),g+=d,g>u){M=(g-u)/d,V=[I.x-M*(I.x-x.x),I.y-M*(I.y-x.y)];break}var Ke=s.unproject(yt(V));return dt([Ke.lat+ft.lat,Ke.lng+ft.lng])}var qd={__proto__:null,simplify:Dl,pointToSegmentDistance:Nl,closestPointOnSegment:Zd,clipSegment:Fl,_getEdgeIntersection:Io,_getBitCode:Ci,_sqClosestPointOnSegment:ks,isFlat:rn,_flat:zl,polylineCenter:$l},ea={project:function(e){return new tt(e.lng,e.lat)},unproject:function(e){return new _t(e.y,e.x)},bounds:new It([-180,-90],[180,90])},na={R:6378137,R_MINOR:6356752314245179e-9,bounds:new It([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var s=Math.PI/180,a=this.R,u=e.lat*s,d=this.R_MINOR/a,g=Math.sqrt(1-d*d),x=g*Math.sin(u),I=Math.tan(Math.PI/4-u/2)/Math.pow((1-x)/(1+x),g/2);return u=-a*Math.log(Math.max(I,1e-10)),new tt(e.lng*s*a,u)},unproject:function(e){for(var s=180/Math.PI,a=this.R,u=this.R_MINOR/a,d=Math.sqrt(1-u*u),g=Math.exp(-e.y/a),x=Math.PI/2-2*Math.atan(g),I=0,M=.1,V;I<15&&Math.abs(M)>1e-7;I++)V=d*Math.sin(x),V=Math.pow((1-V)/(1+V),d/2),M=Math.PI/2-2*Math.atan(g*V)-x,x+=M;return new _t(x*s,e.x*s/a)}},Gd={__proto__:null,LonLat:ea,Mercator:na,SphericalMercator:ut},Kd=r({},it,{code:"EPSG:3395",projection:na,transformation:(function(){var e=.5/(Math.PI*na.R);return w(e,.5,-e,.5)})()}),Ul=r({},it,{code:"EPSG:4326",projection:ea,transformation:w(1/180,1,-1/180,.5)}),Jd=r({},O,{projection:ea,transformation:w(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,s){var a=s.lng-e.lng,u=s.lat-e.lat;return Math.sqrt(a*a+u*u)},infinite:!0});O.Earth=it,O.EPSG3395=Kd,O.EPSG3857=C,O.EPSG900913=T,O.EPSG4326=Ul,O.Simple=Jd;var pn=wt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[f(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[f(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var s=e.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var a=this.getEvents();s.on(a,this),this.once("remove",function(){s.off(a,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});qt.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var s=f(e);return this._layers[s]?this:(this._layers[s]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var s=f(e);return this._layers[s]?(this._loaded&&e.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return f(e)in this._layers},eachLayer:function(e,s){for(var a in this._layers)e.call(s,this._layers[a]);return this},_addLayers:function(e){e=e?G(e)?e:[e]:[];for(var s=0,a=e.length;s<a;s++)this.addLayer(e[s])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[f(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var s=f(e);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,s=-1/0,a=this._getZoomSpan();for(var u in this._zoomBoundLayers){var d=this._zoomBoundLayers[u].options;e=d.minZoom===void 0?e:Math.min(e,d.minZoom),s=d.maxZoom===void 0?s:Math.max(s,d.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=e===1/0?void 0:e,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var qi=pn.extend({initialize:function(e,s){A(this,s),this._layers={};var a,u;if(e)for(a=0,u=e.length;a<u;a++)this.addLayer(e[a])},addLayer:function(e){var s=this.getLayerId(e);return this._layers[s]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var s=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(e){var s=typeof e=="number"?e:this.getLayerId(e);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var s=Array.prototype.slice.call(arguments,1),a,u;for(a in this._layers)u=this._layers[a],u[e]&&u[e].apply(u,s);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,s){for(var a in this._layers)e.call(s,this._layers[a]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return f(e)}}),Xd=function(e,s){return new qi(e,s)},On=qi.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),qi.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),qi.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new Ht;for(var s in this._layers){var a=this._layers[s];e.extend(a.getBounds?a.getBounds():a.getLatLng())}return e}}),Yd=function(e,s){return new On(e,s)},Gi=Lt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){A(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,s){var a=this._getIconUrl(e);if(!a){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var u=this._createImg(a,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(u,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),u},_setIconStyles:function(e,s){var a=this.options,u=a[s+"Size"];typeof u=="number"&&(u=[u,u]);var d=yt(u),g=yt(s==="shadow"&&a.shadowAnchor||a.iconAnchor||d&&d.divideBy(2,!0));e.className="leaflet-marker-"+s+" "+(a.className||""),g&&(e.style.marginLeft=-g.x+"px",e.style.marginTop=-g.y+"px"),d&&(e.style.width=d.x+"px",e.style.height=d.y+"px")},_createImg:function(e,s){return s=s||document.createElement("img"),s.src=e,s},_getIconUrl:function(e){return Ct.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Qd(e){return new Gi(e)}var Ts=Gi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof Ts.imagePath!="string"&&(Ts.imagePath=this._detectIconPath()),(this.options.imagePath||Ts.imagePath)+Gi.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var s=function(a,u,d){var g=u.exec(a);return g&&g[d]};return e=s(e,/^url\((['"])?(.+)\1\)$/,2),e&&s(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=Vt("div","leaflet-default-icon-path",document.body),s=yi(e,"background-image")||yi(e,"backgroundImage");if(document.body.removeChild(e),s=this._stripUrl(s),s)return s;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),Hl=Cn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new ei(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Rt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&he(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var s=this._marker,a=s._map,u=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,g=Mn(s._icon),x=a.getPixelBounds(),I=a.getPixelOrigin(),M=Nt(x.min._subtract(I).add(d),x.max._subtract(I).subtract(d));if(!M.contains(g)){var V=yt((Math.max(M.max.x,g.x)-M.max.x)/(x.max.x-M.max.x)-(Math.min(M.min.x,g.x)-M.min.x)/(x.min.x-M.min.x),(Math.max(M.max.y,g.y)-M.max.y)/(x.max.y-M.max.y)-(Math.min(M.min.y,g.y)-M.min.y)/(x.min.y-M.min.y)).multiplyBy(u);a.panBy(V,{animate:!1}),this._draggable._newPos._add(V),this._draggable._startPos._add(V),de(s._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=W(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(j(this._panRequest),this._panRequest=W(this._adjustPan.bind(this,e)))},_onDrag:function(e){var s=this._marker,a=s._shadow,u=Mn(s._icon),d=s._map.layerPointToLatLng(u);a&&de(a,u),s._latlng=d,e.latlng=d,e.oldLatLng=this._oldLatLng,s.fire("move",e).fire("drag",e)},_onDragEnd:function(e){j(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Lo=pn.extend({options:{icon:new Ts,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,s){A(this,s),this._latlng=dt(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var s=this._latlng;return this._latlng=dt(e),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=e.icon.createIcon(this._icon),u=!1;a!==this._icon&&(this._icon&&this._removeIcon(),u=!0,e.title&&(a.title=e.title),a.tagName==="IMG"&&(a.alt=e.alt||"")),Rt(a,s),e.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ot(a,"focus",this._panOnFocus,this);var d=e.icon.createShadow(this._shadow),g=!1;d!==this._shadow&&(this._removeShadow(),g=!0),d&&(Rt(d,s),d.alt=""),this._shadow=d,e.opacity<1&&this._updateOpacity(),u&&this.getPane().appendChild(this._icon),this._initInteraction(),d&&g&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ae(this._icon,"focus",this._panOnFocus,this),ne(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ne(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&de(this._icon,e),this._shadow&&de(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var s=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(Rt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Hl)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Hl(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&He(this._icon,e),this._shadow&&He(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var s=this.options.icon.options,a=s.iconSize?yt(s.iconSize):yt(0,0),u=s.iconAnchor?yt(s.iconAnchor):yt(0,0);e.panInside(this._latlng,{paddingTopLeft:u,paddingBottomRight:a.subtract(u)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function tf(e,s){return new Lo(e,s)}var ni=pn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return A(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ao=ni.extend({options:{fill:!0,radius:10},initialize:function(e,s){A(this,s),this._latlng=dt(e),this._radius=this.options.radius},setLatLng:function(e){var s=this._latlng;return this._latlng=dt(e),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var s=e&&e.radius||this._radius;return ni.prototype.setStyle.call(this,e),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,s=this._radiusY||e,a=this._clickTolerance(),u=[e+a,s+a];this._pxBounds=new It(this._point.subtract(u),this._point.add(u))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ef(e,s){return new Ao(e,s)}var ia=Ao.extend({initialize:function(e,s,a){if(typeof s=="number"&&(s=r({},a,{radius:s})),A(this,s),this._latlng=dt(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new Ht(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:ni.prototype.setStyle,_project:function(){var e=this._latlng.lng,s=this._latlng.lat,a=this._map,u=a.options.crs;if(u.distance===it.distance){var d=Math.PI/180,g=this._mRadius/it.R/d,x=a.project([s+g,e]),I=a.project([s-g,e]),M=x.add(I).divideBy(2),V=a.unproject(M).lat,ft=Math.acos((Math.cos(g*d)-Math.sin(s*d)*Math.sin(V*d))/(Math.cos(s*d)*Math.cos(V*d)))/d;(isNaN(ft)||ft===0)&&(ft=g/Math.cos(Math.PI/180*s)),this._point=M.subtract(a.getPixelOrigin()),this._radius=isNaN(ft)?0:M.x-a.project([V,e-ft]).x,this._radiusY=M.y-x.y}else{var Tt=u.unproject(u.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(Tt).x}this._updateBounds()}});function nf(e,s,a){return new ia(e,s,a)}var Dn=ni.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,s){A(this,s),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var s=1/0,a=null,u=ks,d,g,x=0,I=this._parts.length;x<I;x++)for(var M=this._parts[x],V=1,ft=M.length;V<ft;V++){d=M[V-1],g=M[V];var Tt=u(e,d,g,!0);Tt<s&&(s=Tt,a=u(e,d,g))}return a&&(a.distance=Math.sqrt(s)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $l(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,s){return s=s||this._defaultShape(),e=dt(e),s.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new Ht,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return rn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var s=[],a=rn(e),u=0,d=e.length;u<d;u++)a?(s[u]=dt(e[u]),this._bounds.extend(s[u])):s[u]=this._convertLatLngs(e[u]);return s},_project:function(){var e=new It;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),s=new tt(e,e);this._rawPxBounds&&(this._pxBounds=new It([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(e,s,a){var u=e[0]instanceof _t,d=e.length,g,x;if(u){for(x=[],g=0;g<d;g++)x[g]=this._map.latLngToLayerPoint(e[g]),a.extend(x[g]);s.push(x)}else for(g=0;g<d;g++)this._projectLatlngs(e[g],s,a)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,a,u,d,g,x,I,M;for(a=0,d=0,g=this._rings.length;a<g;a++)for(M=this._rings[a],u=0,x=M.length;u<x-1;u++)I=Fl(M[u],M[u+1],e,u,!0),I&&(s[d]=s[d]||[],s[d].push(I[0]),(I[1]!==M[u+1]||u===x-2)&&(s[d].push(I[1]),d++))}},_simplifyPoints:function(){for(var e=this._parts,s=this.options.smoothFactor,a=0,u=e.length;a<u;a++)e[a]=Dl(e[a],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,s){var a,u,d,g,x,I,M=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(a=0,g=this._parts.length;a<g;a++)for(I=this._parts[a],u=0,x=I.length,d=x-1;u<x;d=u++)if(!(!s&&u===0)&&Nl(e,I[d],I[u])<=M)return!0;return!1}});function sf(e,s){return new Dn(e,s)}Dn._flat=zl;var Ki=Dn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ol(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var s=Dn.prototype._convertLatLngs.call(this,e),a=s.length;return a>=2&&s[0]instanceof _t&&s[0].equals(s[a-1])&&s.pop(),s},_setLatLngs:function(e){Dn.prototype._setLatLngs.call(this,e),rn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return rn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,s=this.options.weight,a=new tt(s,s);if(e=new It(e.min.subtract(a),e.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var u=0,d=this._rings.length,g;u<d;u++)g=Rl(this._rings[u],e,!0),g.length&&this._parts.push(g)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var s=!1,a,u,d,g,x,I,M,V;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(g=0,M=this._parts.length;g<M;g++)for(a=this._parts[g],x=0,V=a.length,I=V-1;x<V;I=x++)u=a[x],d=a[I],u.y>e.y!=d.y>e.y&&e.x<(d.x-u.x)*(e.y-u.y)/(d.y-u.y)+u.x&&(s=!s);return s||Dn.prototype._containsPoint.call(this,e,!0)}});function of(e,s){return new Ki(e,s)}var Nn=On.extend({initialize:function(e,s){A(this,s),this._layers={},e&&this.addData(e)},addData:function(e){var s=G(e)?e:e.features,a,u,d;if(s){for(a=0,u=s.length;a<u;a++)d=s[a],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var g=this.options;if(g.filter&&!g.filter(e))return this;var x=Mo(e,g);return x?(x.feature=Do(e),x.defaultOptions=x.options,this.resetStyle(x),g.onEachFeature&&g.onEachFeature(e,x),this.addLayer(x)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=r({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(s){this._setLayerStyle(s,e)},this)},_setLayerStyle:function(e,s){e.setStyle&&(typeof s=="function"&&(s=s(e.feature)),e.setStyle(s))}});function Mo(e,s){var a=e.type==="Feature"?e.geometry:e,u=a?a.coordinates:null,d=[],g=s&&s.pointToLayer,x=s&&s.coordsToLatLng||sa,I,M,V,ft;if(!u&&!a)return null;switch(a.type){case"Point":return I=x(u),Zl(g,e,I,s);case"MultiPoint":for(V=0,ft=u.length;V<ft;V++)I=x(u[V]),d.push(Zl(g,e,I,s));return new On(d);case"LineString":case"MultiLineString":return M=Ro(u,a.type==="LineString"?0:1,x),new Dn(M,s);case"Polygon":case"MultiPolygon":return M=Ro(u,a.type==="Polygon"?1:2,x),new Ki(M,s);case"GeometryCollection":for(V=0,ft=a.geometries.length;V<ft;V++){var Tt=Mo({geometry:a.geometries[V],type:"Feature",properties:e.properties},s);Tt&&d.push(Tt)}return new On(d);case"FeatureCollection":for(V=0,ft=a.features.length;V<ft;V++){var zt=Mo(a.features[V],s);zt&&d.push(zt)}return new On(d);default:throw new Error("Invalid GeoJSON object.")}}function Zl(e,s,a,u){return e?e(s,a):new Lo(a,u&&u.markersInheritOptions&&u)}function sa(e){return new _t(e[1],e[0],e[2])}function Ro(e,s,a){for(var u=[],d=0,g=e.length,x;d<g;d++)x=s?Ro(e[d],s-1,a):(a||sa)(e[d]),u.push(x);return u}function oa(e,s){return e=dt(e),e.alt!==void 0?[b(e.lng,s),b(e.lat,s),b(e.alt,s)]:[b(e.lng,s),b(e.lat,s)]}function Oo(e,s,a,u){for(var d=[],g=0,x=e.length;g<x;g++)d.push(s?Oo(e[g],rn(e[g])?0:s-1,a,u):oa(e[g],u));return!s&&a&&d.length>0&&d.push(d[0].slice()),d}function Ji(e,s){return e.feature?r({},e.feature,{geometry:s}):Do(s)}function Do(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var ra={toGeoJSON:function(e){return Ji(this,{type:"Point",coordinates:oa(this.getLatLng(),e)})}};Lo.include(ra),ia.include(ra),Ao.include(ra),Dn.include({toGeoJSON:function(e){var s=!rn(this._latlngs),a=Oo(this._latlngs,s?1:0,!1,e);return Ji(this,{type:(s?"Multi":"")+"LineString",coordinates:a})}}),Ki.include({toGeoJSON:function(e){var s=!rn(this._latlngs),a=s&&!rn(this._latlngs[0]),u=Oo(this._latlngs,a?2:s?1:0,!0,e);return s||(u=[u]),Ji(this,{type:(a?"Multi":"")+"Polygon",coordinates:u})}}),qi.include({toMultiPoint:function(e){var s=[];return this.eachLayer(function(a){s.push(a.toGeoJSON(e).geometry.coordinates)}),Ji(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(e){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(e);var a=s==="GeometryCollection",u=[];return this.eachLayer(function(d){if(d.toGeoJSON){var g=d.toGeoJSON(e);if(a)u.push(g.geometry);else{var x=Do(g);x.type==="FeatureCollection"?u.push.apply(u,x.features):u.push(x)}}}),a?Ji(this,{geometries:u,type:"GeometryCollection"}):{type:"FeatureCollection",features:u}}});function Wl(e,s){return new Nn(e,s)}var rf=Wl,No=pn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,s,a){this._url=e,this._bounds=$t(s),A(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Rt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ne(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&Qn(this._image),this},bringToBack:function(){return this._map&&bn(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=$t(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",s=this._image=e?this._url:Vt("img");if(Rt(s,"leaflet-image-layer"),this._zoomAnimated&&Rt(s,"leaflet-zoom-animated"),this.options.className&&Rt(s,this.options.className),s.onselectstart=y,s.onmousemove=y,s.onload=c(this.fire,this,"load"),s.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(e){var s=this._map.getZoomScale(e.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;An(this._image,a,s)},_reset:function(){var e=this._image,s=new It(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=s.getSize();de(e,s.min),e.style.width=a.x+"px",e.style.height=a.y+"px"},_updateOpacity:function(){He(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),af=function(e,s,a){return new No(e,s,a)},jl=No.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",s=this._image=e?this._url:Vt("video");if(Rt(s,"leaflet-image-layer"),this._zoomAnimated&&Rt(s,"leaflet-zoom-animated"),this.options.className&&Rt(s,this.options.className),s.onselectstart=y,s.onmousemove=y,s.onloadeddata=c(this.fire,this,"load"),e){for(var a=s.getElementsByTagName("source"),u=[],d=0;d<a.length;d++)u.push(a[d].src);this._url=a.length>0?u:[s.src];return}G(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var g=0;g<this._url.length;g++){var x=Vt("source");x.src=this._url[g],s.appendChild(x)}}});function lf(e,s,a){return new jl(e,s,a)}var Vl=No.extend({_initImage:function(){var e=this._image=this._url;Rt(e,"leaflet-image-layer"),this._zoomAnimated&&Rt(e,"leaflet-zoom-animated"),this.options.className&&Rt(e,this.options.className),e.onselectstart=y,e.onmousemove=y}});function cf(e,s,a){return new Vl(e,s,a)}var Sn=pn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,s){e&&(e instanceof _t||G(e))?(this._latlng=dt(e),A(this,s)):(A(this,e),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&He(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&He(this._container,1),this.bringToFront(),this.options.interactive&&(Rt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(He(this._container,0),this._removeTimeout=setTimeout(c(ne,void 0,this._container),200)):ne(this._container),this.options.interactive&&(he(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=dt(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Qn(this._container),this},bringToBack:function(){return this._map&&bn(this._container),this},_prepareOpen:function(e){var s=this._source;if(!s._map)return!1;if(s instanceof On){s=null;var a=this._source._layers;for(var u in a)if(a[u]._map){s=a[u];break}if(!s)return!1;this._source=s}if(!e)if(s.getCenter)e=s.getCenter();else if(s.getLatLng)e=s.getLatLng();else if(s.getBounds)e=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")e.innerHTML=s;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),s=yt(this.options.offset),a=this._getAnchor();this._zoomAnimated?de(this._container,e.add(a)):s=s.add(e).add(a);var u=this._containerBottom=-s.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=u+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}});qt.include({_initOverlay:function(e,s,a,u){var d=s;return d instanceof e||(d=new e(u).setContent(s)),a&&d.setLatLng(a),d}}),pn.include({_initOverlay:function(e,s,a,u){var d=a;return d instanceof e?(A(d,u),d._source=this):(d=s&&!u?s:new e(u,this),d.setContent(a)),d}});var Bo=Sn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Sn.prototype.openOn.call(this,e)},onAdd:function(e){Sn.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ni||this._source.on("preclick",bi))},onRemove:function(e){Sn.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ni||this._source.off("preclick",bi))},getEvents:function(){var e=Sn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",s=this._container=Vt("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=Vt("div",e+"-content-wrapper",s);if(this._contentNode=Vt("div",e+"-content",a),Es(s),Kr(this._contentNode),Ot(s,"contextmenu",bi),this._tipContainer=Vt("div",e+"-tip-container",s),this._tip=Vt("div",e+"-tip",this._tipContainer),this.options.closeButton){var u=this._closeButton=Vt("a",e+"-close-button",s);u.setAttribute("role","button"),u.setAttribute("aria-label","Close popup"),u.href="#close",u.innerHTML='<span aria-hidden="true">&#215;</span>',Ot(u,"click",function(d){Ae(d),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,s=e.style;s.width="",s.whiteSpace="nowrap";var a=e.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),s.width=a+1+"px",s.whiteSpace="",s.height="";var u=e.offsetHeight,d=this.options.maxHeight,g="leaflet-popup-scrolled";d&&u>d?(s.height=d+"px",Rt(e,g)):he(e,g),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var s=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),a=this._getAnchor();de(this._container,s.add(a))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,s=parseInt(yi(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+s,u=this._containerWidth,d=new tt(this._containerLeft,-a-this._containerBottom);d._add(Mn(this._container));var g=e.layerPointToContainerPoint(d),x=yt(this.options.autoPanPadding),I=yt(this.options.autoPanPaddingTopLeft||x),M=yt(this.options.autoPanPaddingBottomRight||x),V=e.getSize(),ft=0,Tt=0;g.x+u+M.x>V.x&&(ft=g.x+u-V.x+M.x),g.x-ft-I.x<0&&(ft=g.x-I.x),g.y+a+M.y>V.y&&(Tt=g.y+a-V.y+M.y),g.y-Tt-I.y<0&&(Tt=g.y-I.y),(ft||Tt)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([ft,Tt]))}},_getAnchor:function(){return yt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),uf=function(e,s){return new Bo(e,s)};qt.mergeOptions({closePopupOnClick:!0}),qt.include({openPopup:function(e,s,a){return this._initOverlay(Bo,e,s,a).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),pn.include({bindPopup:function(e,s){return this._popup=this._initOverlay(Bo,this._popup,e,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof On||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){wi(e);var s=e.layer||e.target;if(this._popup._source===s&&!(s instanceof ni)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=s,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Fo=Sn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Sn.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Sn.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Sn.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",s=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Vt("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var s,a,u=this._map,d=this._container,g=u.latLngToContainerPoint(u.getCenter()),x=u.layerPointToContainerPoint(e),I=this.options.direction,M=d.offsetWidth,V=d.offsetHeight,ft=yt(this.options.offset),Tt=this._getAnchor();I==="top"?(s=M/2,a=V):I==="bottom"?(s=M/2,a=0):I==="center"?(s=M/2,a=V/2):I==="right"?(s=0,a=V/2):I==="left"?(s=M,a=V/2):x.x<g.x?(I="right",s=0,a=V/2):(I="left",s=M+(ft.x+Tt.x)*2,a=V/2),e=e.subtract(yt(s,a,!0)).add(ft).add(Tt),he(d,"leaflet-tooltip-right"),he(d,"leaflet-tooltip-left"),he(d,"leaflet-tooltip-top"),he(d,"leaflet-tooltip-bottom"),Rt(d,"leaflet-tooltip-"+I),de(d,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&He(this._container,e)},_animateZoom:function(e){var s=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(s)},_getAnchor:function(){return yt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),hf=function(e,s){return new Fo(e,s)};qt.include({openTooltip:function(e,s,a){return this._initOverlay(Fo,e,s,a).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),pn.include({bindTooltip:function(e,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Fo,this._tooltip,e,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var s=e?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[s](a),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof On||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var s=typeof e.getElement=="function"&&e.getElement();s&&(Ot(s,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),Ot(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var s=typeof e.getElement=="function"&&e.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var s=e.latlng,a,u;this._tooltip.options.sticky&&e.originalEvent&&(a=this._map.mouseEventToContainerPoint(e.originalEvent),u=this._map.containerPointToLayerPoint(a),s=this._map.layerPointToLatLng(u)),this._tooltip.setLatLng(s)}});var ql=Gi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var s=e&&e.tagName==="DIV"?e:document.createElement("div"),a=this.options;if(a.html instanceof Element?(Wi(s),s.appendChild(a.html)):s.innerHTML=a.html!==!1?a.html:"",a.bgPos){var u=yt(a.bgPos);s.style.backgroundPosition=-u.x+"px "+-u.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function df(e){return new ql(e)}Gi.Default=Ts;var Is=pn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ct.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){A(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),ne(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Qn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(bn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof tt?e:new tt(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var s=this.getPane().children,a=-e(-1/0,1/0),u=0,d=s.length,g;u<d;u++)g=s[u].style.zIndex,s[u]!==this._container&&g&&(a=e(a,+g));isFinite(a)&&(this.options.zIndex=a+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ct.ielt9){He(this._container,this.options.opacity);var e=+new Date,s=!1,a=!1;for(var u in this._tiles){var d=this._tiles[u];if(!(!d.current||!d.loaded)){var g=Math.min(1,(e-d.loaded)/200);He(d.el,g),g<1?s=!0:(d.active?a=!0:this._onOpaqueTile(d),d.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),s&&(j(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this))}},_onOpaqueTile:y,_initContainer:function(){this._container||(this._container=Vt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,s=this.options.maxZoom;if(e!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===e?(this._levels[a].el.style.zIndex=s-Math.abs(e-a),this._onUpdateLevel(a)):(ne(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var u=this._levels[e],d=this._map;return u||(u=this._levels[e]={},u.el=Vt("div","leaflet-tile-container leaflet-zoom-animated",this._container),u.el.style.zIndex=s,u.origin=d.project(d.unproject(d.getPixelOrigin()),e).round(),u.zoom=e,this._setZoomTransform(u,d.getCenter(),d.getZoom()),y(u.el.offsetWidth),this._onCreateLevel(u)),this._level=u,u}},_onUpdateLevel:y,_onRemoveLevel:y,_onCreateLevel:y,_pruneTiles:function(){if(this._map){var e,s,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)s=this._tiles[e],s.retain=s.current;for(e in this._tiles)if(s=this._tiles[e],s.current&&!s.active){var u=s.coords;this._retainParent(u.x,u.y,u.z,u.z-5)||this._retainChildren(u.x,u.y,u.z,u.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var s in this._tiles)this._tiles[s].coords.z===e&&this._removeTile(s)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)ne(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,s,a,u){var d=Math.floor(e/2),g=Math.floor(s/2),x=a-1,I=new tt(+d,+g);I.z=+x;var M=this._tileCoordsToKey(I),V=this._tiles[M];return V&&V.active?(V.retain=!0,!0):(V&&V.loaded&&(V.retain=!0),x>u?this._retainParent(d,g,x,u):!1)},_retainChildren:function(e,s,a,u){for(var d=2*e;d<2*e+2;d++)for(var g=2*s;g<2*s+2;g++){var x=new tt(d,g);x.z=a+1;var I=this._tileCoordsToKey(x),M=this._tiles[I];if(M&&M.active){M.retain=!0;continue}else M&&M.loaded&&(M.retain=!0);a+1<u&&this._retainChildren(d,g,a+1,u)}},_resetView:function(e){var s=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var s=this.options;return s.minNativeZoom!==void 0&&e<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<e?s.maxNativeZoom:e},_setView:function(e,s,a,u){var d=Math.round(s);this.options.maxZoom!==void 0&&d>this.options.maxZoom||this.options.minZoom!==void 0&&d<this.options.minZoom?d=void 0:d=this._clampZoom(d);var g=this.options.updateWhenZooming&&d!==this._tileZoom;(!u||g)&&(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),d!==void 0&&this._update(e),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(e,s)},_setZoomTransforms:function(e,s){for(var a in this._levels)this._setZoomTransform(this._levels[a],e,s)},_setZoomTransform:function(e,s,a){var u=this._map.getZoomScale(a,e.zoom),d=e.origin.multiplyBy(u).subtract(this._map._getNewPixelOrigin(s,a)).round();Ct.any3d?An(e.el,d,u):de(e.el,d)},_resetGrid:function(){var e=this._map,s=e.options.crs,a=this._tileSize=this.getTileSize(),u=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,s.wrapLng[0]],u).x/a.x),Math.ceil(e.project([0,s.wrapLng[1]],u).x/a.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([s.wrapLat[0],0],u).y/a.x),Math.ceil(e.project([s.wrapLat[1],0],u).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var s=this._map,a=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),u=s.getZoomScale(a,this._tileZoom),d=s.project(e,this._tileZoom).floor(),g=s.getSize().divideBy(u*2);return new It(d.subtract(g),d.add(g))},_update:function(e){var s=this._map;if(s){var a=this._clampZoom(s.getZoom());if(e===void 0&&(e=s.getCenter()),this._tileZoom!==void 0){var u=this._getTiledPixelBounds(e),d=this._pxBoundsToTileRange(u),g=d.getCenter(),x=[],I=this.options.keepBuffer,M=new It(d.getBottomLeft().subtract([I,-I]),d.getTopRight().add([I,-I]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var V in this._tiles){var ft=this._tiles[V].coords;(ft.z!==this._tileZoom||!M.contains(new tt(ft.x,ft.y)))&&(this._tiles[V].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(e,a);return}for(var Tt=d.min.y;Tt<=d.max.y;Tt++)for(var zt=d.min.x;zt<=d.max.x;zt++){var Ze=new tt(zt,Tt);if(Ze.z=this._tileZoom,!!this._isValidTile(Ze)){var Ie=this._tiles[this._tileCoordsToKey(Ze)];Ie?Ie.current=!0:x.push(Ze)}}if(x.sort(function(Ke,Yi){return Ke.distanceTo(g)-Yi.distanceTo(g)}),x.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var an=document.createDocumentFragment();for(zt=0;zt<x.length;zt++)this._addTile(x[zt],an);this._level.el.appendChild(an)}}}},_isValidTile:function(e){var s=this._map.options.crs;if(!s.infinite){var a=this._globalTileRange;if(!s.wrapLng&&(e.x<a.min.x||e.x>a.max.x)||!s.wrapLat&&(e.y<a.min.y||e.y>a.max.y))return!1}if(!this.options.bounds)return!0;var u=this._tileCoordsToBounds(e);return $t(this.options.bounds).overlaps(u)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var s=this._map,a=this.getTileSize(),u=e.scaleBy(a),d=u.add(a),g=s.unproject(u,e.z),x=s.unproject(d,e.z);return[g,x]},_tileCoordsToBounds:function(e){var s=this._tileCoordsToNwSe(e),a=new Ht(s[0],s[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var s=e.split(":"),a=new tt(+s[0],+s[1]);return a.z=+s[2],a},_removeTile:function(e){var s=this._tiles[e];s&&(ne(s.el),delete this._tiles[e],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){Rt(e,"leaflet-tile");var s=this.getTileSize();e.style.width=s.x+"px",e.style.height=s.y+"px",e.onselectstart=y,e.onmousemove=y,Ct.ielt9&&this.options.opacity<1&&He(e,this.options.opacity)},_addTile:function(e,s){var a=this._getTilePos(e),u=this._tileCoordsToKey(e),d=this.createTile(this._wrapCoords(e),c(this._tileReady,this,e));this._initTile(d),this.createTile.length<2&&W(c(this._tileReady,this,e,null,d)),de(d,a),this._tiles[u]={el:d,coords:e,current:!0},s.appendChild(d),this.fire("tileloadstart",{tile:d,coords:e})},_tileReady:function(e,s,a){s&&this.fire("tileerror",{error:s,tile:a,coords:e});var u=this._tileCoordsToKey(e);a=this._tiles[u],a&&(a.loaded=+new Date,this._map._fadeAnimated?(He(a.el,0),j(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),s||(Rt(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ct.ielt9||!this._map._fadeAnimated?W(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var s=new tt(this._wrapX?m(e.x,this._wrapX):e.x,this._wrapY?m(e.y,this._wrapY):e.y);return s.z=e.z,s},_pxBoundsToTileRange:function(e){var s=this.getTileSize();return new It(e.min.unscaleBy(s).floor(),e.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function ff(e){return new Is(e)}var Xi=Is.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,s){this._url=e,s=A(this,s),s.detectRetina&&Ct.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,s){return this._url===e&&s===void 0&&(s=!0),this._url=e,s||this.redraw(),this},createTile:function(e,s){var a=document.createElement("img");return Ot(a,"load",c(this._tileOnLoad,this,s,a)),Ot(a,"error",c(this._tileOnError,this,s,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(e),a},getTileUrl:function(e){var s={r:Ct.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-e.y;this.options.tms&&(s.y=a),s["-y"]=a}return X(this._url,r(s,this.options))},_tileOnLoad:function(e,s){Ct.ielt9?setTimeout(c(e,this,null,s),0):e(null,s)},_tileOnError:function(e,s,a){var u=this.options.errorTileUrl;u&&s.getAttribute("src")!==u&&(s.src=u),e(a,s)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,s=this.options.maxZoom,a=this.options.zoomReverse,u=this.options.zoomOffset;return a&&(e=s-e),e+u},_getSubdomain:function(e){var s=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var e,s;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(s=this._tiles[e].el,s.onload=y,s.onerror=y,!s.complete)){s.src=q;var a=this._tiles[e].coords;ne(s),delete this._tiles[e],this.fire("tileabort",{tile:s,coords:a})}},_removeTile:function(e){var s=this._tiles[e];if(s)return s.el.setAttribute("src",q),Is.prototype._removeTile.call(this,e)},_tileReady:function(e,s,a){if(!(!this._map||a&&a.getAttribute("src")===q))return Is.prototype._tileReady.call(this,e,s,a)}});function Gl(e,s){return new Xi(e,s)}var Kl=Xi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,s){this._url=e;var a=r({},this.defaultWmsParams);for(var u in s)u in this.options||(a[u]=s[u]);s=A(this,s);var d=s.detectRetina&&Ct.retina?2:1,g=this.getTileSize();a.width=g.x*d,a.height=g.y*d,this.wmsParams=a},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,Xi.prototype.onAdd.call(this,e)},getTileUrl:function(e){var s=this._tileCoordsToNwSe(e),a=this._crs,u=Nt(a.project(s[0]),a.project(s[1])),d=u.min,g=u.max,x=(this._wmsVersion>=1.3&&this._crs===Ul?[d.y,d.x,g.y,g.x]:[d.x,d.y,g.x,g.y]).join(","),I=Xi.prototype.getTileUrl.call(this,e);return I+B(this.wmsParams,I,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+x},setParams:function(e,s){return r(this.wmsParams,e),s||this.redraw(),this}});function pf(e,s){return new Kl(e,s)}Xi.WMS=Kl,Gl.wms=pf;var Bn=pn.extend({options:{padding:.1},initialize:function(e){A(this,e),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Rt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,s){var a=this._map.getZoomScale(s,this._zoom),u=this._map.getSize().multiplyBy(.5+this.options.padding),d=this._map.project(this._center,s),g=u.multiplyBy(-a).add(d).subtract(this._map._getNewPixelOrigin(e,s));Ct.any3d?An(this._container,g,a):de(this._container,g)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,s=this._map.getSize(),a=this._map.containerPointToLayerPoint(s.multiplyBy(-e)).round();this._bounds=new It(a,a.add(s.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Jl=Bn.extend({options:{tolerance:0},getEvents:function(){var e=Bn.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Bn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Ot(e,"mousemove",this._onMouseMove,this),Ot(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ot(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){j(this._redrawRequest),delete this._ctx,ne(this._container),ae(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var s in this._layers)e=this._layers[s],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Bn.prototype._update.call(this);var e=this._bounds,s=this._container,a=e.getSize(),u=Ct.retina?2:1;de(s,e.min),s.width=u*a.x,s.height=u*a.y,s.style.width=a.x+"px",s.style.height=a.y+"px",Ct.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Bn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[f(e)]=e;var s=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var s=e._order,a=s.next,u=s.prev;a?a.prev=u:this._drawLast=u,u?u.next=a:this._drawFirst=a,delete e._order,delete this._layers[f(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var s=e.options.dashArray.split(/[, ]+/),a=[],u,d;for(d=0;d<s.length;d++){if(u=Number(s[d]),isNaN(u))return;a.push(u)}e.options._dashArray=a}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||W(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var s=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new It,this._redrawBounds.extend(e._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(e._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var s=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,s=this._redrawBounds;if(this._ctx.save(),s){var a=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var u=this._drawFirst;u;u=u.next)e=u.layer,(!s||e._pxBounds&&e._pxBounds.intersects(s))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,s){if(this._drawing){var a,u,d,g,x=e._parts,I=x.length,M=this._ctx;if(I){for(M.beginPath(),a=0;a<I;a++){for(u=0,d=x[a].length;u<d;u++)g=x[a][u],M[u?"lineTo":"moveTo"](g.x,g.y);s&&M.closePath()}this._fillStroke(M,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var s=e._point,a=this._ctx,u=Math.max(Math.round(e._radius),1),d=(Math.max(Math.round(e._radiusY),1)||u)/u;d!==1&&(a.save(),a.scale(1,d)),a.beginPath(),a.arc(s.x,s.y/d,u,0,Math.PI*2,!1),d!==1&&a.restore(),this._fillStroke(a,e)}},_fillStroke:function(e,s){var a=s.options;a.fill&&(e.globalAlpha=a.fillOpacity,e.fillStyle=a.fillColor||a.color,e.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(e.setLineDash&&e.setLineDash(s.options&&s.options._dashArray||[]),e.globalAlpha=a.opacity,e.lineWidth=a.weight,e.strokeStyle=a.color,e.lineCap=a.lineCap,e.lineJoin=a.lineJoin,e.stroke())},_onClick:function(e){for(var s=this._map.mouseEventToLayerPoint(e),a,u,d=this._drawFirst;d;d=d.next)a=d.layer,a.options.interactive&&a._containsPoint(s)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(a))&&(u=a);this._fireEvent(u?[u]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,s)}},_handleMouseOut:function(e){var s=this._hoveredLayer;s&&(he(this._container,"leaflet-interactive"),this._fireEvent([s],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,s){if(!this._mouseHoverThrottled){for(var a,u,d=this._drawFirst;d;d=d.next)a=d.layer,a.options.interactive&&a._containsPoint(s)&&(u=a);u!==this._hoveredLayer&&(this._handleMouseOut(e),u&&(Rt(this._container,"leaflet-interactive"),this._fireEvent([u],e,"mouseover"),this._hoveredLayer=u)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,s,a){this._map._fireDOMEvent(s,a||s.type,e)},_bringToFront:function(e){var s=e._order;if(s){var a=s.next,u=s.prev;if(a)a.prev=u;else return;u?u.next=a:a&&(this._drawFirst=a),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(e)}},_bringToBack:function(e){var s=e._order;if(s){var a=s.next,u=s.prev;if(u)u.next=a;else return;a?a.prev=u:u&&(this._drawLast=u),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(e)}}});function Xl(e){return Ct.canvas?new Jl(e):null}var Ls=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),mf={_initContainer:function(){this._container=Vt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Bn.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var s=e._container=Ls("shape");Rt(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",e._path=Ls("path"),s.appendChild(e._path),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){var s=e._container;this._container.appendChild(s),e.options.interactive&&e.addInteractiveTarget(s)},_removePath:function(e){var s=e._container;ne(s),e.removeInteractiveTarget(s),delete this._layers[f(e)]},_updateStyle:function(e){var s=e._stroke,a=e._fill,u=e.options,d=e._container;d.stroked=!!u.stroke,d.filled=!!u.fill,u.stroke?(s||(s=e._stroke=Ls("stroke")),d.appendChild(s),s.weight=u.weight+"px",s.color=u.color,s.opacity=u.opacity,u.dashArray?s.dashStyle=G(u.dashArray)?u.dashArray.join(" "):u.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=u.lineCap.replace("butt","flat"),s.joinstyle=u.lineJoin):s&&(d.removeChild(s),e._stroke=null),u.fill?(a||(a=e._fill=Ls("fill")),d.appendChild(a),a.color=u.fillColor||u.color,a.opacity=u.fillOpacity):a&&(d.removeChild(a),e._fill=null)},_updateCircle:function(e){var s=e._point.round(),a=Math.round(e._radius),u=Math.round(e._radiusY||a);this._setPath(e,e._empty()?"M0 0":"AL "+s.x+","+s.y+" "+a+","+u+" 0,"+65535*360)},_setPath:function(e,s){e._path.v=s},_bringToFront:function(e){Qn(e._container)},_bringToBack:function(e){bn(e._container)}},zo=Ct.vml?Ls:D,As=Bn.extend({_initContainer:function(){this._container=zo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=zo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ne(this._container),ae(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Bn.prototype._update.call(this);var e=this._bounds,s=e.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,a.setAttribute("width",s.x),a.setAttribute("height",s.y)),de(a,e.min),a.setAttribute("viewBox",[e.min.x,e.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(e){var s=e._path=zo("path");e.options.className&&Rt(s,e.options.className),e.options.interactive&&Rt(s,"leaflet-interactive"),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){ne(e._path),e.removeInteractiveTarget(e._path),delete this._layers[f(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var s=e._path,a=e.options;s&&(a.stroke?(s.setAttribute("stroke",a.color),s.setAttribute("stroke-opacity",a.opacity),s.setAttribute("stroke-width",a.weight),s.setAttribute("stroke-linecap",a.lineCap),s.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?s.setAttribute("stroke-dasharray",a.dashArray):s.removeAttribute("stroke-dasharray"),a.dashOffset?s.setAttribute("stroke-dashoffset",a.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),a.fill?(s.setAttribute("fill",a.fillColor||a.color),s.setAttribute("fill-opacity",a.fillOpacity),s.setAttribute("fill-rule",a.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(e,s){this._setPath(e,U(e._parts,s))},_updateCircle:function(e){var s=e._point,a=Math.max(Math.round(e._radius),1),u=Math.max(Math.round(e._radiusY),1)||a,d="a"+a+","+u+" 0 1,0 ",g=e._empty()?"M0 0":"M"+(s.x-a)+","+s.y+d+a*2+",0 "+d+-a*2+",0 ";this._setPath(e,g)},_setPath:function(e,s){e._path.setAttribute("d",s)},_bringToFront:function(e){Qn(e._path)},_bringToBack:function(e){bn(e._path)}});Ct.vml&&As.include(mf);function Yl(e){return Ct.svg||Ct.vml?new As(e):null}qt.include({getRenderer:function(e){var s=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var s=this._paneRenderers[e];return s===void 0&&(s=this._createRenderer({pane:e}),this._paneRenderers[e]=s),s},_createRenderer:function(e){return this.options.preferCanvas&&Xl(e)||Yl(e)}});var Ql=Ki.extend({initialize:function(e,s){Ki.prototype.initialize.call(this,this._boundsToLatLngs(e),s)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=$t(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function _f(e,s){return new Ql(e,s)}As.create=zo,As.pointsToPath=U,Nn.geometryToLayer=Mo,Nn.coordsToLatLng=sa,Nn.coordsToLatLngs=Ro,Nn.latLngToCoords=oa,Nn.latLngsToCoords=Oo,Nn.getFeature=Ji,Nn.asFeature=Do,qt.mergeOptions({boxZoom:!0});var tc=Cn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Ot(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ae(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ne(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ti(),at(),this._startPoint=this._map.mouseEventToContainerPoint(e),Ot(document,{contextmenu:wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=Vt("div","leaflet-zoom-box",this._container),Rt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var s=new It(this._point,this._startPoint),a=s.getSize();de(this._box,s.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(ne(this._box),he(this._container,"leaflet-crosshair")),E(),Ft(),ae(document,{contextmenu:wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var s=new Ht(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});qt.addInitHook("addHandler","boxZoom",tc),qt.mergeOptions({doubleClickZoom:!0});var ec=Cn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var s=this._map,a=s.getZoom(),u=s.options.zoomDelta,d=e.originalEvent.shiftKey?a-u:a+u;s.options.doubleClickZoom==="center"?s.setZoom(d):s.setZoomAround(e.containerPoint,d)}});qt.addInitHook("addHandler","doubleClickZoom",ec),qt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var nc=Cn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new ei(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}Rt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){he(this._map._container,"leaflet-grab"),he(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=$t(this._map.options.maxBounds);this._offsetLimit=Nt(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var s=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(s),this._prunePositions(s)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,s){return e-(e-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;e.x<s.min.x&&(e.x=this._viscousLimit(e.x,s.min.x)),e.y<s.min.y&&(e.y=this._viscousLimit(e.y,s.min.y)),e.x>s.max.x&&(e.x=this._viscousLimit(e.x,s.max.x)),e.y>s.max.y&&(e.y=this._viscousLimit(e.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,s=Math.round(e/2),a=this._initialWorldOffset,u=this._draggable._newPos.x,d=(u-s+a)%e+s-a,g=(u+s+a)%e-s-a,x=Math.abs(d+a)<Math.abs(g+a)?d:g;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=x},_onDragEnd:function(e){var s=this._map,a=s.options,u=!a.inertia||e.noInertia||this._times.length<2;if(s.fire("dragend",e),u)s.fire("moveend");else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),g=(this._lastTime-this._times[0])/1e3,x=a.easeLinearity,I=d.multiplyBy(x/g),M=I.distanceTo([0,0]),V=Math.min(a.inertiaMaxSpeed,M),ft=I.multiplyBy(V/M),Tt=V/(a.inertiaDeceleration*x),zt=ft.multiplyBy(-Tt/2).round();!zt.x&&!zt.y?s.fire("moveend"):(zt=s._limitOffset(zt,s.options.maxBounds),W(function(){s.panBy(zt,{duration:Tt,easeLinearity:x,noMoveStart:!0,animate:!0})}))}}});qt.addInitHook("addHandler","dragging",nc),qt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ic=Cn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Ot(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ae(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,s=document.documentElement,a=e.scrollTop||s.scrollTop,u=e.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(u,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var s=this._panKeys={},a=this.keyCodes,u,d;for(u=0,d=a.left.length;u<d;u++)s[a.left[u]]=[-1*e,0];for(u=0,d=a.right.length;u<d;u++)s[a.right[u]]=[e,0];for(u=0,d=a.down.length;u<d;u++)s[a.down[u]]=[0,e];for(u=0,d=a.up.length;u<d;u++)s[a.up[u]]=[0,-1*e]},_setZoomDelta:function(e){var s=this._zoomKeys={},a=this.keyCodes,u,d;for(u=0,d=a.zoomIn.length;u<d;u++)s[a.zoomIn[u]]=e;for(u=0,d=a.zoomOut.length;u<d;u++)s[a.zoomOut[u]]=-e},_addHooks:function(){Ot(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ae(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var s=e.keyCode,a=this._map,u;if(s in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(u=this._panKeys[s],e.shiftKey&&(u=yt(u).multiplyBy(3)),a.options.maxBounds&&(u=a._limitOffset(yt(u),a.options.maxBounds)),a.options.worldCopyJump){var d=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(u)));a.panTo(d)}else a.panBy(u)}else if(s in this._zoomKeys)a.setZoom(a.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;wi(e)}}});qt.addInitHook("addHandler","keyboard",ic),qt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var sc=Cn.extend({addHooks:function(){Ot(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ae(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var s=Tl(e),a=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var u=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),u),wi(e)},_performZoom:function(){var e=this._map,s=e.getZoom(),a=this._map.options.zoomSnap||0;e._stop();var u=this._delta/(this._map.options.wheelPxPerZoomLevel*4),d=4*Math.log(2/(1+Math.exp(-Math.abs(u))))/Math.LN2,g=a?Math.ceil(d/a)*a:d,x=e._limitZoom(s+(this._delta>0?g:-g))-s;this._delta=0,this._startTime=null,x&&(e.options.scrollWheelZoom==="center"?e.setZoom(s+x):e.setZoomAround(this._lastMousePos,s+x))}});qt.addInitHook("addHandler","scrollWheelZoom",sc);var gf=600;qt.mergeOptions({tapHold:Ct.touchNative&&Ct.safari&&Ct.mobile,tapTolerance:15});var oc=Cn.extend({addHooks:function(){Ot(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ae(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var s=e.touches[0];this._startPos=this._newPos=new tt(s.clientX,s.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(Ot(document,"touchend",Ae),Ot(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),gf),Ot(document,"touchend touchcancel contextmenu",this._cancel,this),Ot(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){ae(document,"touchend",Ae),ae(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),ae(document,"touchend touchcancel contextmenu",this._cancel,this),ae(document,"touchmove",this._onMove,this)},_onMove:function(e){var s=e.touches[0];this._newPos=new tt(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,s){var a=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});a._simulated=!0,s.target.dispatchEvent(a)}});qt.addInitHook("addHandler","tapHold",oc),qt.mergeOptions({touchZoom:Ct.touch,bounceAtZoomLimits:!0});var rc=Cn.extend({addHooks:function(){Rt(this._map._container,"leaflet-touch-zoom"),Ot(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){he(this._map._container,"leaflet-touch-zoom"),ae(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var s=this._map;if(!(!e.touches||e.touches.length!==2||s._animatingZoom||this._zooming)){var a=s.mouseEventToContainerPoint(e.touches[0]),u=s.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(a.add(u)._divideBy(2))),this._startDist=a.distanceTo(u),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),Ot(document,"touchmove",this._onTouchMove,this),Ot(document,"touchend touchcancel",this._onTouchEnd,this),Ae(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var s=this._map,a=s.mouseEventToContainerPoint(e.touches[0]),u=s.mouseEventToContainerPoint(e.touches[1]),d=a.distanceTo(u)/this._startDist;if(this._zoom=s.getScaleZoom(d,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&d<1||this._zoom>s.getMaxZoom()&&d>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,d===1)return}else{var g=a._add(u)._divideBy(2)._subtract(this._centerPoint);if(d===1&&g.x===0&&g.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(g),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),j(this._animRequest);var x=c(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=W(x,this,!0),Ae(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,j(this._animRequest),ae(document,"touchmove",this._onTouchMove,this),ae(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});qt.addInitHook("addHandler","touchZoom",rc),qt.BoxZoom=tc,qt.DoubleClickZoom=ec,qt.Drag=nc,qt.Keyboard=ic,qt.ScrollWheelZoom=sc,qt.TapHold=oc,qt.TouchZoom=rc,i.Bounds=It,i.Browser=Ct,i.CRS=O,i.Canvas=Jl,i.Circle=ia,i.CircleMarker=Ao,i.Class=Lt,i.Control=fn,i.DivIcon=ql,i.DivOverlay=Sn,i.DomEvent=Od,i.DomUtil=jr,i.Draggable=ei,i.Evented=wt,i.FeatureGroup=On,i.GeoJSON=Nn,i.GridLayer=Is,i.Handler=Cn,i.Icon=Gi,i.ImageOverlay=No,i.LatLng=_t,i.LatLngBounds=Ht,i.Layer=pn,i.LayerGroup=qi,i.LineUtil=qd,i.Map=qt,i.Marker=Lo,i.Mixin=Ud,i.Path=ni,i.Point=tt,i.PolyUtil=Hd,i.Polygon=Ki,i.Polyline=Dn,i.Popup=Bo,i.PosAnimation=Il,i.Projection=Gd,i.Rectangle=Ql,i.Renderer=Bn,i.SVG=As,i.SVGOverlay=Vl,i.TileLayer=Xi,i.Tooltip=Fo,i.Transformation=Et,i.Util=vt,i.VideoOverlay=jl,i.bind=c,i.bounds=Nt,i.canvas=Xl,i.circle=nf,i.circleMarker=ef,i.control=Ps,i.divIcon=df,i.extend=r,i.featureGroup=Yd,i.geoJSON=Wl,i.geoJson=rf,i.gridLayer=ff,i.icon=Qd,i.imageOverlay=af,i.latLng=dt,i.latLngBounds=$t,i.layerGroup=Xd,i.map=Dd,i.marker=tf,i.point=yt,i.polygon=of,i.polyline=sf,i.popup=uf,i.rectangle=_f,i.setOptions=A,i.stamp=f,i.svg=Yl,i.svgOverlay=cf,i.tileLayer=Gl,i.tooltip=hf,i.transformation=w,i.version=o,i.videoOverlay=lf;var vf=window.L;i.noConflict=function(){return window.L=vf,this},window.L=i}))})(Fs,Fs.exports)),Fs.exports}var Ab=Lb();const es=Tb(Ab),Mb={__name:"MapView",props:{locations:{type:Array,default:()=>[]},route:{type:Array,default:()=>[]},center:{type:Object,default:()=>({lat:51.505,lng:-.09})},zoom:{type:Number,default:13},clickable:{type:Boolean,default:!1}},emits:["location-click","map-click"],setup(t,{emit:n}){const i=t,o=n,r=H(null);let l=null;const c=H([]);let h=null,f=!0;const _=()=>{r.value&&(l=es.map(r.value).setView([i.center.lat,i.center.lng],i.zoom),es.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors",maxZoom:19}).addTo(l),i.clickable&&l.on("click",b=>{o("map-click",{lat:b.latlng.lat,lng:b.latlng.lng})}),y(),m())},m=()=>{if(h&&(h.remove(),h=null),!l||i.route.length===0)return;const b=i.route.map(P=>[P.lat,P.lng]);h=es.polyline(b,{color:"blue",weight:4,opacity:.7}).addTo(l)},y=()=>{if(!(l&&l._animatingZoom)&&(c.value.forEach(b=>b.remove()),c.value=[],!!l&&(i.locations.forEach(b=>{const P=b.checkedInCount||0,k=b.requiredMarshals||1,Y=P>=k?"green":P===0?"red":"orange",X=es.divIcon({className:"custom-marker",html:`
        <div style="display: flex; flex-direction: column; align-items: center;">
          <div style="
            background-color: ${Y};
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 12px;
          ">
            ${P}/${k}
          </div>
          <div style="
            background-color: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 11px;
            font-weight: bold;
            color: #333;
            white-space: nowrap;
            box-shadow: 0 1px 3px rgba(0,0,0,0.3);
            margin-top: 2px;
          ">
            ${b.name}
          </div>
        </div>
      `,iconSize:[30,50],iconAnchor:[15,25]}),G=es.marker([b.latitude,b.longitude],{icon:X}).addTo(l).bindPopup(`
        <b>${b.name}</b><br>
        ${b.description||""}<br>
        Checked in: ${P}/${k}
      `);G.on("click",()=>{o("location-click",b)}),c.value.push(G)}),l&&f))){const b=[];if(i.locations.length>0&&b.push(...i.locations.map(P=>[P.latitude,P.longitude])),i.route.length>0&&b.push(...i.route.map(P=>[P.lat,P.lng])),b.length>0){const P=es.latLngBounds(b);l.fitBounds(P,{padding:[50,50]}),f=!1}}};return lo(()=>{_()}),cn(()=>i.locations,()=>{y()},{deep:!0}),cn(()=>i.center,b=>{l&&l.setView([b.lat,b.lng],i.zoom)}),cn(()=>i.route,()=>{m(),y()},{deep:!0}),(b,P)=>(z(),$("div",{ref_key:"mapContainer",ref:r,class:"map-container"},null,512))}},Ad=Fe(Mb,[["__scopeId","data-v-72fb879c"]]),Rb={class:"modal-content"},Ob={class:"share-link-container"},Db=["value"],Nb={__name:"ShareLinkModal",props:{show:{type:Boolean,default:!1},link:{type:String,required:!0},isDirty:{type:Boolean,default:!1}},emits:["close"],setup(t,{emit:n}){const i=t,o=n,r=H(!1),l=H(null),c=H(!1),h=()=>{l.value&&(l.value.select(),document.execCommand("copy"),r.value=!0,setTimeout(()=>{r.value=!1},2e3))},f=()=>{i.isDirty?c.value=!0:o("close")},_=()=>{o("close")},m=()=>{c.value=!1,o("close")},y=()=>{c.value=!1};return(b,P)=>t.show?(z(),$("div",{key:0,class:"modal",onClick:se(f,["self"])},[p("div",Rb,[p("button",{onClick:f,class:"modal-close-btn"},""),P[0]||(P[0]=p("h2",null,"Marshal check-in link",-1)),P[1]||(P[1]=p("p",{class:"instruction"},"Share this link with marshals so they can check in:",-1)),p("div",Ob,[p("input",{value:t.link,readonly:"",class:"form-input",ref_key:"linkInput",ref:l},null,8,Db),p("button",{onClick:h,class:"btn btn-primary"},J(r.value?"Copied!":"Copy"),1)]),p("div",{class:"modal-actions"},[p("button",{onClick:_,class:"btn btn-secondary"},"Close")])]),Wt(pi,{show:c.value,title:"Unsaved Changes",message:"You have unsaved changes. Are you sure you want to close?",onConfirm:m,onCancel:y},null,8,["show"])])):St("",!0)}},Bb=Fe(Nb,[["__scopeId","data-v-a3ebe971"]]),Fb={class:"modal-content"},zb={class:"form-group"},$b={__name:"AddAdminModal",props:{show:{type:Boolean,default:!1},isDirty:{type:Boolean,default:!1}},emits:["close","submit","update:isDirty"],setup(t,{emit:n}){const i=t,o=n,r=H(""),l=H(!1);cn(()=>i.show,y=>{y||(r.value="")});const c=()=>{o("update:isDirty",!0)},h=()=>{o("submit",r.value)},f=()=>{i.isDirty?l.value=!0:o("close")},_=()=>{l.value=!1,o("close")},m=()=>{l.value=!1};return(y,b)=>t.show?(z(),$("div",{key:0,class:"modal",onClick:se(f,["self"])},[p("div",Fb,[p("button",{onClick:f,class:"modal-close-btn"},""),b[3]||(b[3]=p("h2",null,"Add event administrator",-1)),b[4]||(b[4]=p("p",{class:"instruction"},"Enter the email address of the administrator to add",-1)),p("form",{onSubmit:se(h,["prevent"])},[p("div",zb,[b[1]||(b[1]=p("label",null,"Email address",-1)),Zt(p("input",{"onUpdate:modelValue":b[0]||(b[0]=P=>r.value=P),type:"email",required:"",class:"form-input",placeholder:"admin@example.com",onInput:c},null,544),[[ie,r.value]])]),p("div",{class:"modal-actions"},[p("button",{type:"button",onClick:f,class:"btn btn-secondary"}," Cancel "),b[2]||(b[2]=p("button",{type:"submit",class:"btn btn-primary"},"Add administrator",-1))])],32)]),Wt(pi,{show:l.value,title:"Unsaved Changes",message:"You have unsaved changes. Are you sure you want to close?",onConfirm:_,onCancel:m},null,8,["show"])])):St("",!0)}},Ub=Fe($b,[["__scopeId","data-v-19c0d9e6"]]),Hb={class:"modal-content"},Zb={class:"form-group"},Wb={key:0,class:"error"},jb={class:"modal-actions"},Vb=["disabled"],qb={__name:"UploadRouteModal",props:{show:{type:Boolean,default:!1},uploading:{type:Boolean,default:!1},error:{type:String,default:null},isDirty:{type:Boolean,default:!1}},emits:["close","submit","update:isDirty"],setup(t,{emit:n}){const i=t,o=n,r=H(null),l=H(!1);cn(()=>i.show,y=>{y||(r.value=null)});const c=y=>{r.value=y.target.files[0],o("update:isDirty",!0)},h=()=>{r.value&&o("submit",r.value)},f=()=>{i.isDirty?l.value=!0:o("close")},_=()=>{l.value=!1,o("close")},m=()=>{l.value=!1};return(y,b)=>t.show?(z(),$("div",{key:0,class:"modal",onClick:se(f,["self"])},[p("div",Hb,[p("button",{onClick:f,class:"modal-close-btn"},""),b[1]||(b[1]=p("h2",null,"Upload GPX route",-1)),b[2]||(b[2]=p("p",{class:"instruction"},"Upload a GPX file to display the event route on the map",-1)),p("form",{onSubmit:se(h,["prevent"])},[p("div",Zb,[b[0]||(b[0]=p("label",null,"GPX file",-1)),p("input",{type:"file",accept:".gpx",onChange:c,required:"",class:"form-input"},null,32)]),t.error?(z(),$("div",Wb,J(t.error),1)):St("",!0),p("div",jb,[p("button",{type:"button",onClick:f,class:"btn btn-secondary"}," Cancel "),p("button",{type:"submit",class:"btn btn-primary",disabled:t.uploading},J(t.uploading?"Uploading...":"Upload route"),9,Vb)])],32)]),Wt(pi,{show:l.value,title:"Unsaved Changes",message:"You have unsaved changes. Are you sure you want to close?",onConfirm:_,onCancel:m},null,8,["show"])])):St("",!0)}},Gb=Fe(qb,[["__scopeId","data-v-d5c79ea5"]]),Kb={class:"modal-content"},Jb={class:"form-group"},Xb={class:"form-group"},Yb={class:"checkbox-label"},Qb={key:0,class:"error"},tw={key:1,class:"import-result"},ew={key:0,class:"import-errors"},nw={class:"modal-actions"},iw=["disabled"],sw={__name:"ImportLocationsModal",props:{show:{type:Boolean,default:!1},importing:{type:Boolean,default:!1},error:{type:String,default:null},result:{type:Object,default:null},isDirty:{type:Boolean,default:!1}},emits:["close","submit","update:isDirty"],setup(t,{emit:n}){const i=t,o=n,r=H(null),l=H(!1),c=H(!1);cn(()=>i.show,P=>{P||(r.value=null,l.value=!1)});const h=P=>{r.value=P.target.files[0],o("update:isDirty",!0)},f=()=>{o("update:isDirty",!0)},_=()=>{r.value&&o("submit",{file:r.value,deleteExisting:l.value})},m=()=>{i.isDirty?c.value=!0:o("close")},y=()=>{c.value=!1,o("close")},b=()=>{c.value=!1};return(P,k)=>t.show?(z(),$("div",{key:0,class:"modal",onClick:se(m,["self"])},[p("div",Kb,[p("button",{onClick:m,class:"modal-close-btn"},""),k[4]||(k[4]=p("h2",null,"Import locations from CSV",-1)),k[5]||(k[5]=p("p",{class:"instruction"},"Upload a CSV file with columns: Label, Lat/Latitude, Long/Longitude, What3Words (optional), Marshals (optional)",-1)),k[6]||(k[6]=p("div",{class:"csv-example"},[p("strong",null,"Example CSV format:"),p("pre",null,`Label,Latitude,Longitude,What3Words,Marshals
Checkpoint 1,51.505,-0.09,filled.count.soap,"John Doe, Jane Smith"
Checkpoint 2,51.510,-0.10,index.home.raft,Bob Wilson`)],-1)),p("form",{onSubmit:se(_,["prevent"])},[p("div",Jb,[k[1]||(k[1]=p("label",null,"CSV file",-1)),p("input",{type:"file",accept:".csv",onChange:h,required:"",class:"form-input"},null,32)]),p("div",Xb,[p("label",Yb,[Zt(p("input",{type:"checkbox","onUpdate:modelValue":k[0]||(k[0]=A=>l.value=A),onChange:f},null,544),[[Wm,l.value]]),k[2]||(k[2]=je(" Delete existing locations before import ",-1))])]),t.error?(z(),$("div",Qb,J(t.error),1)):St("",!0),t.result?(z(),$("div",tw,[p("p",null,"Created "+J(t.result.locationsCreated)+" locations and "+J(t.result.assignmentsCreated)+" assignments",1),t.result.errors&&t.result.errors.length>0?(z(),$("div",ew,[k[3]||(k[3]=p("strong",null,"Errors:",-1)),p("ul",null,[(z(!0),$(te,null,Le(t.result.errors,(A,B)=>(z(),$("li",{key:B},J(A),1))),128))])])):St("",!0)])):St("",!0),p("div",nw,[p("button",{type:"button",onClick:m,class:"btn btn-secondary"}," Cancel "),p("button",{type:"submit",class:"btn btn-primary",disabled:t.importing},J(t.importing?"Importing...":"Import locations"),9,iw)])],32)]),Wt(pi,{show:c.value,title:"Unsaved Changes",message:"You have unsaved changes. Are you sure you want to close?",onConfirm:y,onCancel:b},null,8,["show"])])):St("",!0)}},ow=Fe(sw,[["__scopeId","data-v-58f5ef3f"]]),rw={class:"modal-content"},aw={class:"form-group"},lw={key:0,class:"error"},cw={key:1,class:"import-result"},uw={key:0,class:"import-errors"},hw={class:"modal-actions"},dw=["disabled"],fw={__name:"ImportMarshalsModal",props:{show:{type:Boolean,default:!1},importing:{type:Boolean,default:!1},error:{type:String,default:null},result:{type:Object,default:null},isDirty:{type:Boolean,default:!1}},emits:["close","submit","update:isDirty"],setup(t,{emit:n}){const i=t,o=n,r=H(null),l=H(!1);cn(()=>i.show,y=>{y||(r.value=null)});const c=y=>{r.value=y.target.files[0],o("update:isDirty",!0)},h=()=>{r.value&&o("submit",r.value)},f=()=>{i.isDirty?l.value=!0:o("close")},_=()=>{l.value=!1,o("close")},m=()=>{l.value=!1};return(y,b)=>t.show?(z(),$("div",{key:0,class:"modal",onClick:se(f,["self"])},[p("div",rw,[p("button",{onClick:f,class:"modal-close-btn"},""),b[2]||(b[2]=p("h2",null,"Import marshals from CSV",-1)),b[3]||(b[3]=p("p",{class:"instruction"},"Upload a CSV file with columns: Name, Email (optional), Phone (optional), Checkpoint (optional)",-1)),b[4]||(b[4]=p("div",{class:"csv-example"},[p("strong",null,"Example CSV format:"),p("pre",null,`Name,Email,Phone,Checkpoint
John Doe,john@example.com,555-1234,Checkpoint 1
Jane Smith,jane@example.com,555-5678,Checkpoint 2`)],-1)),p("form",{onSubmit:se(h,["prevent"])},[p("div",aw,[b[0]||(b[0]=p("label",null,"CSV file",-1)),p("input",{type:"file",accept:".csv",onChange:c,required:"",class:"form-input"},null,32)]),t.error?(z(),$("div",lw,J(t.error),1)):St("",!0),t.result?(z(),$("div",cw,[p("p",null,"Imported "+J(t.result.marshalsCreated)+" marshals and "+J(t.result.assignmentsCreated)+" assignments",1),t.result.errors&&t.result.errors.length>0?(z(),$("div",uw,[b[1]||(b[1]=p("strong",null,"Errors:",-1)),p("ul",null,[(z(!0),$(te,null,Le(t.result.errors,(P,k)=>(z(),$("li",{key:k},J(P),1))),128))])])):St("",!0)])):St("",!0),p("div",hw,[p("button",{type:"button",onClick:f,class:"btn btn-secondary"}," Cancel "),p("button",{type:"submit",class:"btn btn-primary",disabled:t.importing},J(t.importing?"Importing...":"Import marshals"),9,dw)])],32)]),Wt(pi,{show:l.value,title:"Unsaved Changes",message:"You have unsaved changes. Are you sure you want to close?",onConfirm:_,onCancel:m},null,8,["show"])])):St("",!0)}},pw=Fe(fw,[["__scopeId","data-v-50932da5"]]),mw={class:"button-group"},_w={class:"locations-list"},gw=["onClick"],vw={class:"location-info"},yw={class:"location-description"},bw={class:"location-status"},ww={class:"location-assignments"},Cw={__name:"CheckpointsList",props:{locations:{type:Array,required:!0}},emits:["add-checkpoint","import-checkpoints","select-location"],setup(t){const n=t,i=Ee(()=>[...n.locations].sort((o,r)=>{const l=o.name,c=r.name,h=parseFloat(l),f=parseFloat(c),_=!isNaN(h)&&String(h)===l.trim(),m=!isNaN(f)&&String(f)===c.trim();return _&&m?h-f:l.localeCompare(c,void 0,{numeric:!0,sensitivity:"base"})}));return(o,r)=>(z(),$("div",null,[p("h3",null,"Checkpoints ("+J(t.locations.length)+")",1),p("div",mw,[p("button",{onClick:r[0]||(r[0]=l=>o.$emit("add-checkpoint")),class:"btn btn-small btn-primary"}," Add checkpoint "),p("button",{onClick:r[1]||(r[1]=l=>o.$emit("import-checkpoints")),class:"btn btn-small btn-secondary"}," Import CSV ")]),p("div",_w,[(z(!0),$(te,null,Le(i.value,l=>(z(),$("div",{key:l.id,class:fe(["location-item",{"location-full":l.checkedInCount>=l.requiredMarshals,"location-missing":l.checkedInCount===0}]),onClick:c=>o.$emit("select-location",l)},[p("div",vw,[p("strong",null,J(l.name),1),p("span",yw,J(l.description),1),p("span",bw,J(l.checkedInCount)+"/"+J(l.requiredMarshals),1)]),p("div",ww,[(z(!0),$(te,null,Le(l.assignments,c=>(z(),$("span",{key:c.id,class:fe(["assignment-badge",{"checked-in":c.isCheckedIn}])},J(c.marshalName),3))),128))])],10,gw))),128))])]))}},Sw=Fe(Cw,[["__scopeId","data-v-50dd6618"]]),xw={class:"admins-list"},Ew={class:"admin-info"},Pw={class:"admin-role"},kw=["onClick"],Tw={__name:"AdminsList",props:{admins:{type:Array,required:!0}},emits:["add-admin","remove-admin"],setup(t){return(n,i)=>(z(),$("div",null,[i[1]||(i[1]=p("h3",null,"Event administrators",-1)),p("button",{onClick:i[0]||(i[0]=o=>n.$emit("add-admin")),class:"btn btn-small btn-primary"}," Add administrator "),p("div",xw,[(z(!0),$(te,null,Le(t.admins,o=>(z(),$("div",{key:o.userEmail,class:"admin-item"},[p("div",Ew,[p("strong",null,J(o.userEmail),1),p("span",Pw,J(o.role),1)]),t.admins.length>1?(z(),$("button",{key:0,onClick:r=>n.$emit("remove-admin",o.userEmail),class:"btn btn-small btn-danger"}," Remove ",8,kw)):St("",!0)]))),128))])]))}},Iw=Fe(Tw,[["__scopeId","data-v-c76441fb"]]),Lw={class:"info-modal"},Aw=["innerHTML"],Mw={class:"info-actions"},Rw={__name:"InfoModal",props:{show:{type:Boolean,default:!1},title:{type:String,default:"Information"},message:{type:String,required:!0},okText:{type:String,default:"OK"}},emits:["close"],setup(t,{emit:n}){const i=n,o=()=>{i("close")};return(r,l)=>t.show?(z(),$("div",{key:0,class:"modal-overlay",onClick:se(o,["self"])},[p("div",Lw,[p("h3",null,J(t.title),1),p("div",{class:"info-content",innerHTML:t.message},null,8,Aw),p("div",Mw,[p("button",{onClick:o,class:"btn btn-primary"},J(t.okText),1)])])])):St("",!0)}},Ow=Fe(Rw,[["__scopeId","data-v-e8797538"]]),Dw={class:"admin-event-manage"},Nw={class:"header"},Bw={class:"header-left"},Fw={key:0},zw={class:"event-date"},$w={class:"header-actions"},Uw={class:"container"},Hw={class:"tabs-nav"},Zw={key:0,class:"tab-content-wrapper"},Ww={class:"details-container"},jw={class:"details-section"},Vw={class:"form-group"},qw={class:"form-group"},Gw={class:"form-group"},Kw={class:"form-group"},Jw={class:"form-actions"},Xw=["disabled"],Yw={class:"details-section"},Qw={key:1,class:"tab-content-wrapper"},tC={class:"content-grid"},eC={class:"map-section"},nC={class:"sidebar"},iC={class:"section"},sC={key:2,class:"tab-content-wrapper"},oC={class:"marshals-tab-header"},rC={class:"button-group"},aC={class:"marshals-grid"},lC={class:"marshals-table"},cC={key:0,class:"sort-indicator"},uC={key:0,class:"sort-indicator"},hC={key:0,class:"sort-indicator"},dC={key:0,class:"sort-indicator"},fC={key:0,class:"sort-indicator"},pC=["onClick"],mC=["rowspan"],_C=["rowspan"],gC=["rowspan"],vC=["value","onChange"],yC=["rowspan"],bC=["onClick"],wC=["onClick"],CC=["onClick"],SC={class:"hide-on-mobile"},xC={class:"hide-on-mobile"},EC={class:"hide-on-mobile"},PC=["onClick"],kC=["onClick"],TC={key:0,class:"modal-sidebar"},IC={class:"modal-sidebar-content"},LC={key:0,class:"location-set-notice"},AC={class:"form-group"},MC={class:"form-group"},RC={class:"form-group"},OC={key:0,class:"form-error"},DC={class:"form-row"},NC={class:"form-group"},BC={class:"form-group"},FC={class:"form-group"},zC={class:"modal-actions"},$C={class:"modal-content modal-content-large"},UC={class:"edit-modal-tabs-nav"},HC={key:0,class:"edit-modal-tab-content"},ZC={class:"form-group"},WC={class:"form-group"},jC={class:"form-group"},VC={key:0,class:"form-error"},qC={class:"form-row"},GC={class:"form-group"},KC=["value","disabled"],JC={class:"form-group"},XC=["value","disabled"],YC={class:"form-group"},QC={key:1,class:"edit-modal-tab-content"},t0={class:"form-group"},e0={style:{"margin-top":"0"}},n0={class:"assignments-list"},i0={class:"assignment-info"},s0={style:{display:"flex","align-items":"center",gap:"8px"}},o0=["title"],r0={key:0,class:"pending-badge"},a0={key:0,class:"check-in-info"},l0={class:"check-in-method"},c0={class:"distance-info"},u0={class:"assignment-actions"},h0=["onClick"],d0=["onClick"],f0={class:"assignment-info"},p0={style:{display:"flex","align-items":"center",gap:"8px"}},m0={class:"assignment-actions"},_0=["onClick"],g0={class:"modal-content modal-content-large"},v0={key:0,class:"edit-modal-tabs-nav"},y0={key:1,class:"edit-modal-tab-content"},b0={class:"form-group"},w0={class:"form-group"},C0={class:"form-group"},S0={class:"form-group"},x0={key:2,class:"edit-modal-tab-content"},E0={style:{"margin-top":"0"}},P0={class:"assignments-list"},k0={class:"assignment-info"},T0={style:{display:"flex","align-items":"center",gap:"8px"}},I0=["title"],L0={key:0,class:"pending-badge"},A0={key:0,class:"check-in-info"},M0={class:"check-in-method"},R0={class:"distance-info"},O0={class:"assignment-actions"},D0=["onClick"],N0=["onClick"],B0={class:"assignment-info"},F0={style:{display:"flex","align-items":"center",gap:"8px"}},z0={class:"assignment-actions"},$0=["onClick"],U0={class:"form-group",style:{"margin-top":"1.5rem"}},H0=["value"],Z0=["disabled"],W0={class:"modal-actions-fixed"},j0={class:"modal-content"},V0={style:{margin:"1rem 0","padding-left":"1.5rem"}},q0={class:"modal-actions",style:{"flex-direction":"column",gap:"0.5rem"}},G0={class:"modal-content"},K0={key:0,class:"assign-marshal-modal-section"},J0=["value"],X0=["disabled"],Y0={key:1,class:"assign-marshal-modal-section",style:{background:"#f5f7fa",padding:"1.5rem","border-radius":"8px"}},Q0={class:"form-group"},tS={class:"form-group"},eS={class:"form-group"},nS={key:5,class:"move-checkpoint-overlay"},iS={class:"move-checkpoint-instructions"},sS={__name:"AdminEventManage",setup(t){const n=nd(),i=ml(),o=bl(),r=H("course"),l=H("course"),c=H("course"),h=H(null),f=H([]),_=H([]),m=H(null),y=H(!1),b=H(!1),P=H([]),k=H(!1),A=H(!1),B=H(null),Y=H(!1),X=H(null),G=H(!1),Q=H(!1),q=H(null),K=H(null),lt=H(!1),mt=H(!1),gt=H(!1),ht=H(null),W=H(null),j=H(null),vt=H(!1),Lt=H(!1),xt=H({id:"",name:"",description:"",latitude:0,longitude:0,requiredMarshals:1,what3Words:""}),bt=H(""),wt=H(!1),tt=H(!1),ee=H({name:"",email:"",phoneNumber:""}),yt=H(!1),It=H({marshalName:"",locations:[],marshal:null}),Nt=H(null),Ht=H([]),$t=H(!1),_t=H(null),dt=H({id:"",name:"",email:"",phoneNumber:"",notes:""}),O=H("name"),it=H("asc"),nt=H(""),ut=H(!1),Et=H([]),w=H([]),C=H([]),T=H([]),D=H(!1),U=H(""),N=H(""),st=H(!1),ot=H(""),et=H(""),Z=H(null),pt=H({name:"",description:"",eventDate:"",timeZoneId:"UTC"}),ct=H(!1),rt=H({name:"",description:"",latitude:0,longitude:0,requiredMarshals:1,what3Words:""}),kt=H({email:""}),Bt=Ee(()=>`${window.location.origin}/event/${n.params.eventId}`),Kt=Ee(()=>{const E=[...Ht.value];return E.sort((v,S)=>{let at=0;if(O.value==="name")at=v.name.localeCompare(S.name);else if(O.value==="email"){const Ft=v.email||"",Xt=S.email||"";at=Ft.localeCompare(Xt)}else if(O.value==="phone"){const Ft=v.phoneNumber||"",Xt=S.phoneNumber||"";at=Ft.localeCompare(Xt)}else if(O.value==="checkpoint"){const Ft=Ue(v.id),Xt=Ue(S.id),Te=Ft.length>0?Xn(Ft[0].locationId):"",Qe=Xt.length>0?Xn(Xt[0].locationId):"",dn=parseFloat(Te),Rn=parseFloat(Qe),Vi=!isNaN(dn)&&String(dn)===Te.trim(),jr=!isNaN(Rn)&&String(Rn)===Qe.trim();Vi&&jr?at=dn-Rn:at=Te.localeCompare(Qe,void 0,{numeric:!0,sensitivity:"base"})}else if(O.value==="status"){const Ft=Ue(v.id),Xt=Ue(S.id),Te=Ft.length>0&&Ft[0].isCheckedIn?1:0;at=(Xt.length>0&&Xt[0].isCheckedIn?1:0)-Te}return it.value==="asc"?at:-at}),E});Ee(()=>_t.value?_.value.filter(E=>!_t.value.assignedLocationIds.includes(E.id)):_.value);const jt=Ee(()=>{if(!_t.value)return _.value;const E=_t.value.assignedLocationIds||[],v=C.value.map(at=>at.locationId),S=T.value;return _.value.filter(at=>!E.includes(at.id)&&!v.includes(at.id)||S.includes(at.id))}),Pe=Ee(()=>{let E=Ht.value;if(m.value){const v=m.value.assignments.map(at=>at.marshalName),S=Et.value.map(at=>at.marshalName);E=Ht.value.filter(at=>!v.includes(at.name)&&!S.includes(at.name))}return E.slice().sort((v,S)=>v.name.localeCompare(S.name))}),ue=(E,v,S)=>{ot.value=E,et.value=v,Z.value=S,st.value=!0},ze=()=>{st.value=!1,Z.value&&(Z.value(),Z.value=null)},Ge=()=>{st.value=!1,Z.value=null},Ut=()=>{ut.value=!0},hn=()=>{ct.value=!0},ke=async()=>{try{await o.updateEvent(n.params.eventId,{...pt.value}),await ve(),ct.value=!1}catch(E){console.error("Failed to update event:",E),alert("Failed to update event. Please try again.")}},Ce=E=>{ut.value||Et.value.length>0||w.value.length>0||C.value.length>0||T.value.length>0?ue("Unsaved Changes","You have unsaved changes. Are you sure you want to close without saving?",()=>{ut.value=!1,Et.value=[],w.value=[],C.value=[],T.value=[],E()}):E()},Ye=E=>{if(!E||E.trim()==="")return!0;if(!/^[a-z]{1,20}[./][a-z]{1,20}[./][a-z]{1,20}$/.test(E))return!1;const S=E.includes("."),at=E.includes("/");return S!==at},ve=async()=>{try{if(await o.fetchEvent(n.params.eventId),h.value=o.currentEvent,h.value){let E="";if(h.value.eventDate){const v=new Date(h.value.eventDate),S=v.getFullYear(),at=String(v.getMonth()+1).padStart(2,"0"),Ft=String(v.getDate()).padStart(2,"0"),Xt=String(v.getHours()).padStart(2,"0"),Te=String(v.getMinutes()).padStart(2,"0");E=`${S}-${at}-${Ft}T${Xt}:${Te}`}pt.value={name:h.value.name||"",description:h.value.description||"",eventDate:E,timeZoneId:h.value.timeZoneId||"UTC"},ct.value=!1}await o.fetchLocations(n.params.eventId),f.value=o.locations,await o.fetchEventStatus(n.params.eventId),_.value=o.eventStatus.locations,await Bi(),await Br()}catch(E){console.error("Failed to load event data:",E)}},Br=async()=>{try{const E=await si.getByEvent(n.params.eventId);Ht.value=E.data}catch(E){console.error("Failed to load marshals:",E)}},Bi=async()=>{try{const E=await Ea.getAdmins(n.params.eventId);P.value=E.data}catch(E){console.error("Failed to load event admins:",E)}},mo=async E=>{try{await Ea.addAdmin(n.params.eventId,E),await Bi(),go()}catch(v){console.error("Failed to add admin:",v),alert(v.response?.data?.message||"Failed to add administrator. Please try again.")}},_o=async E=>{ue("Remove Administrator",`Remove ${E} as an administrator?`,async()=>{try{await Ea.removeAdmin(n.params.eventId,E),await Bi()}catch(v){console.error("Failed to remove admin:",v),alert(v.response?.data?.message||"Failed to remove administrator. Please try again.")}})},go=()=>{k.value=!1,kt.value={email:""},ut.value=!1},Fr=async E=>{if(!E){X.value="Please select a GPX file";return}Y.value=!0,X.value=null;try{await ss.uploadGpx(n.params.eventId,E),await ve(),vo()}catch(v){console.error("Failed to upload route:",v),X.value=v.response?.data?.message||"Failed to upload route. Please try again."}finally{Y.value=!1}},vo=()=>{A.value=!1,B.value=null,X.value=null},zr=async({file:E,deleteExisting:v})=>{if(!E){ht.value="Please select a CSV file";return}mt.value=!0,ht.value=null,W.value=null;try{const S=await Ti.importCsv(n.params.eventId,E,v);W.value=S.data,await ve(),yo();const at=S.data;let Ft=`<p>Created <strong>${at.locationsCreated}</strong> location(s) and <strong>${at.assignmentsCreated}</strong> assignment(s)</p>`;at.errors&&at.errors.length>0&&(Ft+='<br><p><strong>Errors:</strong></p><ul style="margin: 0; padding-left: 1.5rem;">',at.errors.forEach(Xt=>{Ft+=`<li>${Xt}</li>`}),Ft+="</ul>"),U.value="Import Complete",N.value=Ft,D.value=!0}catch(S){console.error("Failed to import locations:",S),ht.value=S.response?.data?.message||"Failed to import locations. Please try again."}finally{mt.value=!1}},yo=()=>{G.value=!1,q.value=null,lt.value=!1,ht.value=null,W.value=null},$r=E=>{y.value?(rt.value.latitude=E.lat,rt.value.longitude=E.lng,Ut()):Lt.value?(xt.value.latitude=E.lat,xt.value.longitude=E.lng,Lt.value=!1,vt.value=!0,Ut()):_.value.find(S=>_i(E.lat,E.lng,S.latitude,S.longitude)<=25)||(rt.value.latitude=E.lat,rt.value.longitude=E.lng,y.value=!0,Ut())},ys=E=>{bo(E)},bo=E=>{m.value=E,xt.value={id:E.id,name:E.name,description:E.description||"",latitude:E.latitude,longitude:E.longitude,requiredMarshals:E.requiredMarshals,what3Words:E.what3Words||""},Et.value=[],w.value=[],ut.value=!1,vt.value=!0},Ur=async()=>{if(!Ye(rt.value.what3Words)){alert("Invalid What3Words format. Please use word.word.word or word/word/word (lowercase letters only, 1-20 characters each)");return}try{await o.createLocation({eventId:n.params.eventId,...rt.value}),await ve(),bs()}catch(E){console.error("Failed to save location:",E),alert("Failed to save location. Please try again.")}},bs=()=>{y.value=!1,rt.value={name:"",description:"",latitude:0,longitude:0,requiredMarshals:1,what3Words:""},ut.value=!1},Fi=()=>{vt.value=!1,m.value=null,Lt.value=!1,l.value="details",tt.value=!1,bt.value="",wt.value=!1,ee.value={name:"",email:"",phoneNumber:""},xt.value={id:"",name:"",description:"",latitude:0,longitude:0,requiredMarshals:1,what3Words:""},Et.value=[],w.value=[],ut.value=!1},$e=()=>{tt.value=!1,bt.value="",wt.value=!1,ee.value={name:"",email:"",phoneNumber:""}},Ct=()=>{Lt.value=!0,vt.value=!1,r.value="course"},wo=()=>{Lt.value=!1,vt.value=!0},ws=async()=>{if(!Ye(xt.value.what3Words)){alert("Invalid What3Words format. Please use word.word.word or word/word/word (lowercase letters only, 1-20 characters each)");return}try{await Ti.update(n.params.eventId,xt.value.id,{eventId:n.params.eventId,name:xt.value.name,description:xt.value.description,latitude:xt.value.latitude,longitude:xt.value.longitude,requiredMarshals:xt.value.requiredMarshals,what3Words:xt.value.what3Words||null});for(const E of w.value)await o.deleteAssignment(n.params.eventId,E);for(const E of Et.value){const v=Ht.value.find(S=>S.id===E.marshalId);if(v&&v.assignedLocationIds.length>0){const S=v.assignedLocationIds.filter(at=>at!==m.value.id).map(at=>Xn(at));if(S.length>0){const at=await new Promise(Ft=>{It.value={marshalName:v.name,locations:S,marshal:v},Nt.value=Ft,yt.value=!0});if(at==="cancel")continue;if(at==="move"){for(const Ft of v.assignedLocationIds)if(Ft!==m.value.id){const Xt=_.value.find(Te=>Te.id===Ft);if(Xt){const Te=Xt.assignments.find(Qe=>Qe.marshalName===v.name);Te&&await o.deleteAssignment(n.params.eventId,Te.id)}}}}}await o.createAssignment({eventId:n.params.eventId,locationId:m.value.id,marshalId:E.marshalId,marshalName:E.marshalName})}await ve(),Fi()}catch(E){console.error("Failed to update checkpoint:",E),alert("Failed to update checkpoint. Please try again.")}},Co=async()=>{ue("Delete Checkpoint",`Are you sure you want to delete "${xt.value.name}"? This will remove all marshal assignments for this checkpoint.`,async()=>{try{await Ti.delete(n.params.eventId,xt.value.id),await ve(),Fi()}catch(E){console.error("Failed to delete checkpoint:",E),alert("Failed to delete checkpoint. Please try again.")}})},So=async E=>{try{await os.adminCheckIn(E.id),await ve()}catch(v){console.error("Failed to toggle check-in:",v),alert("Failed to toggle check-in. Please try again.")}},Cs=E=>{const v=w.value.indexOf(E.id);v>-1?w.value.splice(v,1):w.value.push(E.id),Ut()},mi=E=>w.value.includes(E),Jn=()=>{b.value=!0},xo=()=>{i.push({name:"AdminDashboard"})},Hr=E=>new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),Eo=E=>E?new Date(E).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"",_i=(E,v,S,at)=>{const Xt=E*Math.PI/180,Te=S*Math.PI/180,Qe=(S-E)*Math.PI/180,dn=(at-v)*Math.PI/180,Rn=Math.sin(Qe/2)*Math.sin(Qe/2)+Math.cos(Xt)*Math.cos(Te)*Math.sin(dn/2)*Math.sin(dn/2);return 6371e3*(2*Math.atan2(Math.sqrt(Rn),Math.sqrt(1-Rn)))},zi=E=>{if(!E.isCheckedIn)return{icon:"",color:"red",text:"Not checked in"};if(!E.checkInLatitude||!E.checkInLongitude||!m.value.latitude||!m.value.longitude)return{icon:"",color:"green",text:"Checked in"};const v=_i(m.value.latitude,m.value.longitude,E.checkInLatitude,E.checkInLongitude);return v<=25?{icon:"",color:"green",text:`Checked in (${Math.round(v)}m away)`}:{icon:"",color:"orange",text:`Checked in (${Math.round(v)}m away - outside 25m range)`}},Po=E=>{E.eventId===n.params.eventId&&(o.updateAssignmentCheckIn(E.assignment),ve())},$i=E=>{_t.value=E,dt.value={id:E.id,name:E.name,email:E.email||"",phoneNumber:E.phoneNumber||"",notes:E.notes||""},c.value="details",C.value=[],T.value=[],ut.value=!1,$t.value=!0},Ui=()=>{_t.value=null,dt.value={id:"",name:"",email:"",phoneNumber:"",notes:""},ut.value=!1,$t.value=!0},gi=E=>{O.value===E?it.value=it.value==="asc"?"desc":"asc":(O.value=E,it.value="asc")},Hi=()=>{$t.value=!1,_t.value=null,nt.value="",c.value="details",C.value=[],T.value=[],dt.value={id:"",name:"",email:"",phoneNumber:"",notes:""},ut.value=!1},Zr=async()=>{try{if(_t.value){await si.update(n.params.eventId,dt.value.id,{name:dt.value.name,email:dt.value.email,phoneNumber:dt.value.phoneNumber,notes:dt.value.notes});for(const E of T.value)await o.deleteAssignment(n.params.eventId,E);for(const E of C.value)await o.createAssignment({eventId:n.params.eventId,locationId:E.locationId,marshalId:_t.value.id,marshalName:_t.value.name})}else await si.create({eventId:n.params.eventId,name:dt.value.name,email:dt.value.email,phoneNumber:dt.value.phoneNumber,notes:dt.value.notes});await ve(),Hi()}catch(E){console.error("Failed to save marshal:",E),alert("Failed to save marshal. Please try again.")}},Wr=async()=>{ue("Delete Marshal",`Are you sure you want to delete "${dt.value.name}"? This will remove all assignments for this marshal.`,async()=>{try{await si.delete(n.params.eventId,dt.value.id),await ve(),Hi()}catch(E){console.error("Failed to delete marshal:",E),alert("Failed to delete marshal. Please try again.")}})},Xn=E=>{const v=_.value.find(S=>S.id===E);return v?v.name:"Unknown"},Zi=(E,v)=>!E&&E!==0?"":parseFloat(E).toFixed(v),Yn=()=>{if(!_t.value)return[];const E=[];return _.value.forEach(v=>{v.assignments.forEach(S=>{const at=Ht.value.find(Ft=>Ft.name===S.marshalName);at&&at.id===_t.value.id&&E.push({...S,locationId:v.id,locationLatitude:v.latitude,locationLongitude:v.longitude})})}),E},ko=()=>{if(!_t.value)return 0;const E=Yn().length,v=C.value.length,S=T.value.length;return E+v-S},vi=E=>{if(!E.isCheckedIn)return{icon:"",color:"red",text:"Not checked in"};if(!E.checkInLatitude||!E.checkInLongitude||!E.locationLatitude||!E.locationLongitude)return{icon:"",color:"green",text:"Checked in"};const v=_i(E.locationLatitude,E.locationLongitude,E.checkInLatitude,E.checkInLongitude);return v<=25?{icon:"",color:"green",text:`Checked in (${Math.round(v)}m away)`}:{icon:"",color:"orange",text:`Checked in (${Math.round(v)}m away - outside 25m range)`}},yi=async E=>{try{if(await os.adminCheckIn(E.id),await ve(),_t.value){const v=await si.getById(n.params.eventId,_t.value.id);_t.value=v.data}}catch(v){console.error("Failed to toggle check-in:",v),alert("Failed to toggle check-in. Please try again.")}},Vt=E=>{const v=T.value.indexOf(E.id);v>-1?T.value.splice(v,1):T.value.push(E.id),Ut()},ne=E=>T.value.includes(E),Wi=()=>{if(!nt.value)return;const E=_t.value?.assignedLocationIds?.includes(nt.value),v=C.value.some(S=>S.locationId===nt.value);if(E||v){alert("Marshal is already assigned to this checkpoint.");return}C.value.push({locationId:nt.value}),Ut(),nt.value=""},Qn=E=>{const v=C.value.findIndex(S=>S.locationId===E);v>-1&&C.value.splice(v,1)},bn=async E=>{yt.value=!1,Nt.value&&(await Nt.value(E),Nt.value=null)},Ss=async()=>{if(!bt.value||!m.value)return;const E=Ht.value.find(at=>at.id===bt.value);if(!E)return;const v=m.value.assignments.some(at=>at.marshalName===E.name),S=Et.value.some(at=>at.marshalId===E.id);if(v||S){alert(`${E.name} is already assigned to this checkpoint.`);return}Et.value.push({marshalId:E.id,marshalName:E.name}),Ut(),$e()},Rt=E=>{const v=Et.value.findIndex(S=>S.marshalId===E);v>-1&&Et.value.splice(v,1)},he=async()=>{if(!ee.value.name){alert("Please enter a name for the marshal.");return}try{const v=(await si.create({eventId:n.params.eventId,name:ee.value.name,email:ee.value.email,phoneNumber:ee.value.phoneNumber,notes:""})).data;Et.value.push({marshalId:v.id,marshalName:v.name}),Ut(),Ht.value.push(v),$e()}catch(E){console.error("Failed to add new marshal:",E),alert("Failed to add new marshal. Please try again.")}},xs=()=>{wt.value=!1,ee.value={name:"",email:"",phoneNumber:""}},Ue=E=>{const v=[];return _.value.forEach(S=>{S.assignments.forEach(at=>{const Ft=Ht.value.find(Xt=>Xt.name===at.marshalName);Ft&&Ft.id===E&&v.push({...at,locationId:S.id,locationLatitude:S.latitude,locationLongitude:S.longitude})})}),v},He=E=>E.isCheckedIn?E.checkInMethod==="Admin"?"admin-checked-in":E.checkInLatitude&&E.checkInLongitude&&E.locationLatitude&&E.locationLongitude&&_i(E.locationLatitude,E.locationLongitude,E.checkInLatitude,E.checkInLongitude)>25?"wrong-location":"checked-in":"not-checked-in",To=E=>`status-${He(E)}`,ji=E=>E.isCheckedIn?E.checkInMethod==="Admin"?"":E.checkInLatitude&&E.checkInLongitude&&E.locationLatitude&&E.locationLongitude&&_i(E.locationLatitude,E.locationLongitude,E.checkInLatitude,E.checkInLongitude)>25?"":"":"",An=async(E,v)=>{try{v==="not-checked-in"?E.isCheckedIn&&await os.adminCheckIn(E.id):E.isCheckedIn||await os.adminCheckIn(E.id),await ve()}catch(S){console.error("Failed to change assignment status:",S),alert("Failed to change status. Please try again.")}},de=async E=>{ue("Delete Marshal",`Are you sure you want to delete "${E.name}"? This will remove all assignments for this marshal.`,async()=>{try{await si.delete(n.params.eventId,E.id),await ve()}catch(v){console.error("Failed to delete marshal:",v),alert("Failed to delete marshal. Please try again.")}})},Mn=async E=>{if(!E){ht.value="Please select a CSV file";return}gt.value=!0,ht.value=null,j.value=null;try{const v=await si.importCsv(n.params.eventId,E);j.value=v.data,await ve(),ti();const S=v.data;let at=`<p>Imported <strong>${S.marshalsCreated}</strong> marshal(s) and <strong>${S.assignmentsCreated}</strong> assignment(s)</p>`;S.errors&&S.errors.length>0&&(at+='<br><p><strong>Errors:</strong></p><ul style="margin: 0; padding-left: 1.5rem;">',S.errors.forEach(Ft=>{at+=`<li>${Ft}</li>`}),at+="</ul>"),U.value="Import Complete",N.value=at,D.value=!0}catch(v){console.error("Failed to import marshals:",v),ht.value=v.response?.data?.message||"Failed to import marshals. Please try again."}finally{gt.value=!1}},ti=()=>{Q.value=!1,K.value=null,ht.value=null,j.value=null};return lo(async()=>{await ve(),Pb(Po)}),al(()=>{kb()}),(E,v)=>(z(),$("div",Dw,[p("header",Nw,[p("div",Bw,[p("button",{onClick:xo,class:"btn-back"}," Back"),h.value?(z(),$("div",Fw,[p("h1",null,J(h.value.name),1),p("p",zw,J(Hr(h.value.eventDate)),1)])):St("",!0)]),p("div",$w,[p("button",{onClick:v[0]||(v[0]=S=>A.value=!0),class:"btn btn-secondary"},"Upload route"),p("button",{onClick:Jn,class:"btn btn-primary"},"Share marshal link")])]),p("div",Uw,[p("div",Hw,[p("button",{class:fe(["tab-button",{active:r.value==="course"}]),onClick:v[1]||(v[1]=S=>r.value="course")}," Course ",2),p("button",{class:fe(["tab-button",{active:r.value==="marshals"}]),onClick:v[2]||(v[2]=S=>r.value="marshals")}," Marshals ",2),p("button",{class:fe(["tab-button",{active:r.value==="details"}]),onClick:v[3]||(v[3]=S=>r.value="details")}," Event details ",2)]),r.value==="details"?(z(),$("div",Zw,[p("div",Ww,[p("div",jw,[v[65]||(v[65]=p("h2",null,"Event Information",-1)),p("form",{onSubmit:se(ke,["prevent"]),class:"event-details-form"},[p("div",Vw,[v[60]||(v[60]=p("label",null,"Event Name",-1)),Zt(p("input",{"onUpdate:modelValue":v[4]||(v[4]=S=>pt.value.name=S),type:"text",required:"",class:"form-input",onInput:hn},null,544),[[ie,pt.value.name]])]),p("div",qw,[v[61]||(v[61]=p("label",null,"Description",-1)),Zt(p("textarea",{"onUpdate:modelValue":v[5]||(v[5]=S=>pt.value.description=S),rows:"3",class:"form-input",onInput:hn},null,544),[[ie,pt.value.description]])]),p("div",Gw,[v[62]||(v[62]=p("label",null,"Event Date & Time",-1)),Zt(p("input",{"onUpdate:modelValue":v[6]||(v[6]=S=>pt.value.eventDate=S),type:"datetime-local",required:"",class:"form-input",onInput:hn},null,544),[[ie,pt.value.eventDate]])]),p("div",Kw,[v[64]||(v[64]=p("label",null,"Time Zone",-1)),Zt(p("select",{"onUpdate:modelValue":v[7]||(v[7]=S=>pt.value.timeZoneId=S),required:"",class:"form-input",onChange:hn},[...v[63]||(v[63]=[hl('<option value="UTC" data-v-ef29ccdc>UTC</option><option value="America/New_York" data-v-ef29ccdc>Eastern Time (ET)</option><option value="America/Chicago" data-v-ef29ccdc>Central Time (CT)</option><option value="America/Denver" data-v-ef29ccdc>Mountain Time (MT)</option><option value="America/Los_Angeles" data-v-ef29ccdc>Pacific Time (PT)</option><option value="America/Anchorage" data-v-ef29ccdc>Alaska Time (AKT)</option><option value="Pacific/Honolulu" data-v-ef29ccdc>Hawaii Time (HT)</option><option value="Europe/London" data-v-ef29ccdc>London (GMT/BST)</option><option value="Europe/Paris" data-v-ef29ccdc>Paris (CET/CEST)</option><option value="Asia/Tokyo" data-v-ef29ccdc>Tokyo (JST)</option><option value="Australia/Sydney" data-v-ef29ccdc>Sydney (AEDT/AEST)</option>',11)])],544),[[Yo,pt.value.timeZoneId]])]),p("div",Jw,[p("button",{type:"submit",class:"btn btn-primary",disabled:!ct.value}," Save Changes ",8,Xw)])],32)]),p("div",Yw,[Wt(Iw,{admins:P.value,onAddAdmin:v[8]||(v[8]=S=>k.value=!0),onRemoveAdmin:_o},null,8,["admins"])])])])):St("",!0),r.value==="course"?(z(),$("div",Qw,[p("div",tC,[p("div",eC,[Wt(Ad,{locations:_.value,route:h.value?.route||[],clickable:!0,onMapClick:$r,onLocationClick:ys},null,8,["locations","route"])]),p("div",nC,[p("div",iC,[Wt(Sw,{locations:_.value,onAddCheckpoint:v[9]||(v[9]=S=>y.value=!0),onImportCheckpoints:v[10]||(v[10]=S=>G.value=!0),onSelectLocation:bo},null,8,["locations"])])])])])):St("",!0),r.value==="marshals"?(z(),$("div",sC,[p("div",oC,[v[66]||(v[66]=p("h2",null,"Marshals management",-1)),p("div",rC,[p("button",{onClick:Ui,class:"btn btn-primary"}," Add marshal "),p("button",{onClick:v[11]||(v[11]=S=>Q.value=!0),class:"btn btn-secondary"}," Import CSV ")])]),p("div",aC,[p("table",lC,[p("thead",null,[p("tr",null,[p("th",{onClick:v[12]||(v[12]=S=>gi("name")),class:"sortable"},[v[67]||(v[67]=je(" Name ",-1)),O.value==="name"?(z(),$("span",cC,J(it.value==="asc"?"":""),1)):St("",!0)]),p("th",{onClick:v[13]||(v[13]=S=>gi("email")),class:"sortable hide-on-mobile"},[v[68]||(v[68]=je(" Email ",-1)),O.value==="email"?(z(),$("span",uC,J(it.value==="asc"?"":""),1)):St("",!0)]),p("th",{onClick:v[14]||(v[14]=S=>gi("phone")),class:"sortable hide-on-mobile"},[v[69]||(v[69]=je(" Phone ",-1)),O.value==="phone"?(z(),$("span",hC,J(it.value==="asc"?"":""),1)):St("",!0)]),p("th",{onClick:v[15]||(v[15]=S=>gi("checkpoint")),class:"sortable"},[v[70]||(v[70]=je(" Checkpoint ",-1)),O.value==="checkpoint"?(z(),$("span",dC,J(it.value==="asc"?"":""),1)):St("",!0)]),p("th",{onClick:v[16]||(v[16]=S=>gi("status")),class:"sortable"},[v[71]||(v[71]=je(" Status ",-1)),O.value==="status"?(z(),$("span",fC,J(it.value==="asc"?"":""),1)):St("",!0)]),v[72]||(v[72]=p("th",{class:"hide-on-mobile"},"Actions",-1))])]),p("tbody",null,[(z(!0),$(te,null,Le(Kt.value,S=>(z(),$(te,{key:S.id},[Ue(S.id).length>0?(z(!0),$(te,{key:0},Le(Ue(S.id),(at,Ft)=>(z(),$("tr",{key:`${S.id}-${at.id}`,class:"marshal-row",onClick:Xt=>$i(S)},[Ft===0?(z(),$("td",{key:0,rowspan:Ue(S.id).length},J(S.name),9,mC)):St("",!0),Ft===0?(z(),$("td",{key:1,rowspan:Ue(S.id).length,class:"hide-on-mobile"},J(S.email||"-"),9,_C)):St("",!0),Ft===0?(z(),$("td",{key:2,rowspan:Ue(S.id).length,class:"hide-on-mobile"},J(S.phoneNumber||"-"),9,gC)):St("",!0),p("td",null,J(Xn(at.locationId)),1),p("td",{onClick:v[17]||(v[17]=se(()=>{},["stop"]))},[p("select",{value:He(at),onChange:Xt=>An(at,Xt.target.value),class:fe(["status-select hide-on-mobile",To(at)])},[...v[73]||(v[73]=[p("option",{value:"not-checked-in"},"Not checked-in",-1),p("option",{value:"checked-in"},"Checked-in",-1),p("option",{value:"admin-checked-in"},"Admin checked-in",-1),p("option",{value:"wrong-location"},"Checked-in but not at correct location",-1)])],42,vC),p("span",{class:fe(["status-icon show-on-mobile",To(at)])},J(ji(at)),3)]),Ft===0?(z(),$("td",{key:3,rowspan:Ue(S.id).length,class:"hide-on-mobile"},[p("div",{class:"action-buttons",onClick:v[18]||(v[18]=se(()=>{},["stop"]))},[p("button",{onClick:Xt=>$i(S),class:"btn btn-small btn-secondary"}," Edit ",8,bC),p("button",{onClick:Xt=>de(S),class:"btn btn-small btn-danger"}," Delete ",8,wC)])],8,yC)):St("",!0)],8,pC))),128)):(z(),$("tr",{key:1,class:"marshal-row",onClick:at=>$i(S)},[p("td",null,J(S.name),1),p("td",SC,J(S.email||"-"),1),p("td",xC,J(S.phoneNumber||"-"),1),v[74]||(v[74]=p("td",{style:{color:"#999","font-style":"italic"}},"No checkpoint assigned",-1)),v[75]||(v[75]=p("td",null,[p("span",{class:"hide-on-mobile"},"-"),p("span",{class:"status-icon show-on-mobile",style:{color:"#999"}},"-")],-1)),p("td",EC,[p("div",{class:"action-buttons",onClick:v[19]||(v[19]=se(()=>{},["stop"]))},[p("button",{onClick:at=>$i(S),class:"btn btn-small btn-secondary"}," Edit ",8,PC),p("button",{onClick:at=>de(S),class:"btn btn-small btn-danger"}," Delete ",8,kC)])])],8,CC))],64))),128))])])])])):St("",!0)]),y.value?(z(),$("div",TC,[p("div",IC,[p("button",{onClick:v[20]||(v[20]=S=>Ce(()=>bs())),class:"modal-close-btn"},""),v[83]||(v[83]=p("h2",null,"Add location",-1)),v[84]||(v[84]=p("p",{class:"instruction"},[p("strong",null," Click on the map"),je(" to set the location, or enter coordinates manually ")],-1)),rt.value.latitude!==0&&rt.value.longitude!==0?(z(),$("div",LC,"  Location set on map ")):St("",!0),p("form",{onSubmit:se(Ur,["prevent"])},[p("div",AC,[v[76]||(v[76]=p("label",null,"Name",-1)),Zt(p("input",{"onUpdate:modelValue":v[21]||(v[21]=S=>rt.value.name=S),type:"text",required:"",class:"form-input",onInput:Ut},null,544),[[ie,rt.value.name]])]),p("div",MC,[v[77]||(v[77]=p("label",null,"Description",-1)),Zt(p("input",{"onUpdate:modelValue":v[22]||(v[22]=S=>rt.value.description=S),type:"text",class:"form-input",onInput:Ut},null,544),[[ie,rt.value.description]])]),p("div",RC,[v[78]||(v[78]=p("label",null,"What3Words (optional)",-1)),Zt(p("input",{"onUpdate:modelValue":v[23]||(v[23]=S=>rt.value.what3Words=S),type:"text",class:"form-input",placeholder:"e.g. filled.count.soap or filled/count/soap",onInput:Ut},null,544),[[ie,rt.value.what3Words]]),rt.value.what3Words&&!Ye(rt.value.what3Words)?(z(),$("small",OC," Invalid format. Must be word.word.word or word/word/word (lowercase letters only, 1-20 characters each) ")):St("",!0)]),p("div",DC,[p("div",NC,[v[79]||(v[79]=p("label",null,"Latitude",-1)),Zt(p("input",{"onUpdate:modelValue":v[24]||(v[24]=S=>rt.value.latitude=S),type:"number",step:"any",required:"",class:"form-input",onInput:Ut},null,544),[[ie,rt.value.latitude,void 0,{number:!0}]])]),p("div",BC,[v[80]||(v[80]=p("label",null,"Longitude",-1)),Zt(p("input",{"onUpdate:modelValue":v[25]||(v[25]=S=>rt.value.longitude=S),type:"number",step:"any",required:"",class:"form-input",onInput:Ut},null,544),[[ie,rt.value.longitude,void 0,{number:!0}]])])]),p("div",FC,[v[81]||(v[81]=p("label",null,"Required marshals",-1)),Zt(p("input",{"onUpdate:modelValue":v[26]||(v[26]=S=>rt.value.requiredMarshals=S),type:"number",min:"1",required:"",class:"form-input",onInput:Ut},null,544),[[ie,rt.value.requiredMarshals,void 0,{number:!0}]])]),p("div",zC,[p("button",{type:"button",onClick:v[27]||(v[27]=S=>Ce(()=>bs())),class:"btn btn-secondary"}," Cancel "),v[82]||(v[82]=p("button",{type:"submit",class:"btn btn-primary"},"Add location",-1))])],32)])])):St("",!0),vt.value?(z(),$("div",{key:1,class:"modal",onClick:v[38]||(v[38]=se(S=>Ce(()=>Fi()),["self"]))},[p("div",$C,[p("button",{onClick:v[28]||(v[28]=S=>Ce(()=>Fi())),class:"modal-close-btn"},""),p("h2",null,"Edit checkpoint: "+J(m.value?.name),1),p("div",UC,[p("button",{class:fe(["edit-modal-tab-button",{active:l.value==="details"}]),onClick:v[29]||(v[29]=S=>l.value="details"),type:"button"}," Details ",2),p("button",{class:fe(["edit-modal-tab-button",{active:l.value==="marshals"}]),onClick:v[30]||(v[30]=S=>l.value="marshals"),type:"button"}," Marshals ",2)]),l.value==="details"?(z(),$("div",HC,[p("form",{onSubmit:se(ws,["prevent"])},[p("div",ZC,[v[85]||(v[85]=p("label",null,"Name",-1)),Zt(p("input",{"onUpdate:modelValue":v[31]||(v[31]=S=>xt.value.name=S),type:"text",required:"",class:"form-input",onInput:Ut},null,544),[[ie,xt.value.name]])]),p("div",WC,[v[86]||(v[86]=p("label",null,"Description (optional)",-1)),Zt(p("input",{"onUpdate:modelValue":v[32]||(v[32]=S=>xt.value.description=S),type:"text",class:"form-input",onInput:Ut},null,544),[[ie,xt.value.description]])]),p("div",jC,[v[87]||(v[87]=p("label",null,"What3Words (optional)",-1)),Zt(p("input",{"onUpdate:modelValue":v[33]||(v[33]=S=>xt.value.what3Words=S),type:"text",class:"form-input",placeholder:"e.g. filled.count.soap or filled/count/soap",onInput:Ut},null,544),[[ie,xt.value.what3Words]]),xt.value.what3Words&&!Ye(xt.value.what3Words)?(z(),$("small",VC," Invalid format. Must be word.word.word or word/word/word (lowercase letters only, 1-20 characters each) ")):St("",!0)]),p("div",qC,[p("div",GC,[v[88]||(v[88]=p("label",null,"Latitude",-1)),p("input",{value:Zi(xt.value.latitude,6),onInput:v[34]||(v[34]=S=>{xt.value.latitude=parseFloat(S.target.value)||0,Ut()}),type:"text",required:"",class:"form-input",disabled:Lt.value,placeholder:"e.g., 51.505123"},null,40,KC)]),p("div",JC,[v[89]||(v[89]=p("label",null,"Longitude",-1)),p("input",{value:Zi(xt.value.longitude,6),onInput:v[35]||(v[35]=S=>{xt.value.longitude=parseFloat(S.target.value)||0,Ut()}),type:"text",required:"",class:"form-input",disabled:Lt.value,placeholder:"e.g., -0.091234"},null,40,XC)])]),p("div",YC,[p("button",{type:"button",onClick:Ct,class:fe(["btn btn-secondary",{"btn-primary":Lt.value}])},J(Lt.value?"Click on map to set new location...":"Move checkpoint..."),3)])],32)])):St("",!0),l.value==="marshals"?(z(),$("div",QC,[p("div",t0,[v[90]||(v[90]=p("label",null,"Required marshals",-1)),Zt(p("input",{"onUpdate:modelValue":v[36]||(v[36]=S=>xt.value.requiredMarshals=S),type:"number",min:"1",required:"",class:"form-input",onInput:Ut},null,544),[[ie,xt.value.requiredMarshals,void 0,{number:!0}]])]),p("h3",e0,"Assigned marshals ("+J((m.value?.assignments?.length||0)+Et.value.length)+")",1),p("div",n0,[(z(!0),$(te,null,Le(m.value.assignments,S=>(z(),$("div",{key:S.id,class:fe(["assignment-item",{"checked-in":S.isCheckedIn,"pending-delete":mi(S.id)}])},[p("div",i0,[p("div",s0,[p("span",{class:"status-indicator",style:Gs({color:zi(S).color}),title:zi(S).text},J(zi(S).icon),13,o0),p("strong",null,J(S.marshalName),1),mi(S.id)?(z(),$("span",r0,"Will be removed")):St("",!0)]),S.isCheckedIn?(z(),$("span",a0,[je(J(Eo(S.checkInTime))+" ",1),p("span",l0,"("+J(S.checkInMethod)+")",1)])):St("",!0),p("span",c0,J(zi(S).text),1)]),p("div",u0,[p("button",{onClick:at=>So(S),class:fe(["btn btn-small",S.isCheckedIn?"btn-danger":"btn-secondary"])},J(S.isCheckedIn?"Undo":"Check in"),11,h0),p("button",{onClick:at=>Cs(S),class:fe(["btn btn-small",mi(S.id)?"btn-secondary":"btn-danger"])},J(mi(S.id)?"Undo":"Remove"),11,d0)])],2))),128)),(z(!0),$(te,null,Le(Et.value,S=>(z(),$("div",{key:`pending-${S.marshalId}`,class:"assignment-item pending-add"},[p("div",f0,[p("div",p0,[v[91]||(v[91]=p("span",{class:"status-indicator",style:{color:"#666"}},"",-1)),p("strong",null,J(S.marshalName),1),v[92]||(v[92]=p("span",{class:"pending-badge"},"Will be added",-1))])]),p("div",m0,[p("button",{onClick:at=>Rt(S.marshalId),class:"btn btn-small btn-danger"}," Remove ",8,_0)])]))),128)),p("button",{onClick:v[37]||(v[37]=S=>tt.value=!0),class:"btn btn-secondary",style:{width:"100%","margin-top":"1rem"}}," Assign... ")])])):St("",!0),p("div",{class:"modal-actions-fixed"},[p("button",{type:"button",onClick:ws,class:"btn btn-primary"}," Save changes "),p("button",{type:"button",onClick:Co,class:"btn btn-danger"}," Delete checkpoint ")])])])):St("",!0),Wt(Bb,{show:b.value,link:Bt.value,isDirty:!1,onClose:v[39]||(v[39]=S=>b.value=!1)},null,8,["show","link"]),Wt(Ub,{show:k.value,isDirty:ut.value,onClose:go,onSubmit:mo,"onUpdate:isDirty":Ut},null,8,["show","isDirty"]),Wt(Gb,{show:A.value,uploading:Y.value,error:X.value,isDirty:ut.value,onClose:vo,onSubmit:Fr,"onUpdate:isDirty":Ut},null,8,["show","uploading","error","isDirty"]),Wt(ow,{show:G.value,importing:mt.value,error:ht.value,result:W.value,isDirty:ut.value,onClose:yo,onSubmit:zr,"onUpdate:isDirty":Ut},null,8,["show","importing","error","result","isDirty"]),$t.value?(z(),$("div",{key:2,class:"modal",onClick:v[48]||(v[48]=se(S=>Ce(Hi),["self"]))},[p("div",g0,[p("button",{onClick:v[40]||(v[40]=S=>Ce(Hi)),class:"modal-close-btn"},""),p("h2",null,J(_t.value?"Edit marshal":"Add marshal"),1),_t.value?(z(),$("div",v0,[p("button",{class:fe(["edit-modal-tab-button",{active:c.value==="details"}]),onClick:v[41]||(v[41]=S=>c.value="details"),type:"button"}," Details ",2),p("button",{class:fe(["edit-modal-tab-button",{active:c.value==="checkpoints"}]),onClick:v[42]||(v[42]=S=>c.value="checkpoints"),type:"button"}," Checkpoints ",2)])):St("",!0),c.value==="details"||!_t.value?(z(),$("div",y0,[p("div",b0,[v[93]||(v[93]=p("label",null,"Name *",-1)),Zt(p("input",{"onUpdate:modelValue":v[43]||(v[43]=S=>dt.value.name=S),type:"text",required:"",class:"form-input",onInput:Ut},null,544),[[ie,dt.value.name]])]),p("div",w0,[v[94]||(v[94]=p("label",null,"Email",-1)),Zt(p("input",{"onUpdate:modelValue":v[44]||(v[44]=S=>dt.value.email=S),type:"email",class:"form-input",onInput:Ut},null,544),[[ie,dt.value.email]])]),p("div",C0,[v[95]||(v[95]=p("label",null,"Phone number",-1)),Zt(p("input",{"onUpdate:modelValue":v[45]||(v[45]=S=>dt.value.phoneNumber=S),type:"tel",class:"form-input",onInput:Ut},null,544),[[ie,dt.value.phoneNumber]])]),p("div",S0,[v[96]||(v[96]=p("label",null,"Notes",-1)),Zt(p("textarea",{"onUpdate:modelValue":v[46]||(v[46]=S=>dt.value.notes=S),class:"form-input",rows:"3",placeholder:"e.g., Needs to leave by 11am",onInput:Ut},null,544),[[ie,dt.value.notes]])])])):St("",!0),c.value==="checkpoints"&&_t.value?(z(),$("div",x0,[p("h3",E0,"Assigned checkpoints ("+J(ko())+")",1),p("div",P0,[(z(!0),$(te,null,Le(Yn(),S=>(z(),$("div",{key:S.id,class:fe(["assignment-item",{"checked-in":S.isCheckedIn,"pending-delete":ne(S.id)}])},[p("div",k0,[p("div",T0,[p("span",{class:"status-indicator",style:Gs({color:vi(S).color}),title:vi(S).text},J(vi(S).icon),13,I0),p("strong",null,J(Xn(S.locationId)),1),ne(S.id)?(z(),$("span",L0,"Will be removed")):St("",!0)]),S.isCheckedIn?(z(),$("span",A0,[je(J(Eo(S.checkInTime))+" ",1),p("span",M0,"("+J(S.checkInMethod)+")",1)])):St("",!0),p("span",R0,J(vi(S).text),1)]),p("div",O0,[p("button",{onClick:at=>yi(S),class:fe(["btn btn-small",S.isCheckedIn?"btn-danger":"btn-secondary"])},J(S.isCheckedIn?"Undo":"Check in"),11,D0),p("button",{onClick:at=>Vt(S),class:fe(["btn btn-small",ne(S.id)?"btn-secondary":"btn-danger"])},J(ne(S.id)?"Undo":"Remove"),11,N0)])],2))),128)),(z(!0),$(te,null,Le(C.value,S=>(z(),$("div",{key:`pending-${S.locationId}`,class:"assignment-item pending-add"},[p("div",B0,[p("div",F0,[v[97]||(v[97]=p("span",{class:"status-indicator",style:{color:"#666"}},"",-1)),p("strong",null,J(Xn(S.locationId)),1),v[98]||(v[98]=p("span",{class:"pending-badge"},"Will be added",-1))])]),p("div",z0,[p("button",{onClick:at=>Qn(S.locationId),class:"btn btn-small btn-danger"}," Remove ",8,$0)])]))),128)),p("div",U0,[v[100]||(v[100]=p("label",null,"Assign to checkpoint",-1)),Zt(p("select",{"onUpdate:modelValue":v[47]||(v[47]=S=>nt.value=S),class:"form-input"},[v[99]||(v[99]=p("option",{value:""},"Select a checkpoint...",-1)),(z(!0),$(te,null,Le(jt.value,S=>(z(),$("option",{key:S.id,value:S.id},J(S.name),9,H0))),128))],512),[[Yo,nt.value]]),p("button",{onClick:Wi,class:"btn btn-secondary",style:{"margin-top":"0.5rem",width:"100%"},disabled:!nt.value}," Assign to checkpoint ",8,Z0)])])])):St("",!0),p("div",W0,[p("button",{type:"button",onClick:Zr,class:"btn btn-primary"},J(_t.value?"Save changes":"Add marshal"),1),_t.value?(z(),$("button",{key:0,type:"button",onClick:Wr,class:"btn btn-danger"}," Delete marshal ")):St("",!0)])])])):St("",!0),Wt(pw,{show:Q.value,importing:gt.value,error:ht.value,result:j.value,isDirty:ut.value,onClose:ti,onSubmit:Mn,"onUpdate:isDirty":Ut},null,8,["show","importing","error","result","isDirty"]),yt.value?(z(),$("div",{key:3,class:"modal",onClick:v[53]||(v[53]=se(S=>yt.value=!1,["self"]))},[p("div",j0,[p("button",{onClick:v[49]||(v[49]=S=>yt.value=!1),class:"modal-close-btn"},""),v[102]||(v[102]=p("h2",null,"Marshal already assigned",-1)),p("p",null,[p("strong",null,J(It.value.marshalName),1),v[101]||(v[101]=je(" is currently assigned to: ",-1))]),p("ul",V0,[(z(!0),$(te,null,Le(It.value.locations,S=>(z(),$("li",{key:S},J(S),1))),128))]),v[103]||(v[103]=p("p",null,"What would you like to do?",-1)),p("div",q0,[p("button",{onClick:v[50]||(v[50]=S=>bn("move")),class:"btn btn-primary",style:{width:"100%"}}," Move to this checkpoint (remove from others) "),p("button",{onClick:v[51]||(v[51]=S=>bn("both")),class:"btn btn-secondary",style:{width:"100%"}}," Assign to both (keep existing assignments) "),p("button",{onClick:v[52]||(v[52]=S=>bn("cancel")),class:"btn btn-secondary",style:{width:"100%"}}," Cancel ")])])])):St("",!0),tt.value?(z(),$("div",{key:4,class:"modal",onClick:se($e,["self"])},[p("div",G0,[p("button",{onClick:$e,class:"modal-close-btn"},""),p("h2",null,J(wt.value?"Create new marshal":`Assign marshal to ${m.value?.name}`),1),wt.value?(z(),$("div",Y0,[v[110]||(v[110]=p("h3",null,"Create new marshal",-1)),p("div",Q0,[v[107]||(v[107]=p("label",null,"Name *",-1)),Zt(p("input",{"onUpdate:modelValue":v[56]||(v[56]=S=>ee.value.name=S),type:"text",required:"",class:"form-input"},null,512),[[ie,ee.value.name]])]),p("div",tS,[v[108]||(v[108]=p("label",null,"Email",-1)),Zt(p("input",{"onUpdate:modelValue":v[57]||(v[57]=S=>ee.value.email=S),type:"email",class:"form-input"},null,512),[[ie,ee.value.email]])]),p("div",eS,[v[109]||(v[109]=p("label",null,"Phone",-1)),Zt(p("input",{"onUpdate:modelValue":v[58]||(v[58]=S=>ee.value.phoneNumber=S),type:"tel",class:"form-input"},null,512),[[ie,ee.value.phoneNumber]])]),p("div",{class:"modal-actions"},[p("button",{onClick:he,class:"btn btn-primary"}," Create & assign "),p("button",{onClick:xs,class:"btn btn-secondary"}," Cancel ")])])):(z(),$("div",K0,[v[105]||(v[105]=p("h3",null,"Select existing marshal",-1)),Zt(p("select",{"onUpdate:modelValue":v[54]||(v[54]=S=>bt.value=S),class:"form-input"},[v[104]||(v[104]=p("option",{value:""},"Choose a marshal...",-1)),(z(!0),$(te,null,Le(Pe.value,S=>(z(),$("option",{key:S.id,value:S.id},[je(J(S.name)+" ",1),S.assignedLocationIds.length>0?(z(),$(te,{key:0},[je(" (assigned to "+J(S.assignedLocationIds.length)+" checkpoint"+J(S.assignedLocationIds.length>1?"s":"")+") ",1)],64)):St("",!0)],8,J0))),128))],512),[[Yo,bt.value]]),p("button",{onClick:Ss,class:"btn btn-primary",style:{"margin-top":"1rem",width:"100%"},disabled:!bt.value}," Assign selected marshal ",8,X0),v[106]||(v[106]=p("div",{style:{"text-align":"center",margin:"1.5rem 0",color:"#666","font-weight":"600"}},"OR",-1)),p("button",{onClick:v[55]||(v[55]=S=>wt.value=!0),class:"btn btn-secondary",style:{width:"100%"}}," Create new marshal ")]))])])):St("",!0),Lt.value?(z(),$("div",nS,[p("div",iS,[p("h3",null,"Move checkpoint: "+J(xt.value.name),1),v[111]||(v[111]=p("p",null,"Click on the map to set the new location for this checkpoint",-1)),p("div",{class:"move-checkpoint-actions"},[p("button",{onClick:wo,class:"btn btn-danger"}," Cancel ")])])])):St("",!0),Wt(Ow,{show:D.value,title:U.value,message:N.value,onClose:v[59]||(v[59]=S=>D.value=!1)},null,8,["show","title","message"]),Wt(pi,{show:st.value,title:ot.value,message:et.value,onConfirm:ze,onCancel:Ge},null,8,["show","title","message"])]))}},oS=Fe(sS,[["__scopeId","data-v-ef29ccdc"]]),rS={class:"marshal-view"},aS={class:"header"},lS={key:0},cS={class:"container"},uS={key:0,class:"selection-card"},hS={key:0,class:"loading"},dS={key:1,class:"marshal-list"},fS=["onClick"],pS={key:1,class:"dashboard"},mS={class:"welcome-card"},_S={class:"assignment-card"},gS={class:"location-info"},vS={key:0,class:"checked-in-status"},yS={class:"check-time"},bS={class:"check-method"},wS={key:1,class:"check-in-actions"},CS=["disabled"],SS=["disabled"],xS={key:0,class:"error"},ES={class:"map-card"},PS={class:"modal-content emergency-modal"},kS={key:0,class:"emergency-contacts-list"},TS={class:"contact-details"},IS={class:"info-section"},LS=["href"],AS={key:0,class:"info-section"},MS=["href"],RS={key:1,class:"no-contacts"},OS={class:"modal-actions"},DS={__name:"MarshalView",setup(t){const n=nd(),i=bl(),o=H(null),r=H([]),l=H([]),c=H(null),h=H(null),f=H(!0),_=H(!1),m=H(null),y=H(!1),b=H(null),P=H(!1),k=H(""),A=H(""),B=H(null),Y=Ee(()=>h.value?{lat:h.value.latitude,lng:h.value.longitude}:{lat:51.505,lng:-.09}),X=async()=>{f.value=!0;try{await i.fetchEvent(n.params.eventId),o.value=i.currentEvent,await i.fetchAssignments(n.params.eventId),r.value=i.assignments;const ht=await i.fetchEventStatus(n.params.eventId);l.value=ht.locations}catch(ht){console.error("Failed to load event data:",ht)}finally{f.value=!1}},G=ht=>{c.value=ht,h.value=l.value.find(W=>W.id===ht.locationId),localStorage.setItem(`marshal_${n.params.eventId}`,ht.id),"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(W=>{b.value={lat:W.coords.latitude,lng:W.coords.longitude}},W=>{console.warn("Geolocation error:",W)})},Q=()=>{c.value=null,h.value=null,localStorage.removeItem(`marshal_${n.params.eventId}`)},q=async()=>{_.value=!0,m.value=null;try{if(!("geolocation"in navigator))throw new Error("Geolocation is not supported by your browser");const ht=await new Promise((j,vt)=>{navigator.geolocation.getCurrentPosition(j,vt,{enableHighAccuracy:!0,timeout:1e4})}),W=await os.checkIn({assignmentId:c.value.id,latitude:ht.coords.latitude,longitude:ht.coords.longitude,manualCheckIn:!1});c.value=W.data,await X()}catch(ht){ht.response?.data?.message?m.value=ht.response.data.message:ht.message?m.value=ht.message:m.value="Failed to check in. Please try manual check-in."}finally{_.value=!1}},K=async()=>{k.value="Manual Check-In",A.value="Are you sure you want to check in manually? This should only be used if GPS is not available.",B.value=async()=>{_.value=!0,m.value=null;try{const ht=await os.checkIn({assignmentId:c.value.id,latitude:null,longitude:null,manualCheckIn:!0});c.value=ht.data,await X()}catch{m.value="Failed to check in manually. Please contact the admin."}finally{_.value=!1}},P.value=!0},lt=()=>{P.value=!1,B.value&&(B.value(),B.value=null)},mt=()=>{P.value=!1,B.value=null},gt=ht=>ht?new Date(ht).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"";return lo(async()=>{await X();const ht=localStorage.getItem(`marshal_${n.params.eventId}`);if(ht){const W=r.value.find(j=>j.id===ht);W&&G(W)}}),(ht,W)=>(z(),$("div",rS,[p("header",aS,[o.value?(z(),$("h1",lS,J(o.value.name),1)):St("",!0),c.value?(z(),$("button",{key:1,onClick:W[0]||(W[0]=j=>y.value=!0),class:"btn-emergency"}," Emergency Info ")):St("",!0)]),p("div",cS,[c.value?(z(),$("div",pS,[p("div",mS,[p("h2",null,"Welcome, "+J(c.value.marshalName)+"!",1),p("button",{onClick:Q,class:"btn-link"},"Not you? Click here")]),p("div",_S,[W[7]||(W[7]=p("h3",null,"Your Assignment",-1)),p("div",gS,[p("strong",null,J(h.value?.name),1),p("p",null,J(h.value?.description),1)]),c.value.isCheckedIn?(z(),$("div",vS,[W[6]||(W[6]=p("span",{class:"check-icon"},"",-1)),p("div",null,[W[5]||(W[5]=p("strong",null,"Checked In",-1)),p("p",yS,J(gt(c.value.checkInTime)),1),p("p",bS,"Method: "+J(c.value.checkInMethod),1)])])):(z(),$("div",wS,[p("button",{onClick:q,class:"btn btn-primary btn-large",disabled:_.value},J(_.value?"Checking in...":"Check In with GPS"),9,CS),p("button",{onClick:K,class:"btn btn-secondary",disabled:_.value}," Manual Check-In ",8,SS),m.value?(z(),$("div",xS,J(m.value),1)):St("",!0)]))]),p("div",ES,[W[8]||(W[8]=p("h3",null,"All Locations",-1)),Wt(Ad,{locations:l.value,center:Y.value,zoom:14},null,8,["locations","center"])])])):(z(),$("div",uS,[W[3]||(W[3]=p("h2",null,"Who are you?",-1)),W[4]||(W[4]=p("p",{class:"instruction"},"Select your name to view your assignment",-1)),f.value?(z(),$("div",hS,"Loading...")):(z(),$("div",dS,[(z(!0),$(te,null,Le(r.value,j=>(z(),$("button",{key:j.id,onClick:vt=>G(j),class:"marshal-button"},J(j.marshalName),9,fS))),128))]))]))]),y.value?(z(),$("div",{key:0,class:"modal",onClick:W[2]||(W[2]=se(j=>y.value=!1,["self"]))},[p("div",PS,[W[12]||(W[12]=p("h2",null,"Emergency Contact Information",-1)),o.value.emergencyContacts&&o.value.emergencyContacts.length>0?(z(),$("div",kS,[(z(!0),$(te,null,Le(o.value.emergencyContacts,(j,vt)=>(z(),$("div",{key:vt,class:"emergency-contact-item"},[p("h3",null,J(j.name),1),p("div",TS,[p("div",IS,[W[9]||(W[9]=p("label",null,"Phone Number",-1)),p("a",{href:`tel:${j.phone}`,class:"phone-link"},J(j.phone),9,LS)]),j.details?(z(),$("div",AS,[W[10]||(W[10]=p("label",null,"Details",-1)),p("p",null,J(j.details),1)])):St("",!0)]),p("a",{href:`tel:${j.phone}`,class:"btn btn-danger btn-full"}," Call "+J(j.name),9,MS)]))),128))])):(z(),$("div",RS,[...W[11]||(W[11]=[p("p",null,"No emergency contacts have been set up for this event.",-1)])])),p("div",OS,[p("button",{onClick:W[1]||(W[1]=j=>y.value=!1),class:"btn btn-secondary"},"Close")])])])):St("",!0),Wt(pi,{show:P.value,title:k.value,message:A.value,onConfirm:lt,onCancel:mt},null,8,["show","title","message"])]))}},NS=Fe(DS,[["__scopeId","data-v-66b6570a"]]),BS=[{path:"/",name:"Home",component:yg},{path:"/admin/login",name:"AdminLogin",component:ny},{path:"/admin/dashboard",name:"AdminDashboard",component:Zy,meta:{requiresAuth:!0}},{path:"/admin/event/:eventId",name:"AdminEventManage",component:oS,meta:{requiresAuth:!0}},{path:"/event/:eventId",name:"MarshalView",component:NS}],Md=fg({history:j_("/VolunteerCheckin/testing/"),routes:BS});Md.beforeEach((t,n,i)=>{const o=localStorage.getItem("adminEmail");t.meta.requiresAuth&&!o?i({name:"AdminLogin"}):i()});const xl=Km(a_);xl.use(Ym());xl.use(Md);xl.mount("#app");
